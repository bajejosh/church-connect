function bm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Xu={exports:{}},Bi={},Zu={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),_m=Symbol.for("react.portal"),Nm=Symbol.for("react.fragment"),Sm=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),Pm=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),$m=Symbol.for("react.memo"),Om=Symbol.for("react.lazy"),uc=Symbol.iterator;function Lm(e){return e===null||typeof e!="object"?null:(e=uc&&e[uc]||e["@@iterator"],typeof e=="function"?e:null)}var ed={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},td=Object.assign,rd={};function wn(e,t,r){this.props=e,this.context=t,this.refs=rd,this.updater=r||ed}wn.prototype.isReactComponent={};wn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nd(){}nd.prototype=wn.prototype;function rl(e,t,r){this.props=e,this.context=t,this.refs=rd,this.updater=r||ed}var nl=rl.prototype=new nd;nl.constructor=rl;td(nl,wn.prototype);nl.isPureReactComponent=!0;var dc=Array.isArray,sd=Object.prototype.hasOwnProperty,sl={current:null},id={key:!0,ref:!0,__self:!0,__source:!0};function ad(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)sd.call(t,n)&&!id.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:_s,type:e,key:i,ref:o,props:s,_owner:sl.current}}function Rm(e,t){return{$$typeof:_s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function il(e){return typeof e=="object"&&e!==null&&e.$$typeof===_s}function Am(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hc=/\/+/g;function ga(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Am(""+e.key):t.toString(36)}function Xs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _s:case _m:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ga(o,0):n,dc(s)?(r="",e!=null&&(r=e.replace(hc,"$&/")+"/"),Xs(s,t,r,"",function(u){return u})):s!=null&&(il(s)&&(s=Rm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",dc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ga(i,l);o+=Xs(i,t,r,c,s)}else if(c=Lm(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ga(i,l++),o+=Xs(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $s(e,t,r){if(e==null)return e;var n=[],s=0;return Xs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Im(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},Zs={transition:null},Mm={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Zs,ReactCurrentOwner:sl};function od(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:$s,forEach:function(e,t,r){$s(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $s(e,function(){t++}),t},toArray:function(e){return $s(e,function(t){return t})||[]},only:function(e){if(!il(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=wn;K.Fragment=Nm;K.Profiler=km;K.PureComponent=rl;K.StrictMode=Sm;K.Suspense=Tm;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm;K.act=od;K.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=td({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=sl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)sd.call(t,c)&&!id.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:_s,type:e.type,key:s,ref:i,props:n,_owner:o}};K.createContext=function(e){return e={$$typeof:Em,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cm,_context:e},e.Consumer=e};K.createElement=ad;K.createFactory=function(e){var t=ad.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:Pm,render:e}};K.isValidElement=il;K.lazy=function(e){return{$$typeof:Om,_payload:{_status:-1,_result:e},_init:Im}};K.memo=function(e,t){return{$$typeof:$m,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=Zs.transition;Zs.transition={};try{e()}finally{Zs.transition=t}};K.unstable_act=od;K.useCallback=function(e,t){return Ae.current.useCallback(e,t)};K.useContext=function(e){return Ae.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ae.current.useEffect(e,t)};K.useId=function(){return Ae.current.useId()};K.useImperativeHandle=function(e,t,r){return Ae.current.useImperativeHandle(e,t,r)};K.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ae.current.useMemo(e,t)};K.useReducer=function(e,t,r){return Ae.current.useReducer(e,t,r)};K.useRef=function(e){return Ae.current.useRef(e)};K.useState=function(e){return Ae.current.useState(e)};K.useSyncExternalStore=function(e,t,r){return Ae.current.useSyncExternalStore(e,t,r)};K.useTransition=function(){return Ae.current.useTransition()};K.version="18.3.1";Zu.exports=K;var y=Zu.exports;const Pt=Ui(y),Dm=bm({__proto__:null,default:Pt},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=y,Fm=Symbol.for("react.element"),Um=Symbol.for("react.fragment"),Bm=Object.prototype.hasOwnProperty,Vm=zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hm={key:!0,ref:!0,__self:!0,__source:!0};function ld(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Bm.call(t,n)&&!Hm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Fm,type:e,key:i,ref:o,props:s,_owner:Vm.current}}Bi.Fragment=Um;Bi.jsx=ld;Bi.jsxs=ld;Xu.exports=Bi;var a=Xu.exports,Ja={},cd={exports:{}},Xe={},ud={exports:{}},dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,E){var O=N.length;N.push(E);e:for(;0<O;){var z=O-1>>>1,V=N[z];if(0<s(V,E))N[z]=E,N[O]=V,O=z;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var E=N[0],O=N.pop();if(O!==E){N[0]=O;e:for(var z=0,V=N.length,G=V>>>1;z<G;){var te=2*(z+1)-1,we=N[te],Ce=te+1,Q=N[Ce];if(0>s(we,O))Ce<V&&0>s(Q,we)?(N[z]=Q,N[Ce]=O,z=Ce):(N[z]=we,N[te]=O,z=te);else if(Ce<V&&0>s(Q,O))N[z]=Q,N[Ce]=O,z=Ce;else break e}}return E}function s(N,E){var O=N.sortIndex-E.sortIndex;return O!==0?O:N.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,m=3,v=!1,w=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var E=r(u);E!==null;){if(E.callback===null)n(u);else if(E.startTime<=N)n(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=r(u)}}function b(N){if(x=!1,g(N),!w)if(r(c)!==null)w=!0,A(j);else{var E=r(u);E!==null&&F(b,E.startTime-N)}}function j(N,E){w=!1,x&&(x=!1,p(_),_=-1),v=!0;var O=m;try{for(g(E),d=r(c);d!==null&&(!(d.expirationTime>E)||N&&!T());){var z=d.callback;if(typeof z=="function"){d.callback=null,m=d.priorityLevel;var V=z(d.expirationTime<=E);E=e.unstable_now(),typeof V=="function"?d.callback=V:d===r(c)&&n(c),g(E)}else n(c);d=r(c)}if(d!==null)var G=!0;else{var te=r(u);te!==null&&F(b,te.startTime-E),G=!1}return G}finally{d=null,m=O,v=!1}}var C=!1,S=null,_=-1,L=5,R=-1;function T(){return!(e.unstable_now()-R<L)}function M(){if(S!==null){var N=e.unstable_now();R=N;var E=!0;try{E=S(!0,N)}finally{E?B():(C=!1,S=null)}}else C=!1}var B;if(typeof f=="function")B=function(){f(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,P=$.port2;$.port1.onmessage=M,B=function(){P.postMessage(null)}}else B=function(){k(M,0)};function A(N){S=N,C||(C=!0,B())}function F(N,E){_=k(function(){N(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,A(j))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var E=3;break;default:E=m}var O=m;m=E;try{return N()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,E){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var O=m;m=N;try{return E()}finally{m=O}},e.unstable_scheduleCallback=function(N,E,O){var z=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?z+O:z):O=z,N){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=O+V,N={id:h++,callback:E,priorityLevel:N,startTime:O,expirationTime:V,sortIndex:-1},O>z?(N.sortIndex=O,t(u,N),r(c)===null&&N===r(u)&&(x?(p(_),_=-1):x=!0,F(b,O-z))):(N.sortIndex=V,t(c,N),w||v||(w=!0,A(j))),N},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(N){var E=m;return function(){var O=m;m=E;try{return N.apply(this,arguments)}finally{m=O}}}})(dd);ud.exports=dd;var qm=ud.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=y,Qe=qm;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hd=new Set,ts={};function Tr(e,t){cn(e,t),cn(e+"Capture",t)}function cn(e,t){for(ts[e]=t,e=0;e<t.length;e++)hd.add(t[e])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=Object.prototype.hasOwnProperty,Gm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fc={},mc={};function Km(e){return Ya.call(mc,e)?!0:Ya.call(fc,e)?!1:Gm.test(e)?mc[e]=!0:(fc[e]=!0,!1)}function Jm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ym(e,t,r,n){if(t===null||typeof t>"u"||Jm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var al=/[\-:]([a-z])/g;function ol(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(al,ol);ke[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(al,ol);ke[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(al,ol);ke[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function ll(e,t,r,n){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ym(t,r,s,n)&&(r=null),n||s===null?Km(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Mt=Wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Ur=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),cl=Symbol.for("react.strict_mode"),Qa=Symbol.for("react.profiler"),fd=Symbol.for("react.provider"),md=Symbol.for("react.context"),ul=Symbol.for("react.forward_ref"),Xa=Symbol.for("react.suspense"),Za=Symbol.for("react.suspense_list"),dl=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),pd=Symbol.for("react.offscreen"),pc=Symbol.iterator;function Cn(e){return e===null||typeof e!="object"?null:(e=pc&&e[pc]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,va;function Mn(e){if(va===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);va=t&&t[1]||""}return`
`+va+e}var ya=!1;function xa(e,t){if(!e||ya)return"";ya=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ya=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Mn(e):""}function Qm(e){switch(e.tag){case 5:return Mn(e.type);case 16:return Mn("Lazy");case 13:return Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 2:case 15:return e=xa(e.type,!1),e;case 11:return e=xa(e.type.render,!1),e;case 1:return e=xa(e.type,!0),e;default:return""}}function eo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Br:return"Fragment";case Ur:return"Portal";case Qa:return"Profiler";case cl:return"StrictMode";case Xa:return"Suspense";case Za:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case md:return(e.displayName||"Context")+".Consumer";case fd:return(e._context.displayName||"Context")+".Provider";case ul:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dl:return t=e.displayName||null,t!==null?t:eo(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return eo(e(t))}catch{}}return null}function Xm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eo(t);case 8:return t===cl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zm(e){var t=gd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ls(e){e._valueTracker||(e._valueTracker=Zm(e))}function vd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function to(e,t){var r=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=or(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yd(e,t){t=t.checked,t!=null&&ll(e,"checked",t,!1)}function ro(e,t){yd(e,t);var r=or(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?no(e,t.type,r):t.hasOwnProperty("defaultValue")&&no(e,t.type,or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function no(e,t,r){(t!=="number"||di(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dn=Array.isArray;function en(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+or(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function so(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(D(92));if(Dn(r)){if(1<r.length)throw Error(D(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:or(r)}}function xd(e,t){var r=or(t.value),n=or(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rs,bd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rs=Rs||document.createElement("div"),Rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e0=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(e){e0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bn[t]=Bn[e]})});function jd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bn.hasOwnProperty(e)&&Bn[e]?(""+t).trim():t+"px"}function _d(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=jd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var t0=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(e,t){if(t){if(t0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=null;function hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var co=null,tn=null,rn=null;function wc(e){if(e=ks(e)){if(typeof co!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Gi(t),co(e.stateNode,e.type,t))}}function Nd(e){tn?rn?rn.push(e):rn=[e]:tn=e}function Sd(){if(tn){var e=tn,t=rn;if(rn=tn=null,wc(e),t)for(e=0;e<t.length;e++)wc(t[e])}}function kd(e,t){return e(t)}function Cd(){}var wa=!1;function Ed(e,t,r){if(wa)return e(t,r);wa=!0;try{return kd(e,t,r)}finally{wa=!1,(tn!==null||rn!==null)&&(Cd(),Sd())}}function ns(e,t){var r=e.stateNode;if(r===null)return null;var n=Gi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var uo=!1;if(Ot)try{var En={};Object.defineProperty(En,"passive",{get:function(){uo=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{uo=!1}function r0(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Vn=!1,hi=null,fi=!1,ho=null,n0={onError:function(e){Vn=!0,hi=e}};function s0(e,t,r,n,s,i,o,l,c){Vn=!1,hi=null,r0.apply(n0,arguments)}function i0(e,t,r,n,s,i,o,l,c){if(s0.apply(this,arguments),Vn){if(Vn){var u=hi;Vn=!1,hi=null}else throw Error(D(198));fi||(fi=!0,ho=u)}}function $r(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Pd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bc(e){if($r(e)!==e)throw Error(D(188))}function a0(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bc(s),e;if(i===n)return bc(s),t;i=i.sibling}throw Error(D(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function Td(e){return e=a0(e),e!==null?$d(e):null}function $d(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$d(e);if(t!==null)return t;e=e.sibling}return null}var Od=Qe.unstable_scheduleCallback,jc=Qe.unstable_cancelCallback,o0=Qe.unstable_shouldYield,l0=Qe.unstable_requestPaint,pe=Qe.unstable_now,c0=Qe.unstable_getCurrentPriorityLevel,fl=Qe.unstable_ImmediatePriority,Ld=Qe.unstable_UserBlockingPriority,mi=Qe.unstable_NormalPriority,u0=Qe.unstable_LowPriority,Rd=Qe.unstable_IdlePriority,Vi=null,bt=null;function d0(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Vi,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:m0,h0=Math.log,f0=Math.LN2;function m0(e){return e>>>=0,e===0?32:31-(h0(e)/f0|0)|0}var As=64,Is=4194304;function zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=zn(l):(i&=o,i!==0&&(n=zn(i)))}else o=r&~s,o!==0?n=zn(o):i!==0&&(n=zn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mt(t),s=1<<r,n|=e[r],t&=~s;return n}function p0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-mt(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=p0(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function fo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ad(){var e=As;return As<<=1,!(As&4194240)&&(As=64),e}function ba(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ns(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=r}function v0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ml(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var X=0;function Id(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Md,pl,Dd,zd,Fd,mo=!1,Ms=[],Qt=null,Xt=null,Zt=null,ss=new Map,is=new Map,qt=[],y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _c(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":is.delete(t.pointerId)}}function Pn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ks(t),t!==null&&pl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function x0(e,t,r,n,s){switch(t){case"focusin":return Qt=Pn(Qt,e,t,r,n,s),!0;case"dragenter":return Xt=Pn(Xt,e,t,r,n,s),!0;case"mouseover":return Zt=Pn(Zt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ss.set(i,Pn(ss.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,is.set(i,Pn(is.get(i)||null,e,t,r,n,s)),!0}return!1}function Ud(e){var t=wr(e.target);if(t!==null){var r=$r(t);if(r!==null){if(t=r.tag,t===13){if(t=Pd(r),t!==null){e.blockedOn=t,Fd(e.priority,function(){Dd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ei(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=po(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);lo=n,r.target.dispatchEvent(n),lo=null}else return t=ks(r),t!==null&&pl(t),e.blockedOn=r,!1;t.shift()}return!0}function Nc(e,t,r){ei(e)&&r.delete(t)}function w0(){mo=!1,Qt!==null&&ei(Qt)&&(Qt=null),Xt!==null&&ei(Xt)&&(Xt=null),Zt!==null&&ei(Zt)&&(Zt=null),ss.forEach(Nc),is.forEach(Nc)}function Tn(e,t){e.blockedOn===t&&(e.blockedOn=null,mo||(mo=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,w0)))}function as(e){function t(s){return Tn(s,e)}if(0<Ms.length){Tn(Ms[0],e);for(var r=1;r<Ms.length;r++){var n=Ms[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qt!==null&&Tn(Qt,e),Xt!==null&&Tn(Xt,e),Zt!==null&&Tn(Zt,e),ss.forEach(t),is.forEach(t),r=0;r<qt.length;r++)n=qt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qt.length&&(r=qt[0],r.blockedOn===null);)Ud(r),r.blockedOn===null&&qt.shift()}var nn=Mt.ReactCurrentBatchConfig,gi=!0;function b0(e,t,r,n){var s=X,i=nn.transition;nn.transition=null;try{X=1,gl(e,t,r,n)}finally{X=s,nn.transition=i}}function j0(e,t,r,n){var s=X,i=nn.transition;nn.transition=null;try{X=4,gl(e,t,r,n)}finally{X=s,nn.transition=i}}function gl(e,t,r,n){if(gi){var s=po(e,t,r,n);if(s===null)$a(e,t,n,vi,r),_c(e,n);else if(x0(s,e,t,r,n))n.stopPropagation();else if(_c(e,n),t&4&&-1<y0.indexOf(e)){for(;s!==null;){var i=ks(s);if(i!==null&&Md(i),i=po(e,t,r,n),i===null&&$a(e,t,n,vi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else $a(e,t,n,null,r)}}var vi=null;function po(e,t,r,n){if(vi=null,e=hl(n),e=wr(e),e!==null)if(t=$r(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Pd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vi=e,null}function Bd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c0()){case fl:return 1;case Ld:return 4;case mi:case u0:return 16;case Rd:return 536870912;default:return 16}default:return 16}}var Kt=null,vl=null,ti=null;function Vd(){if(ti)return ti;var e,t=vl,r=t.length,n,s="value"in Kt?Kt.value:Kt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ti=s.slice(e,1<n?1-n:void 0)}function ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Sc(){return!1}function Ze(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ds:Sc,this.isPropagationStopped=Sc,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Ze(bn),Ss=de({},bn,{view:0,detail:0}),_0=Ze(Ss),ja,_a,$n,Hi=de({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(ja=e.screenX-$n.screenX,_a=e.screenY-$n.screenY):_a=ja=0,$n=e),ja)},movementY:function(e){return"movementY"in e?e.movementY:_a}}),kc=Ze(Hi),N0=de({},Hi,{dataTransfer:0}),S0=Ze(N0),k0=de({},Ss,{relatedTarget:0}),Na=Ze(k0),C0=de({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),E0=Ze(C0),P0=de({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T0=Ze(P0),$0=de({},bn,{data:0}),Cc=Ze($0),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=R0[e])?!!t[e]:!1}function xl(){return A0}var I0=de({},Ss,{key:function(e){if(e.key){var t=O0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(e){return e.type==="keypress"?ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M0=Ze(I0),D0=de({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=Ze(D0),z0=de({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),F0=Ze(z0),U0=de({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=Ze(U0),V0=de({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=Ze(V0),q0=[9,13,27,32],wl=Ot&&"CompositionEvent"in window,Hn=null;Ot&&"documentMode"in document&&(Hn=document.documentMode);var W0=Ot&&"TextEvent"in window&&!Hn,Hd=Ot&&(!wl||Hn&&8<Hn&&11>=Hn),Pc=" ",Tc=!1;function qd(e,t){switch(e){case"keyup":return q0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function G0(e,t){switch(e){case"compositionend":return Wd(t);case"keypress":return t.which!==32?null:(Tc=!0,Pc);case"textInput":return e=t.data,e===Pc&&Tc?null:e;default:return null}}function K0(e,t){if(Vr)return e==="compositionend"||!wl&&qd(e,t)?(e=Vd(),ti=vl=Kt=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hd&&t.locale!=="ko"?null:t.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J0[e.type]:t==="textarea"}function Gd(e,t,r,n){Nd(n),t=yi(t,"onChange"),0<t.length&&(r=new yl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qn=null,os=null;function Y0(e){sh(e,0)}function qi(e){var t=Wr(e);if(vd(t))return e}function Q0(e,t){if(e==="change")return t}var Kd=!1;if(Ot){var Sa;if(Ot){var ka="oninput"in document;if(!ka){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),ka=typeof Oc.oninput=="function"}Sa=ka}else Sa=!1;Kd=Sa&&(!document.documentMode||9<document.documentMode)}function Lc(){qn&&(qn.detachEvent("onpropertychange",Jd),os=qn=null)}function Jd(e){if(e.propertyName==="value"&&qi(os)){var t=[];Gd(t,os,e,hl(e)),Ed(Y0,t)}}function X0(e,t,r){e==="focusin"?(Lc(),qn=t,os=r,qn.attachEvent("onpropertychange",Jd)):e==="focusout"&&Lc()}function Z0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(os)}function ep(e,t){if(e==="click")return qi(t)}function tp(e,t){if(e==="input"||e==="change")return qi(t)}function rp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:rp;function ls(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ya.call(t,s)||!gt(e[s],t[s]))return!1}return!0}function Rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ac(e,t){var r=Rc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rc(r)}}function Yd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qd(){for(var e=window,t=di();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=di(e.document)}return t}function bl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function np(e){var t=Qd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Yd(r.ownerDocument.documentElement,r)){if(n!==null&&bl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ac(r,i);var o=Ac(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sp=Ot&&"documentMode"in document&&11>=document.documentMode,Hr=null,go=null,Wn=null,vo=!1;function Ic(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vo||Hr==null||Hr!==di(n)||(n=Hr,"selectionStart"in n&&bl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wn&&ls(Wn,n)||(Wn=n,n=yi(go,"onSelect"),0<n.length&&(t=new yl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Hr)))}function zs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qr={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},Ca={},Xd={};Ot&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Wi(e){if(Ca[e])return Ca[e];if(!qr[e])return e;var t=qr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xd)return Ca[e]=t[r];return e}var Zd=Wi("animationend"),eh=Wi("animationiteration"),th=Wi("animationstart"),rh=Wi("transitionend"),nh=new Map,Mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){nh.set(e,t),Tr(t,[e])}for(var Ea=0;Ea<Mc.length;Ea++){var Pa=Mc[Ea],ip=Pa.toLowerCase(),ap=Pa[0].toUpperCase()+Pa.slice(1);cr(ip,"on"+ap)}cr(Zd,"onAnimationEnd");cr(eh,"onAnimationIteration");cr(th,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(rh,"onTransitionEnd");cn("onMouseEnter",["mouseout","mouseover"]);cn("onMouseLeave",["mouseout","mouseover"]);cn("onPointerEnter",["pointerout","pointerover"]);cn("onPointerLeave",["pointerout","pointerover"]);Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fn));function Dc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,i0(n,t,void 0,e),e.currentTarget=null}function sh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Dc(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Dc(s,l,u),i=c}}}if(fi)throw e=ho,fi=!1,ho=null,e}function ie(e,t){var r=t[jo];r===void 0&&(r=t[jo]=new Set);var n=e+"__bubble";r.has(n)||(ih(t,e,2,!1),r.add(n))}function Ta(e,t,r){var n=0;t&&(n|=4),ih(r,e,n,t)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[Fs]){e[Fs]=!0,hd.forEach(function(r){r!=="selectionchange"&&(op.has(r)||Ta(r,!1,e),Ta(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fs]||(t[Fs]=!0,Ta("selectionchange",!1,t))}}function ih(e,t,r,n){switch(Bd(t)){case 1:var s=b0;break;case 4:s=j0;break;default:s=gl}r=s.bind(null,t,r,e),s=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function $a(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Ed(function(){var u=i,h=hl(r),d=[];e:{var m=nh.get(e);if(m!==void 0){var v=yl,w=e;switch(e){case"keypress":if(ri(r)===0)break e;case"keydown":case"keyup":v=M0;break;case"focusin":w="focus",v=Na;break;case"focusout":w="blur",v=Na;break;case"beforeblur":case"afterblur":v=Na;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=S0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=F0;break;case Zd:case eh:case th:v=E0;break;case rh:v=B0;break;case"scroll":v=_0;break;case"wheel":v=H0;break;case"copy":case"cut":case"paste":v=T0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ec}var x=(t&4)!==0,k=!x&&e==="scroll",p=x?m!==null?m+"Capture":null:m;x=[];for(var f=u,g;f!==null;){g=f;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,p!==null&&(b=ns(f,p),b!=null&&x.push(us(f,b,g)))),k)break;f=f.return}0<x.length&&(m=new v(m,w,null,r,h),d.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==lo&&(w=r.relatedTarget||r.fromElement)&&(wr(w)||w[Lt]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=u,w=w?wr(w):null,w!==null&&(k=$r(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(x=kc,b="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ec,b="onPointerLeave",p="onPointerEnter",f="pointer"),k=v==null?m:Wr(v),g=w==null?m:Wr(w),m=new x(b,f+"leave",v,r,h),m.target=k,m.relatedTarget=g,b=null,wr(h)===u&&(x=new x(p,f+"enter",w,r,h),x.target=g,x.relatedTarget=k,b=x),k=b,v&&w)t:{for(x=v,p=w,f=0,g=x;g;g=Ir(g))f++;for(g=0,b=p;b;b=Ir(b))g++;for(;0<f-g;)x=Ir(x),f--;for(;0<g-f;)p=Ir(p),g--;for(;f--;){if(x===p||p!==null&&x===p.alternate)break t;x=Ir(x),p=Ir(p)}x=null}else x=null;v!==null&&zc(d,m,v,x,!1),w!==null&&k!==null&&zc(d,k,w,x,!0)}}e:{if(m=u?Wr(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var j=Q0;else if($c(m))if(Kd)j=tp;else{j=Z0;var C=X0}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=ep);if(j&&(j=j(e,u))){Gd(d,j,r,h);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&no(m,"number",m.value)}switch(C=u?Wr(u):window,e){case"focusin":($c(C)||C.contentEditable==="true")&&(Hr=C,go=u,Wn=null);break;case"focusout":Wn=go=Hr=null;break;case"mousedown":vo=!0;break;case"contextmenu":case"mouseup":case"dragend":vo=!1,Ic(d,r,h);break;case"selectionchange":if(sp)break;case"keydown":case"keyup":Ic(d,r,h)}var S;if(wl)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vr?qd(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Hd&&r.locale!=="ko"&&(Vr||_!=="onCompositionStart"?_==="onCompositionEnd"&&Vr&&(S=Vd()):(Kt=h,vl="value"in Kt?Kt.value:Kt.textContent,Vr=!0)),C=yi(u,_),0<C.length&&(_=new Cc(_,e,null,r,h),d.push({event:_,listeners:C}),S?_.data=S:(S=Wd(r),S!==null&&(_.data=S)))),(S=W0?G0(e,r):K0(e,r))&&(u=yi(u,"onBeforeInput"),0<u.length&&(h=new Cc("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=S))}sh(d,t)})}function us(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ns(e,r),i!=null&&n.unshift(us(e,i,s)),i=ns(e,t),i!=null&&n.push(us(e,i,s))),e=e.return}return n}function Ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zc(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ns(r,i),c!=null&&o.unshift(us(r,c,l))):s||(c=ns(r,i),c!=null&&o.push(us(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var lp=/\r\n?/g,cp=/\u0000|\uFFFD/g;function Fc(e){return(typeof e=="string"?e:""+e).replace(lp,`
`).replace(cp,"")}function Us(e,t,r){if(t=Fc(t),Fc(e)!==t&&r)throw Error(D(425))}function xi(){}var yo=null,xo=null;function wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bo=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,Uc=typeof Promise=="function"?Promise:void 0,dp=typeof queueMicrotask=="function"?queueMicrotask:typeof Uc<"u"?function(e){return Uc.resolve(null).then(e).catch(hp)}:bo;function hp(e){setTimeout(function(){throw e})}function Oa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),as(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);as(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jn=Math.random().toString(36).slice(2),wt="__reactFiber$"+jn,ds="__reactProps$"+jn,Lt="__reactContainer$"+jn,jo="__reactEvents$"+jn,fp="__reactListeners$"+jn,mp="__reactHandles$"+jn;function wr(e){var t=e[wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lt]||r[wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bc(e);e!==null;){if(r=e[wt])return r;e=Bc(e)}return t}e=r,r=e.parentNode}return null}function ks(e){return e=e[wt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Gi(e){return e[ds]||null}var _o=[],Gr=-1;function ur(e){return{current:e}}function ae(e){0>Gr||(e.current=_o[Gr],_o[Gr]=null,Gr--)}function se(e,t){Gr++,_o[Gr]=e.current,e.current=t}var lr={},$e=ur(lr),Ue=ur(!1),Sr=lr;function un(e,t){var r=e.type.contextTypes;if(!r)return lr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Be(e){return e=e.childContextTypes,e!=null}function wi(){ae(Ue),ae($e)}function Vc(e,t,r){if($e.current!==lr)throw Error(D(168));se($e,t),se(Ue,r)}function ah(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(D(108,Xm(e)||"Unknown",s));return de({},r,n)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,Sr=$e.current,se($e,e),se(Ue,Ue.current),!0}function Hc(e,t,r){var n=e.stateNode;if(!n)throw Error(D(169));r?(e=ah(e,t,Sr),n.__reactInternalMemoizedMergedChildContext=e,ae(Ue),ae($e),se($e,e)):ae(Ue),se(Ue,r)}var kt=null,Ki=!1,La=!1;function oh(e){kt===null?kt=[e]:kt.push(e)}function pp(e){Ki=!0,oh(e)}function dr(){if(!La&&kt!==null){La=!0;var e=0,t=X;try{var r=kt;for(X=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}kt=null,Ki=!1}catch(s){throw kt!==null&&(kt=kt.slice(e+1)),Od(fl,dr),s}finally{X=t,La=!1}}return null}var Kr=[],Jr=0,ji=null,_i=0,rt=[],nt=0,kr=null,Ct=1,Et="";function pr(e,t){Kr[Jr++]=_i,Kr[Jr++]=ji,ji=e,_i=t}function lh(e,t,r){rt[nt++]=Ct,rt[nt++]=Et,rt[nt++]=kr,kr=e;var n=Ct;e=Et;var s=32-mt(n)-1;n&=~(1<<s),r+=1;var i=32-mt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ct=1<<32-mt(t)+s|r<<s|n,Et=i+e}else Ct=1<<i|r<<s|n,Et=e}function jl(e){e.return!==null&&(pr(e,1),lh(e,1,0))}function _l(e){for(;e===ji;)ji=Kr[--Jr],Kr[Jr]=null,_i=Kr[--Jr],Kr[Jr]=null;for(;e===kr;)kr=rt[--nt],rt[nt]=null,Et=rt[--nt],rt[nt]=null,Ct=rt[--nt],rt[nt]=null}var Ye=null,Je=null,oe=!1,ft=null;function ch(e,t){var r=st(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,Je=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=kr!==null?{id:Ct,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=st(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ye=e,Je=null,!0):!1;default:return!1}}function No(e){return(e.mode&1)!==0&&(e.flags&128)===0}function So(e){if(oe){var t=Je;if(t){var r=t;if(!qc(e,t)){if(No(e))throw Error(D(418));t=er(r.nextSibling);var n=Ye;t&&qc(e,t)?ch(n,r):(e.flags=e.flags&-4097|2,oe=!1,Ye=e)}}else{if(No(e))throw Error(D(418));e.flags=e.flags&-4097|2,oe=!1,Ye=e}}}function Wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function Bs(e){if(e!==Ye)return!1;if(!oe)return Wc(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wo(e.type,e.memoizedProps)),t&&(t=Je)){if(No(e))throw uh(),Error(D(418));for(;t;)ch(e,t),t=er(t.nextSibling)}if(Wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Je=er(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Ye?er(e.stateNode.nextSibling):null;return!0}function uh(){for(var e=Je;e;)e=er(e.nextSibling)}function dn(){Je=Ye=null,oe=!1}function Nl(e){ft===null?ft=[e]:ft.push(e)}var gp=Mt.ReactCurrentBatchConfig;function On(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gc(e){var t=e._init;return t(e._payload)}function dh(e){function t(p,f){if(e){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function r(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function n(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=sr(p,f),p.index=0,p.sibling=null,p}function i(p,f,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,g,b){return f===null||f.tag!==6?(f=Fa(g,p.mode,b),f.return=p,f):(f=s(f,g),f.return=p,f)}function c(p,f,g,b){var j=g.type;return j===Br?h(p,f,g.props.children,b,g.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Bt&&Gc(j)===f.type)?(b=s(f,g.props),b.ref=On(p,f,g),b.return=p,b):(b=ci(g.type,g.key,g.props,null,p.mode,b),b.ref=On(p,f,g),b.return=p,b)}function u(p,f,g,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Ua(g,p.mode,b),f.return=p,f):(f=s(f,g.children||[]),f.return=p,f)}function h(p,f,g,b,j){return f===null||f.tag!==7?(f=Nr(g,p.mode,b,j),f.return=p,f):(f=s(f,g),f.return=p,f)}function d(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Fa(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Os:return g=ci(f.type,f.key,f.props,null,p.mode,g),g.ref=On(p,null,f),g.return=p,g;case Ur:return f=Ua(f,p.mode,g),f.return=p,f;case Bt:var b=f._init;return d(p,b(f._payload),g)}if(Dn(f)||Cn(f))return f=Nr(f,p.mode,g,null),f.return=p,f;Vs(p,f)}return null}function m(p,f,g,b){var j=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:l(p,f,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Os:return g.key===j?c(p,f,g,b):null;case Ur:return g.key===j?u(p,f,g,b):null;case Bt:return j=g._init,m(p,f,j(g._payload),b)}if(Dn(g)||Cn(g))return j!==null?null:h(p,f,g,b,null);Vs(p,g)}return null}function v(p,f,g,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(g)||null,l(f,p,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Os:return p=p.get(b.key===null?g:b.key)||null,c(f,p,b,j);case Ur:return p=p.get(b.key===null?g:b.key)||null,u(f,p,b,j);case Bt:var C=b._init;return v(p,f,g,C(b._payload),j)}if(Dn(b)||Cn(b))return p=p.get(g)||null,h(f,p,b,j,null);Vs(f,b)}return null}function w(p,f,g,b){for(var j=null,C=null,S=f,_=f=0,L=null;S!==null&&_<g.length;_++){S.index>_?(L=S,S=null):L=S.sibling;var R=m(p,S,g[_],b);if(R===null){S===null&&(S=L);break}e&&S&&R.alternate===null&&t(p,S),f=i(R,f,_),C===null?j=R:C.sibling=R,C=R,S=L}if(_===g.length)return r(p,S),oe&&pr(p,_),j;if(S===null){for(;_<g.length;_++)S=d(p,g[_],b),S!==null&&(f=i(S,f,_),C===null?j=S:C.sibling=S,C=S);return oe&&pr(p,_),j}for(S=n(p,S);_<g.length;_++)L=v(S,p,_,g[_],b),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?_:L.key),f=i(L,f,_),C===null?j=L:C.sibling=L,C=L);return e&&S.forEach(function(T){return t(p,T)}),oe&&pr(p,_),j}function x(p,f,g,b){var j=Cn(g);if(typeof j!="function")throw Error(D(150));if(g=j.call(g),g==null)throw Error(D(151));for(var C=j=null,S=f,_=f=0,L=null,R=g.next();S!==null&&!R.done;_++,R=g.next()){S.index>_?(L=S,S=null):L=S.sibling;var T=m(p,S,R.value,b);if(T===null){S===null&&(S=L);break}e&&S&&T.alternate===null&&t(p,S),f=i(T,f,_),C===null?j=T:C.sibling=T,C=T,S=L}if(R.done)return r(p,S),oe&&pr(p,_),j;if(S===null){for(;!R.done;_++,R=g.next())R=d(p,R.value,b),R!==null&&(f=i(R,f,_),C===null?j=R:C.sibling=R,C=R);return oe&&pr(p,_),j}for(S=n(p,S);!R.done;_++,R=g.next())R=v(S,p,_,R.value,b),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?_:R.key),f=i(R,f,_),C===null?j=R:C.sibling=R,C=R);return e&&S.forEach(function(M){return t(p,M)}),oe&&pr(p,_),j}function k(p,f,g,b){if(typeof g=="object"&&g!==null&&g.type===Br&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Os:e:{for(var j=g.key,C=f;C!==null;){if(C.key===j){if(j=g.type,j===Br){if(C.tag===7){r(p,C.sibling),f=s(C,g.props.children),f.return=p,p=f;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Bt&&Gc(j)===C.type){r(p,C.sibling),f=s(C,g.props),f.ref=On(p,C,g),f.return=p,p=f;break e}r(p,C);break}else t(p,C);C=C.sibling}g.type===Br?(f=Nr(g.props.children,p.mode,b,g.key),f.return=p,p=f):(b=ci(g.type,g.key,g.props,null,p.mode,b),b.ref=On(p,f,g),b.return=p,p=b)}return o(p);case Ur:e:{for(C=g.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){r(p,f.sibling),f=s(f,g.children||[]),f.return=p,p=f;break e}else{r(p,f);break}else t(p,f);f=f.sibling}f=Ua(g,p.mode,b),f.return=p,p=f}return o(p);case Bt:return C=g._init,k(p,f,C(g._payload),b)}if(Dn(g))return w(p,f,g,b);if(Cn(g))return x(p,f,g,b);Vs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(r(p,f.sibling),f=s(f,g),f.return=p,p=f):(r(p,f),f=Fa(g,p.mode,b),f.return=p,p=f),o(p)):r(p,f)}return k}var hn=dh(!0),hh=dh(!1),Ni=ur(null),Si=null,Yr=null,Sl=null;function kl(){Sl=Yr=Si=null}function Cl(e){var t=Ni.current;ae(Ni),e._currentValue=t}function ko(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function sn(e,t){Si=e,Sl=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fe=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(Sl!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(Si===null)throw Error(D(308));Yr=e,Si.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var br=null;function El(e){br===null?br=[e]:br.push(e)}function fh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,El(t)):(r.next=s.next,s.next=r),t.interleaved=r,Rt(e,n)}function Rt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vt=!1;function Pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Y&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Rt(e,r)}return s=n.interleaved,s===null?(t.next=t,El(n)):(t.next=s.next,s.next=t),n.interleaved=t,Rt(e,r)}function ni(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ml(e,r)}}function Kc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ki(e,t,r,n){var s=e.updateQueue;Vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,h=u=c=null,l=i;do{var m=l.lane,v=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(m=t,v=r,x.tag){case 1:if(w=x.payload,typeof w=="function"){d=w.call(v,d,m);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(v,d,m):w,m==null)break e;d=de({},d,m);break e;case 2:Vt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=d):h=h.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Er|=o,e.lanes=o,e.memoizedState=d}}function Jc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(D(191,s));s.call(n)}}}var Cs={},jt=ur(Cs),hs=ur(Cs),fs=ur(Cs);function jr(e){if(e===Cs)throw Error(D(174));return e}function Tl(e,t){switch(se(fs,t),se(hs,e),se(jt,Cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=io(t,e)}ae(jt),se(jt,t)}function fn(){ae(jt),ae(hs),ae(fs)}function ph(e){jr(fs.current);var t=jr(jt.current),r=io(t,e.type);t!==r&&(se(hs,e),se(jt,r))}function $l(e){hs.current===e&&(ae(jt),ae(hs))}var le=ur(0);function Ci(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=[];function Ol(){for(var e=0;e<Ra.length;e++)Ra[e]._workInProgressVersionPrimary=null;Ra.length=0}var si=Mt.ReactCurrentDispatcher,Aa=Mt.ReactCurrentBatchConfig,Cr=0,ce=null,ye=null,je=null,Ei=!1,Gn=!1,ms=0,vp=0;function Ee(){throw Error(D(321))}function Ll(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gt(e[r],t[r]))return!1;return!0}function Rl(e,t,r,n,s,i){if(Cr=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,si.current=e===null||e.memoizedState===null?bp:jp,e=r(n,s),Gn){i=0;do{if(Gn=!1,ms=0,25<=i)throw Error(D(301));i+=1,je=ye=null,t.updateQueue=null,si.current=_p,e=r(n,s)}while(Gn)}if(si.current=Pi,t=ye!==null&&ye.next!==null,Cr=0,je=ye=ce=null,Ei=!1,t)throw Error(D(300));return e}function Al(){var e=ms!==0;return ms=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ce.memoizedState=je=e:je=je.next=e,je}function ot(){if(ye===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=je===null?ce.memoizedState:je.next;if(t!==null)je=t,ye=e;else{if(e===null)throw Error(D(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},je===null?ce.memoizedState=je=e:je=je.next=e}return je}function ps(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=ot(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=ye,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((Cr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,ce.lanes|=h,Er|=h}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,gt(n,t.memoizedState)||(Fe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ce.lanes|=i,Er|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ma(e){var t=ot(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);gt(i,t.memoizedState)||(Fe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function gh(){}function vh(e,t){var r=ce,n=ot(),s=t(),i=!gt(n.memoizedState,s);if(i&&(n.memoizedState=s,Fe=!0),n=n.queue,Il(wh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||je!==null&&je.memoizedState.tag&1){if(r.flags|=2048,gs(9,xh.bind(null,r,n,s,t),void 0,null),_e===null)throw Error(D(349));Cr&30||yh(r,t,s)}return s}function yh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xh(e,t,r,n){t.value=r,t.getSnapshot=n,bh(t)&&jh(e)}function wh(e,t,r){return r(function(){bh(t)&&jh(e)})}function bh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gt(e,r)}catch{return!0}}function jh(e){var t=Rt(e,1);t!==null&&pt(t,e,1,-1)}function Yc(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t.queue=e,e=e.dispatch=wp.bind(null,ce,e),[t.memoizedState,e]}function gs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _h(){return ot().memoizedState}function ii(e,t,r,n){var s=xt();ce.flags|=e,s.memoizedState=gs(1|t,r,void 0,n===void 0?null:n)}function Ji(e,t,r,n){var s=ot();n=n===void 0?null:n;var i=void 0;if(ye!==null){var o=ye.memoizedState;if(i=o.destroy,n!==null&&Ll(n,o.deps)){s.memoizedState=gs(t,r,i,n);return}}ce.flags|=e,s.memoizedState=gs(1|t,r,i,n)}function Qc(e,t){return ii(8390656,8,e,t)}function Il(e,t){return Ji(2048,8,e,t)}function Nh(e,t){return Ji(4,2,e,t)}function Sh(e,t){return Ji(4,4,e,t)}function kh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ch(e,t,r){return r=r!=null?r.concat([e]):null,Ji(4,4,kh.bind(null,t,e),r)}function Ml(){}function Eh(e,t){var r=ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ll(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ph(e,t){var r=ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ll(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Th(e,t,r){return Cr&21?(gt(r,t)||(r=Ad(),ce.lanes|=r,Er|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=r)}function yp(e,t){var r=X;X=r!==0&&4>r?r:4,e(!0);var n=Aa.transition;Aa.transition={};try{e(!1),t()}finally{X=r,Aa.transition=n}}function $h(){return ot().memoizedState}function xp(e,t,r){var n=nr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Oh(e))Lh(t,r);else if(r=fh(e,t,r,n),r!==null){var s=Re();pt(r,e,n,s),Rh(r,t,n)}}function wp(e,t,r){var n=nr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Oh(e))Lh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,gt(l,o)){var c=t.interleaved;c===null?(s.next=s,El(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=fh(e,t,s,n),r!==null&&(s=Re(),pt(r,e,n,s),Rh(r,t,n))}}function Oh(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Lh(e,t){Gn=Ei=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ml(e,r)}}var Pi={readContext:at,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},bp={readContext:at,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:Qc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ii(4194308,4,kh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return ii(4,2,e,t)},useMemo:function(e,t){var r=xt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xp.bind(null,ce,e),[n.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:Yc,useDebugValue:Ml,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=Yc(!1),t=e[0];return e=yp.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ce,s=xt();if(oe){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),_e===null)throw Error(D(349));Cr&30||yh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Qc(wh.bind(null,n,i,e),[e]),n.flags|=2048,gs(9,xh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xt(),t=_e.identifierPrefix;if(oe){var r=Et,n=Ct;r=(n&~(1<<32-mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ms++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jp={readContext:at,useCallback:Eh,useContext:at,useEffect:Il,useImperativeHandle:Ch,useInsertionEffect:Nh,useLayoutEffect:Sh,useMemo:Ph,useReducer:Ia,useRef:_h,useState:function(){return Ia(ps)},useDebugValue:Ml,useDeferredValue:function(e){var t=ot();return Th(t,ye.memoizedState,e)},useTransition:function(){var e=Ia(ps)[0],t=ot().memoizedState;return[e,t]},useMutableSource:gh,useSyncExternalStore:vh,useId:$h,unstable_isNewReconciler:!1},_p={readContext:at,useCallback:Eh,useContext:at,useEffect:Il,useImperativeHandle:Ch,useInsertionEffect:Nh,useLayoutEffect:Sh,useMemo:Ph,useReducer:Ma,useRef:_h,useState:function(){return Ma(ps)},useDebugValue:Ml,useDeferredValue:function(e){var t=ot();return ye===null?t.memoizedState=e:Th(t,ye.memoizedState,e)},useTransition:function(){var e=Ma(ps)[0],t=ot().memoizedState;return[e,t]},useMutableSource:gh,useSyncExternalStore:vh,useId:$h,unstable_isNewReconciler:!1};function ut(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Co(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:de({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yi={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Re(),s=nr(e),i=Tt(n,s);i.payload=t,r!=null&&(i.callback=r),t=tr(e,i,s),t!==null&&(pt(t,e,s,n),ni(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Re(),s=nr(e),i=Tt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=tr(e,i,s),t!==null&&(pt(t,e,s,n),ni(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Re(),n=nr(e),s=Tt(r,n);s.tag=2,t!=null&&(s.callback=t),t=tr(e,s,n),t!==null&&(pt(t,e,n,r),ni(t,e,n))}};function Xc(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ls(r,n)||!ls(s,i):!0}function Ah(e,t,r){var n=!1,s=lr,i=t.contextType;return typeof i=="object"&&i!==null?i=at(i):(s=Be(t)?Sr:$e.current,n=t.contextTypes,i=(n=n!=null)?un(e,s):lr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Zc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Yi.enqueueReplaceState(t,t.state,null)}function Eo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Pl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=at(i):(i=Be(t)?Sr:$e.current,s.context=un(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Co(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yi.enqueueReplaceState(s,s.state,null),ki(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function mn(e,t){try{var r="",n=t;do r+=Qm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Da(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Po(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Np=typeof WeakMap=="function"?WeakMap:Map;function Ih(e,t,r){r=Tt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$i||($i=!0,zo=n),Po(e,t)},r}function Mh(e,t,r){r=Tt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Po(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Po(e,t),typeof n!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function eu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Np;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Dp.bind(null,e,t,r),t.then(e,e))}function tu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ru(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Tt(-1,1),t.tag=2,tr(r,t,1))),r.lanes|=1),e)}var Sp=Mt.ReactCurrentOwner,Fe=!1;function Le(e,t,r,n){t.child=e===null?hh(t,null,r,n):hn(t,e.child,r,n)}function nu(e,t,r,n,s){r=r.render;var i=t.ref;return sn(t,s),n=Rl(e,t,r,n,i,s),r=Al(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(oe&&r&&jl(t),t.flags|=1,Le(e,t,n,s),t.child)}function su(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ql(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Dh(e,t,i,n,s)):(e=ci(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ls,r(o,n)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=sr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Dh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ls(i,n)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Fe=!0);else return t.lanes=e.lanes,At(e,t,s)}return To(e,t,r,n,s)}function zh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Xr,Ke),Ke|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Xr,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,se(Xr,Ke),Ke|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,se(Xr,Ke),Ke|=n;return Le(e,t,s,r),t.child}function Fh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,r,n,s){var i=Be(r)?Sr:$e.current;return i=un(t,i),sn(t,s),r=Rl(e,t,r,n,i,s),n=Al(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(oe&&n&&jl(t),t.flags|=1,Le(e,t,r,s),t.child)}function iu(e,t,r,n,s){if(Be(r)){var i=!0;bi(t)}else i=!1;if(sn(t,s),t.stateNode===null)ai(e,t),Ah(t,r,n),Eo(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Be(r)?Sr:$e.current,u=un(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Zc(t,o,n,u),Vt=!1;var m=t.memoizedState;o.state=m,ki(t,n,o,s),c=t.memoizedState,l!==n||m!==c||Ue.current||Vt?(typeof h=="function"&&(Co(t,r,h,n),c=t.memoizedState),(l=Vt||Xc(t,r,l,n,m,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,mh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ut(t.type,l),o.props=u,d=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=at(c):(c=Be(r)?Sr:$e.current,c=un(t,c));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||m!==c)&&Zc(t,o,n,c),Vt=!1,m=t.memoizedState,o.state=m,ki(t,n,o,s);var w=t.memoizedState;l!==d||m!==w||Ue.current||Vt?(typeof v=="function"&&(Co(t,r,v,n),w=t.memoizedState),(u=Vt||Xc(t,r,u,n,m,w,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return $o(e,t,r,n,i,s)}function $o(e,t,r,n,s,i){Fh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Hc(t,r,!1),At(e,t,i);n=t.stateNode,Sp.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=hn(t,e.child,null,i),t.child=hn(t,null,l,i)):Le(e,t,l,i),t.memoizedState=n.state,s&&Hc(t,r,!0),t.child}function Uh(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),Tl(e,t.containerInfo)}function au(e,t,r,n,s){return dn(),Nl(s),t.flags|=256,Le(e,t,r,n),t.child}var Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bh(e,t,r){var n=t.pendingProps,s=le.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),se(le,s&1),e===null)return So(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zi(o,n,0,null),e=Nr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Lo(r),t.memoizedState=Oo,e):Dl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return kp(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=sr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=sr(l,i):(i=Nr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Lo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Oo,n}return i=e.child,e=i.sibling,n=sr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Dl(e,t){return t=Zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hs(e,t,r,n){return n!==null&&Nl(n),hn(t,e.child,null,r),e=Dl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kp(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Da(Error(D(422))),Hs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Zi({mode:"visible",children:n.children},s,0,null),i=Nr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hn(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,i);if(!(t.mode&1))return Hs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(D(419)),n=Da(i,n,void 0),Hs(e,t,o,n)}if(l=(o&e.childLanes)!==0,Fe||l){if(n=_e,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rt(e,s),pt(n,e,s,-1))}return Hl(),n=Da(Error(D(421))),Hs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=zp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Je=er(s.nextSibling),Ye=t,oe=!0,ft=null,e!==null&&(rt[nt++]=Ct,rt[nt++]=Et,rt[nt++]=kr,Ct=e.id,Et=e.overflow,kr=t),t=Dl(t,n.children),t.flags|=4096,t)}function ou(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ko(e.return,t,r)}function za(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Vh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Le(e,t,n.children,r),n=le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ou(e,r,t);else if(e.tag===19)ou(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(se(le,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ci(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),za(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ci(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}za(t,!0,r,null,i);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=sr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Cp(e,t,r){switch(t.tag){case 3:Uh(t),dn();break;case 5:ph(t);break;case 1:Be(t.type)&&bi(t);break;case 4:Tl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;se(Ni,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(se(le,le.current&1),t.flags|=128,null):r&t.child.childLanes?Bh(e,t,r):(se(le,le.current&1),e=At(e,t,r),e!==null?e.sibling:null);se(le,le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Vh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(le,le.current),n)break;return null;case 22:case 23:return t.lanes=0,zh(e,t,r)}return At(e,t,r)}var Hh,Ro,qh,Wh;Hh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ro=function(){};qh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,jr(jt.current);var i=null;switch(r){case"input":s=to(e,s),n=to(e,n),i=[];break;case"select":s=de({},s,{value:void 0}),n=de({},n,{value:void 0}),i=[];break;case"textarea":s=so(e,s),n=so(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xi)}ao(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ts.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ts.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Wh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ln(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ep(e,t,r){var n=t.pendingProps;switch(_l(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Be(t.type)&&wi(),Pe(t),null;case 3:return n=t.stateNode,fn(),ae(Ue),ae($e),Ol(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Bo(ft),ft=null))),Ro(e,t),Pe(t),null;case 5:$l(t);var s=jr(fs.current);if(r=t.type,e!==null&&t.stateNode!=null)qh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(D(166));return Pe(t),null}if(e=jr(jt.current),Bs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wt]=t,n[ds]=i,e=(t.mode&1)!==0,r){case"dialog":ie("cancel",n),ie("close",n);break;case"iframe":case"object":case"embed":ie("load",n);break;case"video":case"audio":for(s=0;s<Fn.length;s++)ie(Fn[s],n);break;case"source":ie("error",n);break;case"img":case"image":case"link":ie("error",n),ie("load",n);break;case"details":ie("toggle",n);break;case"input":gc(n,i),ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ie("invalid",n);break;case"textarea":yc(n,i),ie("invalid",n)}ao(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Us(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Us(n.textContent,l,e),s=["children",""+l]):ts.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ie("scroll",n)}switch(r){case"input":Ls(n),vc(n,i,!0);break;case"textarea":Ls(n),xc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[wt]=t,e[ds]=n,Hh(e,t,!1,!1),t.stateNode=e;e:{switch(o=oo(r,n),r){case"dialog":ie("cancel",e),ie("close",e),s=n;break;case"iframe":case"object":case"embed":ie("load",e),s=n;break;case"video":case"audio":for(s=0;s<Fn.length;s++)ie(Fn[s],e);s=n;break;case"source":ie("error",e),s=n;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=n;break;case"details":ie("toggle",e),s=n;break;case"input":gc(e,n),s=to(e,n),ie("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=de({},n,{value:void 0}),ie("invalid",e);break;case"textarea":yc(e,n),s=so(e,n),ie("invalid",e);break;default:s=n}ao(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?_d(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bd(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&rs(e,c):typeof c=="number"&&rs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ts.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ie("scroll",e):c!=null&&ll(e,i,c,o))}switch(r){case"input":Ls(e),vc(e,n,!1);break;case"textarea":Ls(e),xc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+or(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?en(e,!!n.multiple,i,!1):n.defaultValue!=null&&en(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)Wh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(r=jr(fs.current),jr(jt.current),Bs(t)){if(n=t.stateNode,r=t.memoizedProps,n[wt]=t,(i=n.nodeValue!==r)&&(e=Ye,e!==null))switch(e.tag){case 3:Us(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Us(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wt]=t,t.stateNode=n}return Pe(t),null;case 13:if(ae(le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Je!==null&&t.mode&1&&!(t.flags&128))uh(),dn(),t.flags|=98560,i=!1;else if(i=Bs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[wt]=t}else dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),i=!1}else ft!==null&&(Bo(ft),ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?xe===0&&(xe=3):Hl())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return fn(),Ro(e,t),e===null&&cs(t.stateNode.containerInfo),Pe(t),null;case 10:return Cl(t.type._context),Pe(t),null;case 17:return Be(t.type)&&wi(),Pe(t),null;case 19:if(ae(le),i=t.memoizedState,i===null)return Pe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ln(i,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ci(e),o!==null){for(t.flags|=128,Ln(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>pn&&(t.flags|=128,n=!0,Ln(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ci(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ln(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!oe)return Pe(t),null}else 2*pe()-i.renderingStartTime>pn&&r!==1073741824&&(t.flags|=128,n=!0,Ln(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,r=le.current,se(le,n?r&1|2:r&1),t):(Pe(t),null);case 22:case 23:return Vl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ke&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Pp(e,t){switch(_l(t),t.tag){case 1:return Be(t.type)&&wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(),ae(Ue),ae($e),Ol(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $l(t),null;case 13:if(ae(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(le),null;case 4:return fn(),null;case 10:return Cl(t.type._context),null;case 22:case 23:return Vl(),null;case 24:return null;default:return null}}var qs=!1,Te=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,H=null;function Qr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fe(e,t,n)}else r.current=null}function Ao(e,t,r){try{r()}catch(n){fe(e,t,n)}}var lu=!1;function $p(e,t){if(yo=gi,e=Qd(),bl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,m=null;t:for(;;){for(var v;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)m=d,d=v;for(;;){if(d===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++h===n&&(c=o),(v=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xo={focusedElem:e,selectionRange:r},gi=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,k=w.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:ut(t.type,x),k);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(b){fe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return w=lu,lu=!1,w}function Kn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ao(t,r,i)}s=s.next}while(s!==n)}}function Qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Io(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gh(e){var t=e.alternate;t!==null&&(e.alternate=null,Gh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[ds],delete t[jo],delete t[fp],delete t[mp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kh(e){return e.tag===5||e.tag===3||e.tag===4}function cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xi));else if(n!==4&&(e=e.child,e!==null))for(Mo(e,t,r),e=e.sibling;e!==null;)Mo(e,t,r),e=e.sibling}function Do(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Do(e,t,r),e=e.sibling;e!==null;)Do(e,t,r),e=e.sibling}var Ne=null,dt=!1;function zt(e,t,r){for(r=r.child;r!==null;)Jh(e,t,r),r=r.sibling}function Jh(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Vi,r)}catch{}switch(r.tag){case 5:Te||Qr(r,t);case 6:var n=Ne,s=dt;Ne=null,zt(e,t,r),Ne=n,dt=s,Ne!==null&&(dt?(e=Ne,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ne.removeChild(r.stateNode));break;case 18:Ne!==null&&(dt?(e=Ne,r=r.stateNode,e.nodeType===8?Oa(e.parentNode,r):e.nodeType===1&&Oa(e,r),as(e)):Oa(Ne,r.stateNode));break;case 4:n=Ne,s=dt,Ne=r.stateNode.containerInfo,dt=!0,zt(e,t,r),Ne=n,dt=s;break;case 0:case 11:case 14:case 15:if(!Te&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ao(r,t,o),s=s.next}while(s!==n)}zt(e,t,r);break;case 1:if(!Te&&(Qr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fe(r,t,l)}zt(e,t,r);break;case 21:zt(e,t,r);break;case 22:r.mode&1?(Te=(n=Te)||r.memoizedState!==null,zt(e,t,r),Te=n):zt(e,t,r);break;default:zt(e,t,r)}}function uu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Tp),t.forEach(function(n){var s=Fp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ct(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ne=l.stateNode,dt=!1;break e;case 3:Ne=l.stateNode.containerInfo,dt=!0;break e;case 4:Ne=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(Ne===null)throw Error(D(160));Jh(i,o,s),Ne=null,dt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){fe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yh(t,e),t=t.sibling}function Yh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),vt(e),n&4){try{Kn(3,e,e.return),Qi(3,e)}catch(x){fe(e,e.return,x)}try{Kn(5,e,e.return)}catch(x){fe(e,e.return,x)}}break;case 1:ct(t,e),vt(e),n&512&&r!==null&&Qr(r,r.return);break;case 5:if(ct(t,e),vt(e),n&512&&r!==null&&Qr(r,r.return),e.flags&32){var s=e.stateNode;try{rs(s,"")}catch(x){fe(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&yd(s,i),oo(l,o);var u=oo(l,i);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?_d(s,d):h==="dangerouslySetInnerHTML"?bd(s,d):h==="children"?rs(s,d):ll(s,h,d,u)}switch(l){case"input":ro(s,i);break;case"textarea":xd(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?en(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?en(s,!!i.multiple,i.defaultValue,!0):en(s,!!i.multiple,i.multiple?[]:"",!1))}s[ds]=i}catch(x){fe(e,e.return,x)}}break;case 6:if(ct(t,e),vt(e),n&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){fe(e,e.return,x)}}break;case 3:if(ct(t,e),vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{as(t.containerInfo)}catch(x){fe(e,e.return,x)}break;case 4:ct(t,e),vt(e);break;case 13:ct(t,e),vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ul=pe())),n&4&&uu(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Te=(u=Te)||h,ct(t,e),Te=u):ct(t,e),vt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(H=e,h=e.child;h!==null;){for(d=H=h;H!==null;){switch(m=H,v=m.child,m.tag){case 0:case 11:case 14:case 15:Kn(4,m,m.return);break;case 1:Qr(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){fe(n,r,x)}}break;case 5:Qr(m,m.return);break;case 22:if(m.memoizedState!==null){hu(d);continue}}v!==null?(v.return=m,H=v):hu(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jd("display",o))}catch(x){fe(e,e.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){fe(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ct(t,e),vt(e),n&4&&uu(e);break;case 21:break;default:ct(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Kh(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(rs(s,""),n.flags&=-33);var i=cu(e);Do(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=cu(e);Mo(e,l,o);break;default:throw Error(D(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Op(e,t,r){H=e,Qh(e)}function Qh(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||qs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Te;l=qs;var u=Te;if(qs=o,(Te=c)&&!u)for(H=s;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?fu(s):c!==null?(c.return=o,H=c):fu(s);for(;i!==null;)H=i,Qh(i),i=i.sibling;H=s,qs=l,Te=u}du(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):du(e)}}function du(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||Qi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Te)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ut(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Jc(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jc(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&as(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Te||t.flags&512&&Io(t)}catch(m){fe(t,t.return,m)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function hu(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function fu(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qi(4,t)}catch(c){fe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){fe(t,s,c)}}var i=t.return;try{Io(t)}catch(c){fe(t,i,c)}break;case 5:var o=t.return;try{Io(t)}catch(c){fe(t,o,c)}}}catch(c){fe(t,t.return,c)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var Lp=Math.ceil,Ti=Mt.ReactCurrentDispatcher,zl=Mt.ReactCurrentOwner,it=Mt.ReactCurrentBatchConfig,Y=0,_e=null,ge=null,Se=0,Ke=0,Xr=ur(0),xe=0,vs=null,Er=0,Xi=0,Fl=0,Jn=null,De=null,Ul=0,pn=1/0,Nt=null,$i=!1,zo=null,rr=null,Ws=!1,Jt=null,Oi=0,Yn=0,Fo=null,oi=-1,li=0;function Re(){return Y&6?pe():oi!==-1?oi:oi=pe()}function nr(e){return e.mode&1?Y&2&&Se!==0?Se&-Se:gp.transition!==null?(li===0&&(li=Ad()),li):(e=X,e!==0||(e=window.event,e=e===void 0?16:Bd(e.type)),e):1}function pt(e,t,r,n){if(50<Yn)throw Yn=0,Fo=null,Error(D(185));Ns(e,r,n),(!(Y&2)||e!==_e)&&(e===_e&&(!(Y&2)&&(Xi|=r),xe===4&&Wt(e,Se)),Ve(e,n),r===1&&Y===0&&!(t.mode&1)&&(pn=pe()+500,Ki&&dr()))}function Ve(e,t){var r=e.callbackNode;g0(e,t);var n=pi(e,e===_e?Se:0);if(n===0)r!==null&&jc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jc(r),t===1)e.tag===0?pp(mu.bind(null,e)):oh(mu.bind(null,e)),dp(function(){!(Y&6)&&dr()}),r=null;else{switch(Id(n)){case 1:r=fl;break;case 4:r=Ld;break;case 16:r=mi;break;case 536870912:r=Rd;break;default:r=mi}r=af(r,Xh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Xh(e,t){if(oi=-1,li=0,Y&6)throw Error(D(327));var r=e.callbackNode;if(an()&&e.callbackNode!==r)return null;var n=pi(e,e===_e?Se:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Li(e,n);else{t=n;var s=Y;Y|=2;var i=ef();(_e!==e||Se!==t)&&(Nt=null,pn=pe()+500,_r(e,t));do try{Ip();break}catch(l){Zh(e,l)}while(!0);kl(),Ti.current=i,Y=s,ge!==null?t=0:(_e=null,Se=0,t=xe)}if(t!==0){if(t===2&&(s=fo(e),s!==0&&(n=s,t=Uo(e,s))),t===1)throw r=vs,_r(e,0),Wt(e,n),Ve(e,pe()),r;if(t===6)Wt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Rp(s)&&(t=Li(e,n),t===2&&(i=fo(e),i!==0&&(n=i,t=Uo(e,i))),t===1))throw r=vs,_r(e,0),Wt(e,n),Ve(e,pe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(D(345));case 2:gr(e,De,Nt);break;case 3:if(Wt(e,n),(n&130023424)===n&&(t=Ul+500-pe(),10<t)){if(pi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bo(gr.bind(null,e,De,Nt),t);break}gr(e,De,Nt);break;case 4:if(Wt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-mt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Lp(n/1960))-n,10<n){e.timeoutHandle=bo(gr.bind(null,e,De,Nt),n);break}gr(e,De,Nt);break;case 5:gr(e,De,Nt);break;default:throw Error(D(329))}}}return Ve(e,pe()),e.callbackNode===r?Xh.bind(null,e):null}function Uo(e,t){var r=Jn;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Li(e,t),e!==2&&(t=De,De=r,t!==null&&Bo(t)),e}function Bo(e){De===null?De=e:De.push.apply(De,e)}function Rp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!gt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~Fl,t&=~Xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mt(t),n=1<<r;e[r]=-1,t&=~n}}function mu(e){if(Y&6)throw Error(D(327));an();var t=pi(e,0);if(!(t&1))return Ve(e,pe()),null;var r=Li(e,t);if(e.tag!==0&&r===2){var n=fo(e);n!==0&&(t=n,r=Uo(e,n))}if(r===1)throw r=vs,_r(e,0),Wt(e,t),Ve(e,pe()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gr(e,De,Nt),Ve(e,pe()),null}function Bl(e,t){var r=Y;Y|=1;try{return e(t)}finally{Y=r,Y===0&&(pn=pe()+500,Ki&&dr())}}function Pr(e){Jt!==null&&Jt.tag===0&&!(Y&6)&&an();var t=Y;Y|=1;var r=it.transition,n=X;try{if(it.transition=null,X=1,e)return e()}finally{X=n,it.transition=r,Y=t,!(Y&6)&&dr()}}function Vl(){Ke=Xr.current,ae(Xr)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,up(r)),ge!==null)for(r=ge.return;r!==null;){var n=r;switch(_l(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wi();break;case 3:fn(),ae(Ue),ae($e),Ol();break;case 5:$l(n);break;case 4:fn();break;case 13:ae(le);break;case 19:ae(le);break;case 10:Cl(n.type._context);break;case 22:case 23:Vl()}r=r.return}if(_e=e,ge=e=sr(e.current,null),Se=Ke=t,xe=0,vs=null,Fl=Xi=Er=0,De=Jn=null,br!==null){for(t=0;t<br.length;t++)if(r=br[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}br=null}return e}function Zh(e,t){do{var r=ge;try{if(kl(),si.current=Pi,Ei){for(var n=ce.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ei=!1}if(Cr=0,je=ye=ce=null,Gn=!1,ms=0,zl.current=null,r===null||r.return===null){xe=1,vs=t,ge=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=tu(o);if(v!==null){v.flags&=-257,ru(v,o,l,i,t),v.mode&1&&eu(i,u,t),t=v,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){eu(i,u,t),Hl();break e}c=Error(D(426))}}else if(oe&&l.mode&1){var k=tu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),ru(k,o,l,i,t),Nl(mn(c,l));break e}}i=c=mn(c,l),xe!==4&&(xe=2),Jn===null?Jn=[i]:Jn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Ih(i,c,t);Kc(i,p);break e;case 1:l=c;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Mh(i,l,t);Kc(i,b);break e}}i=i.return}while(i!==null)}rf(r)}catch(j){t=j,ge===r&&r!==null&&(ge=r=r.return);continue}break}while(!0)}function ef(){var e=Ti.current;return Ti.current=Pi,e===null?Pi:e}function Hl(){(xe===0||xe===3||xe===2)&&(xe=4),_e===null||!(Er&268435455)&&!(Xi&268435455)||Wt(_e,Se)}function Li(e,t){var r=Y;Y|=2;var n=ef();(_e!==e||Se!==t)&&(Nt=null,_r(e,t));do try{Ap();break}catch(s){Zh(e,s)}while(!0);if(kl(),Y=r,Ti.current=n,ge!==null)throw Error(D(261));return _e=null,Se=0,xe}function Ap(){for(;ge!==null;)tf(ge)}function Ip(){for(;ge!==null&&!o0();)tf(ge)}function tf(e){var t=sf(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?rf(e):ge=t,zl.current=null}function rf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Pp(r,t),r!==null){r.flags&=32767,ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,ge=null;return}}else if(r=Ep(r,t,Ke),r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);xe===0&&(xe=5)}function gr(e,t,r){var n=X,s=it.transition;try{it.transition=null,X=1,Mp(e,t,r,n)}finally{it.transition=s,X=n}return null}function Mp(e,t,r,n){do an();while(Jt!==null);if(Y&6)throw Error(D(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(v0(e,i),e===_e&&(ge=_e=null,Se=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ws||(Ws=!0,af(mi,function(){return an(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=X;X=1;var l=Y;Y|=4,zl.current=null,$p(e,r),Yh(r,e),np(xo),gi=!!yo,xo=yo=null,e.current=r,Op(r),l0(),Y=l,X=o,it.transition=i}else e.current=r;if(Ws&&(Ws=!1,Jt=e,Oi=s),i=e.pendingLanes,i===0&&(rr=null),d0(r.stateNode),Ve(e,pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if($i)throw $i=!1,e=zo,zo=null,e;return Oi&1&&e.tag!==0&&an(),i=e.pendingLanes,i&1?e===Fo?Yn++:(Yn=0,Fo=e):Yn=0,dr(),null}function an(){if(Jt!==null){var e=Id(Oi),t=it.transition,r=X;try{if(it.transition=null,X=16>e?16:e,Jt===null)var n=!1;else{if(e=Jt,Jt=null,Oi=0,Y&6)throw Error(D(331));var s=Y;for(Y|=4,H=e.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(H=u;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:Kn(8,h,i)}var d=h.child;if(d!==null)d.return=h,H=d;else for(;H!==null;){h=H;var m=h.sibling,v=h.return;if(Gh(h),h===u){H=null;break}if(m!==null){m.return=v,H=m;break}H=v}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,H=p;break e}H=i.return}}var f=e.current;for(H=f;H!==null;){o=H;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,H=g;else e:for(o=f;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qi(9,l)}}catch(j){fe(l,l.return,j)}if(l===o){H=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,H=b;break e}H=l.return}}if(Y=s,dr(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Vi,e)}catch{}n=!0}return n}finally{X=r,it.transition=t}}return!1}function pu(e,t,r){t=mn(r,t),t=Ih(e,t,1),e=tr(e,t,1),t=Re(),e!==null&&(Ns(e,1,t),Ve(e,t))}function fe(e,t,r){if(e.tag===3)pu(e,e,r);else for(;t!==null;){if(t.tag===3){pu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rr===null||!rr.has(n))){e=mn(r,e),e=Mh(t,e,1),t=tr(t,e,1),e=Re(),t!==null&&(Ns(t,1,e),Ve(t,e));break}}t=t.return}}function Dp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(Se&r)===r&&(xe===4||xe===3&&(Se&130023424)===Se&&500>pe()-Ul?_r(e,0):Fl|=r),Ve(e,t)}function nf(e,t){t===0&&(e.mode&1?(t=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):t=1);var r=Re();e=Rt(e,t),e!==null&&(Ns(e,t,r),Ve(e,r))}function zp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),nf(e,r)}function Fp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(t),nf(e,r)}var sf;sf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)Fe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Fe=!1,Cp(e,t,r);Fe=!!(e.flags&131072)}else Fe=!1,oe&&t.flags&1048576&&lh(t,_i,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ai(e,t),e=t.pendingProps;var s=un(t,$e.current);sn(t,r),s=Rl(null,t,n,e,s,r);var i=Al();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(n)?(i=!0,bi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pl(t),s.updater=Yi,t.stateNode=s,s._reactInternals=t,Eo(t,n,e,r),t=$o(null,t,n,!0,i,r)):(t.tag=0,oe&&i&&jl(t),Le(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ai(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Bp(n),e=ut(n,e),s){case 0:t=To(null,t,n,e,r);break e;case 1:t=iu(null,t,n,e,r);break e;case 11:t=nu(null,t,n,e,r);break e;case 14:t=su(null,t,n,ut(n.type,e),r);break e}throw Error(D(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),To(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),iu(e,t,n,s,r);case 3:e:{if(Uh(t),e===null)throw Error(D(387));n=t.pendingProps,i=t.memoizedState,s=i.element,mh(e,t),ki(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=mn(Error(D(423)),t),t=au(e,t,n,r,s);break e}else if(n!==s){s=mn(Error(D(424)),t),t=au(e,t,n,r,s);break e}else for(Je=er(t.stateNode.containerInfo.firstChild),Ye=t,oe=!0,ft=null,r=hh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dn(),n===s){t=At(e,t,r);break e}Le(e,t,n,r)}t=t.child}return t;case 5:return ph(t),e===null&&So(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,wo(n,s)?o=null:i!==null&&wo(n,i)&&(t.flags|=32),Fh(e,t),Le(e,t,o,r),t.child;case 6:return e===null&&So(t),null;case 13:return Bh(e,t,r);case 4:return Tl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hn(t,null,n,r):Le(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),nu(e,t,n,s,r);case 7:return Le(e,t,t.pendingProps,r),t.child;case 8:return Le(e,t,t.pendingProps.children,r),t.child;case 12:return Le(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,se(Ni,n._currentValue),n._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===s.children&&!Ue.current){t=At(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Tt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ko(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ko(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Le(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,sn(t,r),s=at(s),n=n(s),t.flags|=1,Le(e,t,n,r),t.child;case 14:return n=t.type,s=ut(n,t.pendingProps),s=ut(n.type,s),su(e,t,n,s,r);case 15:return Dh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),ai(e,t),t.tag=1,Be(n)?(e=!0,bi(t)):e=!1,sn(t,r),Ah(t,n,s),Eo(t,n,s,r),$o(null,t,n,!0,e,r);case 19:return Vh(e,t,r);case 22:return zh(e,t,r)}throw Error(D(156,t.tag))};function af(e,t){return Od(e,t)}function Up(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,r,n){return new Up(e,t,r,n)}function ql(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bp(e){if(typeof e=="function")return ql(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ul)return 11;if(e===dl)return 14}return 2}function sr(e,t){var r=e.alternate;return r===null?(r=st(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ci(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ql(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Br:return Nr(r.children,s,i,t);case cl:o=8,s|=8;break;case Qa:return e=st(12,r,t,s|2),e.elementType=Qa,e.lanes=i,e;case Xa:return e=st(13,r,t,s),e.elementType=Xa,e.lanes=i,e;case Za:return e=st(19,r,t,s),e.elementType=Za,e.lanes=i,e;case pd:return Zi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fd:o=10;break e;case md:o=9;break e;case ul:o=11;break e;case dl:o=14;break e;case Bt:o=16,n=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=st(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Nr(e,t,r,n){return e=st(7,e,n,t),e.lanes=r,e}function Zi(e,t,r,n){return e=st(22,e,n,t),e.elementType=pd,e.lanes=r,e.stateNode={isHidden:!1},e}function Fa(e,t,r){return e=st(6,e,null,t),e.lanes=r,e}function Ua(e,t,r){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vp(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wl(e,t,r,n,s,i,o,l,c){return e=new Vp(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=st(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pl(i),e}function Hp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ur,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function of(e){if(!e)return lr;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(Be(r))return ah(e,r,t)}return t}function lf(e,t,r,n,s,i,o,l,c){return e=Wl(r,n,!0,e,s,i,o,l,c),e.context=of(null),r=e.current,n=Re(),s=nr(r),i=Tt(n,s),i.callback=t??null,tr(r,i,s),e.current.lanes=s,Ns(e,s,n),Ve(e,n),e}function ea(e,t,r,n){var s=t.current,i=Re(),o=nr(s);return r=of(r),t.context===null?t.context=r:t.pendingContext=r,t=Tt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=tr(s,t,o),e!==null&&(pt(e,s,o,i),ni(e,s,o)),o}function Ri(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gl(e,t){gu(e,t),(e=e.alternate)&&gu(e,t)}function qp(){return null}var cf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}ta.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));ea(e,t,null,null)};ta.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){ea(null,e,null,null)}),t[Lt]=null}};function ta(e){this._internalRoot=e}ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=zd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qt.length&&t!==0&&t<qt[r].priority;r++);qt.splice(r,0,e),r===0&&Ud(e)}};function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vu(){}function Wp(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ri(o);i.call(u)}}var o=lf(t,n,e,0,null,!1,!1,"",vu);return e._reactRootContainer=o,e[Lt]=o.current,cs(e.nodeType===8?e.parentNode:e),Pr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Ri(c);l.call(u)}}var c=Wl(e,0,!1,null,null,!1,!1,"",vu);return e._reactRootContainer=c,e[Lt]=c.current,cs(e.nodeType===8?e.parentNode:e),Pr(function(){ea(t,c,r,n)}),c}function na(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ri(o);l.call(c)}}ea(t,o,e,s)}else o=Wp(r,t,e,s,n);return Ri(o)}Md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zn(t.pendingLanes);r!==0&&(ml(t,r|1),Ve(t,pe()),!(Y&6)&&(pn=pe()+500,dr()))}break;case 13:Pr(function(){var n=Rt(e,1);if(n!==null){var s=Re();pt(n,e,1,s)}}),Gl(e,1)}};pl=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var r=Re();pt(t,e,134217728,r)}Gl(e,134217728)}};Dd=function(e){if(e.tag===13){var t=nr(e),r=Rt(e,t);if(r!==null){var n=Re();pt(r,e,t,n)}Gl(e,t)}};zd=function(){return X};Fd=function(e,t){var r=X;try{return X=e,t()}finally{X=r}};co=function(e,t,r){switch(t){case"input":if(ro(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Gi(n);if(!s)throw Error(D(90));vd(n),ro(n,s)}}}break;case"textarea":xd(e,r);break;case"select":t=r.value,t!=null&&en(e,!!r.multiple,t,!1)}};kd=Bl;Cd=Pr;var Gp={usingClientEntryPoint:!1,Events:[ks,Wr,Gi,Nd,Sd,Bl]},Rn={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kp={bundleType:Rn.bundleType,version:Rn.version,rendererPackageName:Rn.rendererPackageName,rendererConfig:Rn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Td(e),e===null?null:e.stateNode},findFiberByHostInstance:Rn.findFiberByHostInstance||qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Vi=Gs.inject(Kp),bt=Gs}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gp;Xe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jl(t))throw Error(D(200));return Hp(e,t,null,r)};Xe.createRoot=function(e,t){if(!Jl(e))throw Error(D(299));var r=!1,n="",s=cf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wl(e,1,!1,null,null,r,!1,n,s),e[Lt]=t.current,cs(e.nodeType===8?e.parentNode:e),new Kl(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Td(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return Pr(e)};Xe.hydrate=function(e,t,r){if(!ra(t))throw Error(D(200));return na(null,e,t,!0,r)};Xe.hydrateRoot=function(e,t,r){if(!Jl(e))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=cf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=lf(t,null,e,1,r??null,s,!1,i,o),e[Lt]=t.current,cs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ta(t)};Xe.render=function(e,t,r){if(!ra(t))throw Error(D(200));return na(null,e,t,!1,r)};Xe.unmountComponentAtNode=function(e){if(!ra(e))throw Error(D(40));return e._reactRootContainer?(Pr(function(){na(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};Xe.unstable_batchedUpdates=Bl;Xe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ra(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return na(e,t,r,!1,n)};Xe.version="18.3.1-next-f1338f8080-20240426";function uf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uf)}catch(e){console.error(e)}}uf(),cd.exports=Xe;var Jp=cd.exports,yu=Jp;Ja.createRoot=yu.createRoot,Ja.hydrateRoot=yu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const xu="popstate";function Yp(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:c=""}=Or(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Vo("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Ai(i))}function n(s,i){Yl(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Xp(t,r,n,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qp(){return Math.random().toString(36).substr(2,8)}function wu(e,t){return{usr:e.state,key:e.key,idx:t}}function Vo(e,t,r,n){return r===void 0&&(r=null),ys({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Or(t):t,{state:r,key:t&&t.key||n||Qp()})}function Ai(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Or(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Xp(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Yt.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(ys({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){l=Yt.Pop;let k=h(),p=k==null?null:k-u;u=k,c&&c({action:l,location:x.location,delta:p})}function m(k,p){l=Yt.Push;let f=Vo(x.location,k,p);r&&r(f,k),u=h()+1;let g=wu(f,u),b=x.createHref(f);try{o.pushState(g,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(b)}i&&c&&c({action:l,location:x.location,delta:1})}function v(k,p){l=Yt.Replace;let f=Vo(x.location,k,p);r&&r(f,k),u=h();let g=wu(f,u),b=x.createHref(f);o.replaceState(g,"",b),i&&c&&c({action:l,location:x.location,delta:0})}function w(k){let p=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof k=="string"?k:Ai(k);return f=f.replace(/ $/,"%20"),ue(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let x={get action(){return l},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(xu,d),c=k,()=>{s.removeEventListener(xu,d),c=null}},createHref(k){return t(s,k)},createURL:w,encodeLocation(k){let p=w(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:v,go(k){return o.go(k)}};return x}var bu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bu||(bu={}));function Zp(e,t,r){return r===void 0&&(r="/"),eg(e,t,r)}function eg(e,t,r,n){let s=typeof t=="string"?Or(t):t,i=gn(s.pathname||"/",r);if(i==null)return null;let o=df(e);tg(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=hg(i);l=ug(o[c],u)}return l}function df(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ue(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ir([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),df(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:lg(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of hf(i.path))s(i,o,c)}),t}function hf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=hf(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function tg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:cg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rg=/^:[\w-]+$/,ng=3,sg=2,ig=1,ag=10,og=-2,ju=e=>e==="*";function lg(e,t){let r=e.split("/"),n=r.length;return r.some(ju)&&(n+=og),t&&(n+=sg),r.filter(s=>!ju(s)).reduce((s,i)=>s+(rg.test(i)?ng:i===""?ig:ag),n)}function cg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function ug(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",d=Ho({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ir([i,d.pathname]),pathnameBase:gg(ir([i,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(i=ir([i,d.pathnameBase]))}return o}function Ho(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=dg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let x=l[d]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[d];return v&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function dg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Yl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function hg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function fg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Or(e):e;return{pathname:r?r.startsWith("/")?r:mg(r,t):t,search:vg(n),hash:yg(s)}}function mg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ba(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ql(e,t){let r=pg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Xl(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Or(e):(s=ys({},e),ue(!s.pathname||!s.pathname.includes("?"),Ba("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),Ba("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),Ba("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),d-=1;s.pathname=m.join("/")}l=d>=0?t[d]:"/"}let c=fg(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ir=e=>e.join("/").replace(/\/\/+/g,"/"),gg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ff=["post","put","patch","delete"];new Set(ff);const wg=["get",...ff];new Set(wg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(this,arguments)}const sa=y.createContext(null),mf=y.createContext(null),Dt=y.createContext(null),ia=y.createContext(null),_t=y.createContext({outlet:null,matches:[],isDataRoute:!1}),pf=y.createContext(null);function bg(e,t){let{relative:r}=t===void 0?{}:t;_n()||ue(!1);let{basename:n,navigator:s}=y.useContext(Dt),{hash:i,pathname:o,search:l}=aa(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ir([n,o])),s.createHref({pathname:c,search:l,hash:i})}function _n(){return y.useContext(ia)!=null}function Lr(){return _n()||ue(!1),y.useContext(ia).location}function gf(e){y.useContext(Dt).static||y.useLayoutEffect(e)}function et(){let{isDataRoute:e}=y.useContext(_t);return e?Ig():jg()}function jg(){_n()||ue(!1);let e=y.useContext(sa),{basename:t,future:r,navigator:n}=y.useContext(Dt),{matches:s}=y.useContext(_t),{pathname:i}=Lr(),o=JSON.stringify(Ql(s,r.v7_relativeSplatPath)),l=y.useRef(!1);return gf(()=>{l.current=!0}),y.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Xl(u,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ir([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,o,i,e])}const _g=y.createContext(null);function Ng(e){let t=y.useContext(_t).outlet;return t&&y.createElement(_g.Provider,{value:e},t)}function Es(){let{matches:e}=y.useContext(_t),t=e[e.length-1];return t?t.params:{}}function aa(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Dt),{matches:s}=y.useContext(_t),{pathname:i}=Lr(),o=JSON.stringify(Ql(s,n.v7_relativeSplatPath));return y.useMemo(()=>Xl(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Sg(e,t){return kg(e,t)}function kg(e,t,r,n){_n()||ue(!1);let{navigator:s,static:i}=y.useContext(Dt),{matches:o}=y.useContext(_t),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=Lr(),d;if(t){var m;let p=typeof t=="string"?Or(t):t;u==="/"||(m=p.pathname)!=null&&m.startsWith(u)||ue(!1),d=p}else d=h;let v=d.pathname||"/",w=v;if(u!=="/"){let p=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=Zp(e,{pathname:w}),k=$g(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:ir([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:ir([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,r,n);return t&&k?y.createElement(ia.Provider,{value:{location:xs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yt.Pop}},k):k}function Cg(){let e=Ag(),t=xg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,null)}const Eg=y.createElement(Cg,null);class Pg extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(_t.Provider,{value:this.props.routeContext},y.createElement(pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tg(e){let{routeContext:t,match:r,children:n}=e,s=y.useContext(sa);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(_t.Provider,{value:t},n)}function $g(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||ue(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:v}=r,w=d.route.loader&&m[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,m)=>{let v,w=!1,x=null,k=null;r&&(v=l&&d.route.id?l[d.route.id]:void 0,x=d.route.errorElement||Eg,c&&(u<0&&m===0?(Mg("route-fallback"),w=!0,k=null):u===m&&(w=!0,k=d.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,m+1)),f=()=>{let g;return v?g=x:w?g=k:d.route.Component?g=y.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=h,y.createElement(Tg,{match:d,routeContext:{outlet:h,matches:p,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?y.createElement(Pg,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var vf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vf||{}),yf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yf||{});function Og(e){let t=y.useContext(sa);return t||ue(!1),t}function Lg(e){let t=y.useContext(mf);return t||ue(!1),t}function Rg(e){let t=y.useContext(_t);return t||ue(!1),t}function xf(e){let t=Rg(),r=t.matches[t.matches.length-1];return r.route.id||ue(!1),r.route.id}function Ag(){var e;let t=y.useContext(pf),r=Lg(),n=xf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Ig(){let{router:e}=Og(vf.UseNavigateStable),t=xf(yf.UseNavigateStable),r=y.useRef(!1);return gf(()=>{r.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,xs({fromRouteId:t},i)))},[e,t])}const _u={};function Mg(e,t,r){_u[e]||(_u[e]=!0)}function Dg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wf(e){let{to:t,replace:r,state:n,relative:s}=e;_n()||ue(!1);let{future:i,static:o}=y.useContext(Dt),{matches:l}=y.useContext(_t),{pathname:c}=Lr(),u=et(),h=Xl(t,Ql(l,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(h);return y.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function zg(e){return Ng(e.context)}function he(e){ue(!1)}function Fg(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Yt.Pop,navigator:i,static:o=!1,future:l}=e;_n()&&ue(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:xs({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Or(n));let{pathname:h="/",search:d="",hash:m="",state:v=null,key:w="default"}=n,x=y.useMemo(()=>{let k=gn(h,c);return k==null?null:{location:{pathname:k,search:d,hash:m,state:v,key:w},navigationType:s}},[c,h,d,m,v,w,s]);return x==null?null:y.createElement(Dt.Provider,{value:u},y.createElement(ia.Provider,{children:r,value:x}))}function Ug(e){let{children:t,location:r}=e;return Sg(qo(t),r)}new Promise(()=>{});function qo(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let i=[...t,s];if(n.type===y.Fragment){r.push.apply(r,qo(n.props.children,i));return}n.type!==he&&ue(!1),!n.props.index||!n.props.children||ue(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=qo(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(this,arguments)}function bf(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Bg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Vg(e,t){return e.button===0&&(!t||t==="_self")&&!Bg(e)}const Hg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Wg="6";try{window.__reactRouterVersion=Wg}catch{}const Gg=y.createContext({isTransitioning:!1}),Kg="startTransition",Nu=Dm[Kg];function Jg(e){let{basename:t,children:r,future:n,window:s}=e,i=y.useRef();i.current==null&&(i.current=Yp({window:s,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},h=y.useCallback(d=>{u&&Nu?Nu(()=>c(d)):c(d)},[c,u]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.useEffect(()=>Dg(n),[n]),y.createElement(Fg,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Yg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,me=y.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,m=bf(t,Hg),{basename:v}=y.useContext(Dt),w,x=!1;if(typeof u=="string"&&Qg.test(u)&&(w=u,Yg))try{let g=new URL(window.location.href),b=u.startsWith("//")?new URL(g.protocol+u):new URL(u),j=gn(b.pathname,v);b.origin===g.origin&&j!=null?u=j+b.search+b.hash:x=!0}catch{}let k=bg(u,{relative:s}),p=Zg(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:d});function f(g){n&&n(g),g.defaultPrevented||p(g)}return y.createElement("a",Ii({},m,{href:w||k,onClick:x||i?n:f,ref:r,target:c}))}),yr=y.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:h}=t,d=bf(t,qg),m=aa(c,{relative:d.relative}),v=Lr(),w=y.useContext(mf),{navigator:x,basename:k}=y.useContext(Dt),p=w!=null&&e1(m)&&u===!0,f=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,g=v.pathname,b=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(g=g.toLowerCase(),b=b?b.toLowerCase():null,f=f.toLowerCase()),b&&k&&(b=gn(b,k)||b);const j=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let C=g===f||!o&&g.startsWith(f)&&g.charAt(j)==="/",S=b!=null&&(b===f||!o&&b.startsWith(f)&&b.charAt(f.length)==="/"),_={isActive:C,isPending:S,isTransitioning:p},L=C?n:void 0,R;typeof i=="function"?R=i(_):R=[i,C?"active":null,S?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(_):l;return y.createElement(me,Ii({},d,{"aria-current":L,className:R,ref:r,style:T,to:c,viewTransition:u}),typeof h=="function"?h(_):h)});var Wo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wo||(Wo={}));var Su;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Su||(Su={}));function Xg(e){let t=y.useContext(sa);return t||ue(!1),t}function Zg(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=et(),u=Lr(),h=aa(e,{relative:o});return y.useCallback(d=>{if(Vg(d,r)){d.preventDefault();let m=n!==void 0?n:Ai(u)===Ai(h);c(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,h,n,s,r,e,i,o,l])}function e1(e,t){t===void 0&&(t={});let r=y.useContext(Gg);r==null&&ue(!1);let{basename:n}=Xg(Wo.useViewTransitionState),s=aa(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=gn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=gn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ho(s.pathname,o)!=null||Ho(s.pathname,i)!=null}const t1="modulepreload",r1=function(e){return"/church-connect/"+e},ku={},vn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=r1(c),c in ku)return;ku[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":t1,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((m,v)=>{d.addEventListener("load",m),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},n1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vn(async()=>{const{default:n}=await Promise.resolve().then(()=>Nn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Zl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class s1 extends Zl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i1 extends Zl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class a1 extends Zl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Go;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Go||(Go={}));var o1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class l1{constructor(t,{headers:r={},customFetch:n,region:s=Go.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=n1(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return o1(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new s1(w)}),d=h.headers.get("x-relay-error");if(d&&d==="true")throw new i1(h);if(!h.ok)throw new a1(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield h.json():m==="application/octet-stream"?v=yield h.blob():m==="text/event-stream"?v=h:m==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var ze={},ec={},oa={},Ps={},la={},ca={},c1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yn=c1();const u1=yn.fetch,jf=yn.fetch.bind(yn),_f=yn.Headers,d1=yn.Request,h1=yn.Response,Nn=Object.freeze(Object.defineProperty({__proto__:null,Headers:_f,Request:d1,Response:h1,default:jf,fetch:u1},Symbol.toStringTag,{value:"Module"})),f1=jm(Nn);var ua={};Object.defineProperty(ua,"__esModule",{value:!0});let m1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ua.default=m1;var Nf=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ca,"__esModule",{value:!0});const p1=Nf(f1),g1=Nf(ua);let v1=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=p1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,h=null,d=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=p:h=JSON.parse(p))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&k&&k.length>1&&(d=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,m=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(h=[],u=null,m=200,v="OK")}catch{i.status===404&&x===""?(m=204,v="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&this.shouldThrowOnError)throw new g1.default(u)}return{error:u,data:h,count:d,status:m,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ca.default=v1;var y1=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});const x1=y1(ca);let w1=class extends x1.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};la.default=w1;var b1=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ps,"__esModule",{value:!0});const j1=b1(la);let _1=class extends j1.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ps.default=_1;var N1=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oa,"__esModule",{value:!0});const An=N1(Ps);let S1=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new An.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new An.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new An.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new An.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new An.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};oa.default=S1;var da={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.version=void 0;ha.version="0.0.0-automated";Object.defineProperty(da,"__esModule",{value:!0});da.DEFAULT_HEADERS=void 0;const k1=ha;da.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${k1.version}`};var Sf=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ec,"__esModule",{value:!0});const C1=Sf(oa),E1=Sf(Ps),P1=da;let T1=class kf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},P1.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new C1.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new kf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,d])=>d!==void 0).map(([h,d])=>[h,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([h,d])=>{l.searchParams.append(h,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new E1.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ec.default=T1;var Sn=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ze,"__esModule",{value:!0});ze.PostgrestError=ze.PostgrestBuilder=ze.PostgrestTransformBuilder=ze.PostgrestFilterBuilder=ze.PostgrestQueryBuilder=ze.PostgrestClient=void 0;const Cf=Sn(ec);ze.PostgrestClient=Cf.default;const Ef=Sn(oa);ze.PostgrestQueryBuilder=Ef.default;const Pf=Sn(Ps);ze.PostgrestFilterBuilder=Pf.default;const Tf=Sn(la);ze.PostgrestTransformBuilder=Tf.default;const $f=Sn(ca);ze.PostgrestBuilder=$f.default;const Of=Sn(ua);ze.PostgrestError=Of.default;var $1=ze.default={PostgrestClient:Cf.default,PostgrestQueryBuilder:Ef.default,PostgrestFilterBuilder:Pf.default,PostgrestTransformBuilder:Tf.default,PostgrestBuilder:$f.default,PostgrestError:Of.default};const{PostgrestClient:O1,PostgrestQueryBuilder:i2,PostgrestFilterBuilder:a2,PostgrestTransformBuilder:o2,PostgrestBuilder:l2,PostgrestError:c2}=$1,L1="2.11.2",R1={"X-Client-Info":`realtime-js/${L1}`},A1="1.0.0",Lf=1e4,I1=1e3;var on;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(on||(on={}));var Ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ge||(Ge={}));var ht;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ht||(ht={}));var Ko;(function(e){e.websocket="websocket"})(Ko||(Ko={}));var xr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xr||(xr={}));class M1{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Rf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const Cu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=D1(o,e,t,s),i),{})},D1=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Af(i,o):Jo(o)},Af=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return B1(t,r)}switch(e){case re.bool:return z1(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return F1(t);case re.json:case re.jsonb:return U1(t);case re.timestamp:return V1(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Jo(t);default:return Jo(t)}},Jo=e=>e,z1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},U1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},B1=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Af(t,l))}return e},V1=e=>typeof e=="string"?e.replace(" ","T"):e,If=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Va{constructor(t,r,n={},s=Lf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Eu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Eu||(Eu={}));class Qn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Qn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,h)=>{o[u]||(c[u]=h)}),this.map(o,(u,h)=>{const d=i[u];if(d){const m=h.map(k=>k.presence_ref),v=d.map(k=>k.presence_ref),w=h.filter(k=>v.indexOf(k.presence_ref)<0),x=d.filter(k=>m.indexOf(k.presence_ref)<0);w.length>0&&(l[u]=w),x.length>0&&(c[u]=x)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const d=t[l].map(v=>v.presence_ref),m=h.filter(v=>d.indexOf(v.presence_ref)<0);t[l].unshift(...m)}n(l,h,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Pu||(Pu={}));var Tu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Tu||(Tu={}));var St;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class tc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Va(this,ht.join,this.params,this.timeout),this.rejoinTimer=new Rf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Qn(this),this.broadcastEndpointURL=If(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(h=>t==null?void 0:t(St.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(St.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var d;if(this.socket.setAuth(),h===void 0){t==null||t(St.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(d=m==null?void 0:m.length)!==null&&d!==void 0?d:0,w=[];for(let x=0;x<v;x++){const k=m[x],{filter:{event:p,schema:f,table:g,filter:b}}=k,j=h&&h[x];if(j&&j.event===p&&j.schema===f&&j.table===g&&j.filter===b)w.push(Object.assign(Object.assign({},k),{id:j.id}));else{this.unsubscribe(),t==null||t(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(St.SUBSCRIBED);return}}).receive("error",h=>{t==null||t(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Va(this,ht.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Va(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=ht;if(n&&[l,c,u,h].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,x,k;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(x=v.filter)===null||x===void 0?void 0:x.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(v=>v.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,x,k,p,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const b=v.id,j=(w=v.filter)===null||w===void 0?void 0:w.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const b=(f=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:x,table:k,commit_timestamp:p,type:f,errors:g}=w;m=Object.assign(Object.assign({},{schema:x,table:k,commit_timestamp:p,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(w))}v.callback(m,n)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tc.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ht.close,{},t)}_onError(t){this._on(ht.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Cu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Cu(t.columns,t.old_record)),r}}const H1=()=>{},q1=typeof WebSocket<"u",W1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G1{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=R1,this.params={},this.timeout=Lf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=H1,this.conn=null,this.sendBuffer=[],this.serializer=new M1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>vn(async()=>{const{default:c}=await Promise.resolve().then(()=>Nn);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Ko.websocket}`,this.httpEndpoint=If(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Rf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(q1){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new K1(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),vn(async()=>{const{default:t}=await import("./browser-Bf6CJctq.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:A1}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case on.connecting:return xr.Connecting;case on.open:return xr.Open;case on.closing:return xr.Closing;default:return xr.Closed}}isConnected(){return this.connectionState()===xr.Open}channel(t,r={config:{}}){const n=new tc(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(ht.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(I1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ht.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([W1],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class K1{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=on.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class rc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class J1 extends rc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yo extends rc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Y1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Mf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vn(async()=>{const{default:n}=await Promise.resolve().then(()=>Nn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Q1=()=>Y1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vn(()=>Promise.resolve().then(()=>Nn),void 0)).Response:Response}),Qo=e=>{if(Array.isArray(e))return e.map(r=>Qo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Qo(n)}),t};var Rr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ha=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X1=(e,t,r)=>Rr(void 0,void 0,void 0,function*(){const n=yield Q1();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new J1(Ha(s),e.status||500))}).catch(s=>{t(new Yo(Ha(s),s))}):t(new Yo(Ha(e),e))}),Z1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ts(e,t,r,n,s,i){return Rr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Z1(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>X1(c,l,n))})})}function Mi(e,t,r,n){return Rr(this,void 0,void 0,function*(){return Ts(e,"GET",t,r,n)})}function Ht(e,t,r,n,s){return Rr(this,void 0,void 0,function*(){return Ts(e,"POST",t,n,s,r)})}function ev(e,t,r,n,s){return Rr(this,void 0,void 0,function*(){return Ts(e,"PUT",t,n,s,r)})}function tv(e,t,r,n){return Rr(this,void 0,void 0,function*(){return Ts(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Df(e,t,r,n,s){return Rr(this,void 0,void 0,function*(){return Ts(e,"DELETE",t,n,s,r)})}var Me=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const rv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$u={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nv{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Mf(s)}uploadOrUpdate(t,r,n,s){return Me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$u),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield d.json();return d.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:$u.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:h}),m=yield d.json();return d.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(be(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Me(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ht(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new rc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}update(t,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Me(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ht(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Me(this,void 0,void 0,function*(){try{const s=yield Ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}download(t,r){return Me(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Mi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(be(l))return{data:null,error:l};throw l}})}info(t){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Mi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qo(n),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}exists(t){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield tv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(be(n)&&n instanceof Yo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}list(t,r,n){return Me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},rv),r),{prefix:t||""});return{data:yield Ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const sv="2.7.1",iv={"X-Client-Info":`storage-js/${sv}`};var Mr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class av{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},iv),r),this.fetch=Mf(n)}listBuckets(){return Mr(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return Mr(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Mr(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Mr(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Mr(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Mr(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}}class ov extends av{constructor(t,r={},n){super(t,r,n)}from(t){return new nv(this.url,this.headers,t,this.fetch)}}const lv="2.49.4";let Un="";typeof Deno<"u"?Un="deno":typeof document<"u"?Un="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Un="react-native":Un="node";const cv={"X-Client-Info":`supabase-js-${Un}/${lv}`},uv={headers:cv},dv={schema:"public"},hv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fv={};var mv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const pv=e=>{let t;return e?t=e:typeof fetch>"u"?t=jf:t=fetch,(...r)=>t(...r)},gv=()=>typeof Headers>"u"?_f:Headers,vv=(e,t,r)=>{const n=pv(r),s=gv();return(i,o)=>mv(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var yv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function xv(e){return e.replace(/\/$/,"")}function wv(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,h={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>yv(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const zf="2.69.1",Fr=30*1e3,Xo=3,qa=Xo*Fr,bv="http://localhost:9999",jv="supabase.auth.token",_v={"X-Client-Info":`gotrue-js/${zf}`},Zo="X-Supabase-Api-Version",Ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sv=6e5;class nc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kv extends nc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Cv(e){return W(e)&&e.name==="AuthApiError"}class Uf extends nc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hr extends nc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ft extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ev(e){return W(e)&&e.name==="AuthSessionMissingError"}class Wa extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ks extends hr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Js extends hr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pv(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ou extends hr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class el extends hr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ga(e){return W(e)&&e.name==="AuthRetryableFetchError"}class Lu extends hr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xn extends hr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Au=` 	
\r=`.split(""),Tv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Au.length;t+=1)e[Au[t].charCodeAt(0)]=-2;for(let t=0;t<Ru.length;t+=1)e[Ru[t].charCodeAt(0)]=t;return e})();function Bf(e,t,r){const n=Tv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Iu(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Lv(o,n,r)};for(let o=0;o<e.length;o+=1)Bf(e.charCodeAt(o),s,i);return t.join("")}function $v(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ov(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}$v(n,t)}}function Lv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Rv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Bf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Av(e){const t=[];return Ov(e,r=>t.push(r)),new Uint8Array(t)}function Iv(e){return Math.round(Date.now()/1e3)+e}function Mv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const yt=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Zn=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function Dv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Vf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vn(async()=>{const{default:n}=await Promise.resolve().then(()=>Nn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ys=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qs=async(e,t)=>{await e.removeItem(t)};class fa{constructor(){this.promise=new fa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fa.promiseConstructor=Promise;function Ka(e){const t=e.split(".");if(t.length!==3)throw new Xn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Nv.test(t[n]))throw new Xn("JWT not in base64url format");return{header:JSON.parse(Iu(t[0])),payload:JSON.parse(Iu(t[1])),signature:Rv(t[2]),raw:{header:t[0],payload:t[1]}}}async function Fv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Uv(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Bv(e){return("0"+e.toString(16)).substr(-2)}function Vv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Bv).join("")}async function Hv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function qv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Hv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(e,t,r=!1){const n=Vv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Hf(e,`${t}-code-verifier`,s);const i=await qv(n);return[i,n===i?"plain":"s256"]}const Wv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gv(e){const t=e.headers.get(Zo);if(!t||!t.match(Wv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Jv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Yv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const vr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qv=[502,503,504];async function Mu(e){var t;if(!zv(e))throw new el(vr(e),0);if(Qv.includes(e.status))throw new el(vr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Uf(vr(i),i)}let n;const s=Gv(e);if(s&&s.getTime()>=Ff["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Lu(vr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ft}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lu(vr(r),e.status,r.weak_password.reasons);throw new kv(vr(r),e.status||500,n)}const Xv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function J(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Zo]||(i[Zo]=Ff["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Zv(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Zv(e,t,r,n,s,i){const o=Xv(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new el(vr(c),0)}if(l.ok||await Mu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Mu(c)}}function Ut(e){var t;let r=null;ny(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Iv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Du(e){const t=Ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ey(e){return{data:e,error:null}}function ty(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Yv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ry(e){return e}function ny(e){return e.access_token&&e.refresh_token&&e.expires_in}var sy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class iy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Vf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gt})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=sy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ty,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ry});if(h.error)throw h.error;const d=await h.json(),m=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);u[`${k}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Gt})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gt})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}const ay={getItem:e=>Zn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Zn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Zn()&&globalThis.localStorage.removeItem(e)}};function zu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function oy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zr={debug:!!(globalThis&&Zn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ly extends qf{}async function cy(e,t,r){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ly(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}oy();const uy={url:bv,storageKey:jv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_v,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fu(e,t,r){return await r()}class ws{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ws.nextInstanceID,ws.nextInstanceID+=1,this.instanceID>0&&yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},uy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Vf(s.fetch),this.lock=s.lock||Fu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:yt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=cy:this.lock=Fu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Zn()?this.storage=ay:(this.memoryStorage={},this.storage=zu(this.memoryStorage)):(this.memoryStorage={},this.storage=zu(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Dv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),yt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Pv(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?{error:r}:{error:new Uf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ut}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:h,password:d,options:m}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Dr(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},xform:Ut})}else if("phone"in t){const{phone:h,password:d,options:m}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ut})}else throw new Ks("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Du})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Du})}else throw new Ks("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Wa}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ut});if(await Qs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Wa}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(W(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ut}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Wa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Dr(this.storage,this.storageKey));const{error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Ks("You must provide either an email or phone number.")}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ut});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Dr(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ey})}catch(i){if(W(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ft;const{error:s}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ks("You must provide either an email or phone number and a type")}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<qa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Gt})})}catch(r){if(W(r))return Ev(r)&&(await this._removeSession(),await Qs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ft;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Dr(this.storage,this.storageKey));const{data:u,error:h}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Gt});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ft;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ka(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(W(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ft;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!yt())throw new Js("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Js(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ou("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ou("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Js("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let m=h+d;c&&(m=parseInt(c));const v=m-h;v*1e3<=Fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const w=m-d;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,h);const{data:x,error:k}=await this._getUser(i);if(k)throw k;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(W(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Cv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Qs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Mv(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dr(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(W(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,h;const{data:d,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return yt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(W(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Uv(async s=>(s>0&&await Fv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ut})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ga(i)&&Date.now()+o-n<Fr})}catch(n){if(this._debug(r,"error",n),W(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),yt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ys(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<qa;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${qa}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ga(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fa;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ft;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),W(i)){const o={session:null,error:i};return Ga(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Hf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Qs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fr}ms, refresh threshold is ${Xo} ticks`),s<=Xo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Dr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ka(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Sv>Date.now()))return n;const{data:s,error:i}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Xn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Xn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Ka(n);if(Kv(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const u=Jv(s.alg),h=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",h,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Av(`${l}.${c}`)))throw new Xn("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}}ws.nextInstanceID=0;const dy=ws;class hy extends dy{constructor(t){super(t)}}var fy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class my{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=xv(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:dv,realtime:fv,auth:Object.assign(Object.assign({},hv),{storageKey:c}),global:uv},h=wv(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=vv(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new O1(`${l}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new l1(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ov(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return fy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hy({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new G1(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const py=(e,t,r)=>new my(e,t,r),gy="https://xlsazndxtgqlsyohzjhp.supabase.co",vy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhsc2F6bmR4dGdxbHN5b2h6amhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM4Nzc3MTIsImV4cCI6MjA1OTQ1MzcxMn0.N1oXEwBKFjmiP0zacqY6HTHr-50-PZZjTBUzkkIyub4",I=py(gy,vy),Wf=y.createContext(),Uu=()=>window.location.hostname==="bajejosh.github.io"?"https://bajejosh.github.io/church-connect/#":window.location.origin,yy=({children:e})=>{const[t,r]=y.useState(null),[n,s]=y.useState(!0),[i,o]=y.useState(null);y.useEffect(()=>{(async()=>{var k;try{const{data:p,error:f}=await I.auth.getSession();if(f)throw f;r(((k=p==null?void 0:p.session)==null?void 0:k.user)||null)}catch(p){o(p.message)}finally{s(!1)}})();const{data:{subscription:x}}=I.auth.onAuthStateChange((k,p)=>{r((p==null?void 0:p.user)||null),s(!1)});return()=>x.unsubscribe()},[]);const v={user:t,loading:n,error:i,signUp:async(w,x,k={})=>{try{const{data:p,error:f}=await I.auth.signUp({email:w,password:x,options:{data:k,emailRedirectTo:`${Uu()}/dashboard`}});if(f)throw f;return p}catch(p){throw o(p.message),p}},signIn:async(w,x)=>{try{const{data:k,error:p}=await I.auth.signInWithPassword({email:w,password:x});if(p)throw p;return k}catch(k){throw o(k.message),k}},signOut:async()=>{try{const{error:w}=await I.auth.signOut();if(w)throw w;r(null)}catch(w){throw o(w.message),w}},resetPassword:async w=>{try{const{error:x}=await I.auth.resetPasswordForEmail(w,{redirectTo:`${Uu()}/reset-password`});if(x)throw x}catch(x){throw o(x.message),x}},updatePassword:async w=>{try{const{error:x}=await I.auth.updateUser({password:w});if(x)throw x}catch(x){throw o(x.message),x}},updateProfile:async w=>{try{if(w.email){const{error:k}=await I.auth.updateUser({email:w.email});if(k)throw k}const{error:x}=await I.from("profiles").update({full_name:w.fullName,updated_at:new Date}).eq("id",t.id);if(x)throw x}catch(x){throw o(x.message),x}},isAuthenticated:!!t};return a.jsx(Wf.Provider,{value:v,children:e})},qe=()=>{const e=y.useContext(Wf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Gf=y.createContext(),xy=({children:e})=>{const[t,r]=y.useState(()=>{const s=localStorage.getItem("theme");return s?s==="dark":!0});y.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(s=>!s)};return a.jsx(Gf.Provider,{value:{darkMode:t,toggleDarkMode:n},children:e})},Kf=()=>{const e=y.useContext(Gf);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Jf=y.createContext(),wy=({children:e})=>{const[t,r]=y.useState(!1),n=()=>{r(i=>!i)},s=()=>{r(!1)};return a.jsx(Jf.Provider,{value:{isSidebarOpen:t,toggleSidebar:n,closeSidebar:s},children:e})},Yf=()=>{const e=y.useContext(Jf);if(e===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return e};var Qf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bu=Pt.createContext&&Pt.createContext(Qf),ar=function(){return ar=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ar.apply(this,arguments)},by=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function Xf(e){return e&&e.map(function(t,r){return Pt.createElement(t.tag,ar({key:r},t.attr),Xf(t.child))})}function q(e){return function(t){return Pt.createElement(jy,ar({attr:ar({},e.attr)},t),Xf(e.child))}}function jy(e){var t=function(r){var n=e.attr,s=e.size,i=e.title,o=by(e,["attr","size","title"]),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Pt.createElement("svg",ar({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:ar(ar({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Pt.createElement("title",null,i),e.children)};return Bu!==void 0?Pt.createElement(Bu.Consumer,null,function(r){return t(r)}):t(Qf)}function _y(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"}}]})(e)}function ui(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function Ny(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(e)}function Sy(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function ky(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function Zf(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"}}]})(e)}function fr(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function Cy(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"}}]})(e)}function Vu(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function Ey(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function ln(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function Py(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function Ty(e){return q({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function $y(e){return q({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function Oy(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function kn(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M464.46 246.68L352 179.2V128h48c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-48V16c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v48h-48c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h48v51.2l-112.46 67.48A31.997 31.997 0 0 0 160 274.12V512h96v-96c0-35.35 28.65-64 64-64s64 28.65 64 64v96h96V274.12c0-11.24-5.9-21.66-15.54-27.44zM0 395.96V496c0 8.84 7.16 16 16 16h112V320L19.39 366.54A32.024 32.024 0 0 0 0 395.96zm620.61-29.42L512 320v192h112c8.84 0 16-7.16 16-16V395.96c0-12.8-7.63-24.37-19.39-29.42z"}}]})(e)}function Ly(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Ry(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function Ay(e){return q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M352 128h-96V32c0-17.67-14.33-32-32-32h-64c-17.67 0-32 14.33-32 32v96H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h96v224c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V256h96c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"}}]})(e)}function Iy(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function ma(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function My(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"}}]})(e)}function sc(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function Dy(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"}}]})(e)}function zy(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function Fy(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function ic(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function In(e){return q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function Hu(e){return q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-64 268c0 10.7-12.9 16-20.5 8.5L104 376H76c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h28l35.5-36.5c7.6-7.6 20.5-2.2 20.5 8.5v136zm33.2-47.6c9.1-9.3 9.1-24.1 0-33.4-22.1-22.8 12.2-56.2 34.4-33.5 27.2 27.9 27.2 72.4 0 100.4-21.8 22.3-56.9-10.4-34.4-33.5zm86-117.1c54.4 55.9 54.4 144.8 0 200.8-21.8 22.4-57-10.3-34.4-33.5 36.2-37.2 36.3-96.5 0-133.8-22.1-22.8 12.3-56.3 34.4-33.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function Uy(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function bs(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function em(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function By(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function Di(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function Vy(e){return q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function Hy(e){return q({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"}}]})(e)}function qy(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(e)}function lt(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"}}]})(e)}function Wy(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function Gy(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"}}]})(e)}function Oe(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function $t(e){return q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M256 128c35.35 0 64-28.65 64-64S291.35 0 256 0s-64 28.65-64 64 28.65 64 64 64zm-30.63 169.75c14.06 16.72 39 19.09 55.97 5.22l88-72.02c17.09-13.98 19.59-39.19 5.62-56.28-13.97-17.11-39.19-19.59-56.31-5.62l-57.44 47-38.91-46.31c-15.44-18.39-39.22-27.92-64-25.33-24.19 2.48-45.25 16.27-56.37 36.92l-49.37 92.03c-23.4 43.64-8.69 96.37 34.19 123.75L131.56 432H40c-22.09 0-40 17.91-40 40s17.91 40 40 40h208c34.08 0 53.77-42.79 28.28-68.28L166.42 333.86l34.8-64.87 24.15 28.76z"}}]})(e)}function Ky(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(e)}function tm(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function pa(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function Jy(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function tl(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function Yy(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(e)}function rm(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"}}]})(e)}function js(e){return q({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function ac(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function Qy(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208H432c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function nm(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function It(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function sm(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function Xy(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}}]})(e)}function Zy(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"}}]})(e)}function im(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"}}]})(e)}function ex(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"}}]})(e)}const tx=({className:e=""})=>{const{darkMode:t,toggleDarkMode:r}=Kf();return a.jsx("button",{onClick:r,className:`p-2 rounded-full transition-colors duration-200 ${t?"bg-gray-800 text-yellow-300 hover:bg-gray-700":"bg-blue-100 text-blue-800 hover:bg-blue-200"} ${e}`,"aria-label":t?"Switch to light mode":"Switch to dark mode",title:t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(Yy,{className:"w-5 h-5"}):a.jsx(qy,{className:"w-5 h-5"})})},rx=()=>{var l,c,u;const{user:e,signOut:t}=qe(),{darkMode:r}=Kf(),{toggleSidebar:n}=Yf(),[s,i]=y.useState(!1),o=async()=>{try{await t()}catch(h){console.error("Error signing out:",h)}};return a.jsx("header",{className:"bg-white shadow-sm dark:bg-dark-secondary",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{className:"mr-2 md:hidden text-gray-600 dark:text-gray-300",onClick:n,children:a.jsx(Sy,{className:"text-xl"})}),a.jsx(me,{to:"/dashboard",className:"flex items-center",children:a.jsx("span",{className:"text-xl font-bold text-blue-600",children:"Church Connect"})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(tx,{}),a.jsx("button",{className:"text-gray-600 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400",children:a.jsx(ky,{className:"text-xl"})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{className:"flex items-center",onClick:()=>i(!s),children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:((c=(l=e==null?void 0:e.user_metadata)==null?void 0:l.full_name)==null?void 0:c.charAt(0))||((u=e==null?void 0:e.email)==null?void 0:u.charAt(0))||"U"})}),s&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:[a.jsx(me,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>i(!1),children:"Your Profile"}),a.jsx(me,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>i(!1),children:"Settings"}),a.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",onClick:o,children:[a.jsx(Jy,{className:"mr-2"}),"Sign out"]})]})]})]})]})})},nx=()=>a.jsx("nav",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 py-2 md:hidden dark:bg-dark-secondary dark:border-gray-800",children:a.jsxs("div",{className:"flex justify-around items-center",children:[a.jsxs(yr,{to:"/dashboard",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(em,{className:"text-xl mb-1"}),a.jsx("span",{children:"Home"})]}),a.jsxs(yr,{to:"/calendar",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(fr,{className:"text-xl mb-1"}),a.jsx("span",{children:"Calendar"})]}),a.jsxs(yr,{to:"/songs",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(lt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Songs"})]}),a.jsxs(yr,{to:"/prayer-requests",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx($t,{className:"text-xl mb-1"}),a.jsx("span",{children:"Prayer"})]}),a.jsxs(yr,{to:"/profile",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(It,{className:"text-xl mb-1"}),a.jsx("span",{children:"Profile"})]})]})}),qu=({className:e})=>{var s,i,o,l;const{user:t}=qe(),r=[{path:"/dashboard",icon:a.jsx(em,{}),label:"Dashboard"},{path:"/calendar",icon:a.jsx(fr,{}),label:"Calendar"},{path:"/services",icon:a.jsx(Hy,{}),label:"Services"},{path:"/songs",icon:a.jsx(lt,{}),label:"Songs"},{path:"/teams",icon:a.jsx(sm,{}),label:"Teams"},{path:"/prayer-requests",icon:a.jsx($t,{}),label:"Prayer Requests"},{path:"/churches",icon:a.jsx(kn,{}),label:"Churches"}],n=[{path:"/profile",icon:a.jsx(It,{}),label:"Profile"},{path:"/settings",icon:a.jsx(Ry,{}),label:"Settings"}];return a.jsxs("aside",{className:`${e} flex flex-col h-[calc(100vh-4rem)] overflow-y-auto fixed`,children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:((i=(s=t==null?void 0:t.user_metadata)==null?void 0:s.full_name)==null?void 0:i.charAt(0))||((o=t==null?void 0:t.email)==null?void 0:o.charAt(0))||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:((l=t==null?void 0:t.user_metadata)==null?void 0:l.full_name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(t==null?void 0:t.email)||"No email"})]})]})}),a.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:r.map(c=>a.jsxs(yr,{to:c.path,className:({isActive:u})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:c.icon}),c.label]},c.path))}),a.jsx("div",{className:"px-2 py-4 space-y-1 border-t",children:n.map(c=>a.jsxs(yr,{to:c.path,className:({isActive:u})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:c.icon}),c.label]},c.path))})]})},sx=({children:e})=>{const[t,r]=y.useState(window.innerWidth<768),{isSidebarOpen:n,closeSidebar:s}=Yf();return y.useEffect(()=>{const i=()=>{r(window.innerWidth<768)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),y.useEffect(()=>{!t&&n&&s()},[t,n,s]),a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gradient-dark",children:[a.jsx(rx,{}),a.jsxs("div",{className:"flex flex-1",children:[!t&&a.jsx(qu,{className:"hidden md:block w-64 bg-white shadow-md dark:bg-dark-secondary"}),t&&n&&a.jsxs("div",{className:"fixed inset-0 z-40 flex",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity",onClick:s,"aria-hidden":"true"}),a.jsx("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white dark:bg-dark-secondary transform transition ease-in-out duration-300",children:a.jsx(qu,{className:"flex-1 h-0 overflow-y-auto"})})]}),a.jsx("main",{className:"flex-1 px-4 md:px-6 pt-4 pb-[100px] md:ml-64",children:e})]}),t&&a.jsx(nx,{})]})},ix=()=>{const{isAuthenticated:e,loading:t}=qe();return t?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e?a.jsx(sx,{children:a.jsx(zg,{})}):a.jsx(wf,{to:"/login",replace:!0})},ax=()=>{const{signIn:e}=qe(),t=et(),[r,n]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),h=async m=>{m.preventDefault();try{l(null),u(!0),await e(r,s),t("/dashboard")}catch(v){l(v.message||"Failed to sign in"),console.error("Login error:",v)}finally{u(!1)}},d={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb",padding:"1rem"},formContainer:{width:"100%",maxWidth:"28rem"},header:{textAlign:"center",marginBottom:"1.5rem"},title:{fontSize:"1.875rem",fontWeight:"bold",color:"#2563eb",marginBottom:"0.5rem"},subtitle:{fontSize:"1.5rem",fontWeight:"bold",color:"#111827",marginTop:"1.5rem",marginBottom:"0.5rem"},description:{fontSize:"0.875rem",color:"#4b5563",marginTop:"0.5rem"},formBox:{backgroundColor:"white",padding:"2rem",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"},errorBox:{marginBottom:"1rem",padding:"0.75rem",backgroundColor:"#fee2e2",color:"#b91c1c",borderRadius:"0.375rem",fontSize:"0.875rem"},form:{marginBottom:"1.5rem"},formGroup:{marginBottom:"1.5rem"},label:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},input:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"0.875rem"},checkbox:{marginRight:"0.5rem"},button:{width:"100%",padding:"0.75rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.375rem",fontWeight:"500",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},forgotPassword:{fontSize:"0.875rem",color:"#2563eb",textDecoration:"none",fontWeight:"500"},divider:{position:"relative",marginTop:"1.5rem",marginBottom:"1.5rem",height:"1px",backgroundColor:"#e5e7eb"},dividerText:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"0 0.5rem",fontSize:"0.875rem",color:"#6b7280"},signupText:{textAlign:"center",fontSize:"0.875rem",color:"#4b5563"},signupLink:{color:"#2563eb",textDecoration:"none",fontWeight:"500"},flex:{display:"flex"},justifyBetween:{justifyContent:"space-between"},alignCenter:{alignItems:"center"},spinner:{display:"inline-block",width:"1.25rem",height:"1.25rem",marginRight:"0.5rem",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"50%",borderTop:"2px solid white",animation:"spin 1s linear infinite"}};return a.jsx("div",{style:d.container,className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12",children:a.jsxs("div",{style:d.formContainer,className:"w-full max-w-md",children:[a.jsxs("div",{style:d.header,className:"text-center mb-6",children:[a.jsx("h1",{style:d.title,className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{style:d.subtitle,className:"mt-6 text-2xl font-bold text-gray-900",children:"Welcome back"}),a.jsx("p",{style:d.description,className:"mt-2 text-sm text-gray-600",children:"Sign in to your account"})]}),a.jsxs("div",{style:d.formBox,className:"bg-white p-8 shadow rounded-lg",children:[o&&a.jsx("div",{style:d.errorBox,className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsxs("form",{style:d.form,className:"space-y-6",onSubmit:h,children:[a.jsxs("div",{style:d.formGroup,children:[a.jsx("label",{style:d.label,htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,style:d.input,className:"form-input",placeholder:"you@example.com",value:r,onChange:m=>n(m.target.value)})]}),a.jsxs("div",{style:d.formGroup,children:[a.jsx("label",{style:d.label,htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,style:d.input,className:"form-input",placeholder:"••••••••",value:s,onChange:m=>i(m.target.value)})]}),a.jsxs("div",{style:{...d.flex,...d.justifyBetween,...d.alignCenter},className:"flex items-center justify-between",children:[a.jsxs("div",{style:d.flex,className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",style:d.checkbox,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("div",{children:a.jsx(me,{to:"/forgot-password",style:d.forgotPassword,className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:c,style:d.button,className:"btn btn-primary w-full flex justify-center items-center py-3 px-4 rounded-md shadow-sm text-sm font-medium",children:[c?a.jsx("div",{style:d.spinner,className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):null,"Sign in"]})})]}),a.jsxs("div",{children:[a.jsx("div",{style:d.divider,children:a.jsx("div",{style:d.dividerText,children:"Or"})}),a.jsx("div",{style:d.signupText,className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx(me,{to:"/register",style:d.signupLink,className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})]})]})})},ox=()=>{const{signUp:e}=qe(),t=et(),[r,n]=y.useState({email:"",password:"",confirmPassword:"",fullName:"",churchName:""}),[s,i]=y.useState(null),[o,l]=y.useState(!1),c=h=>{const{name:d,value:m}=h.target;n(v=>({...v,[d]:m}))},u=async h=>{if(h.preventDefault(),r.password!==r.confirmPassword){i("Passwords do not match");return}try{i(null),l(!0),await e(r.email,r.password,{full_name:r.fullName,church_name:r.churchName}),t("/verify-email")}catch(d){i(d.message||"Failed to sign up")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Create an account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Join the community today"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[s&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:s}),a.jsxs("form",{className:"space-y-4",onSubmit:u,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(sc,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",value:r.email,onChange:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(It,{className:"text-gray-400"})}),a.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe",value:r.fullName,onChange:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"churchName",className:"block text-sm font-medium text-gray-700",children:"Church Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(kn,{className:"text-gray-400"})}),a.jsx("input",{id:"churchName",name:"churchName",type:"text",className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Grace Community Church",value:r.churchName,onChange:c})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional - You can join or create a church later"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Di,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",value:r.password,onChange:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Di,{className:"text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",value:r.confirmPassword,onChange:c})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:o,className:"mt-4 w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(nm,{className:"mr-2"}),"Sign up"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",a.jsx(me,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})})},lx=()=>{const{resetPassword:e}=qe(),[t,r]=y.useState(""),[n,s]=y.useState(null),[i,o]=y.useState(!1),[l,c]=y.useState(""),u=async h=>{h.preventDefault();try{s(null),o(!0),c(""),await e(t),c("Password reset instructions have been sent to your email. Please check your inbox."),r("")}catch(d){s(d.message||"Failed to send password reset email")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address below and we'll send you a link to reset your password"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[n&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:n}),l&&a.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm",children:l}),a.jsxs("form",{className:"space-y-6",onSubmit:u,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(sc,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",value:t,onChange:h=>r(h.target.value)})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(Wy,{className:"mr-2"}),"Send Reset Link"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",a.jsx(me,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to login"})]})})]})]})})},cx=()=>{const{updatePassword:e}=qe(),t=et(),[r,n]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),[h,d]=y.useState(null);y.useEffect(()=>{const v=window.location.hash.substring(1);new URLSearchParams(v).get("access_token")?d(!0):l("Invalid reset link. Please request a new password reset link.")},[]);const m=async v=>{if(v.preventDefault(),r!==s){l("Passwords do not match");return}if(r.length<6){l("Password must be at least 6 characters");return}try{l(null),u(!0),await e(r),t("/login",{state:{message:"Password successfully reset. Please log in with your new password."}})}catch(w){l(w.message||"Failed to reset password")}finally{u(!1)}};return o&&!h?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsx("button",{onClick:()=>t("/forgot-password"),className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Request New Reset Link"})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Set new password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please enter a new password for your account"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[o&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsxs("form",{className:"space-y-6",onSubmit:m,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Di,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",value:r,onChange:v=>n(v.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Di,{className:"text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",value:s,onChange:v=>i(v.target.value)})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(ln,{className:"mr-2"}),"Reset Password"]})})]})]})]})})},ux=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Verify your email"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(sc,{className:"text-2xl text-blue-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Check your inbox"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We sent a verification link to your email address. Please click the link to verify your account."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border border-gray-200 rounded-md bg-gray-50",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Next steps:"}),a.jsxs("ul",{className:"text-sm text-gray-600 text-left space-y-2",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(ln,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Check your email inbox (and spam folder)"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ln,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Click the verification link in the email"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ln,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Return to Church Connect and sign in"})]})]})]}),a.jsx(me,{to:"/login",className:"block w-full py-3 px-4 text-center border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Login"})]}),a.jsxs("p",{className:"mt-6 text-sm text-gray-500",children:["Didn't receive an email? Check your spam folder or"," ",a.jsx(me,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"try again"})]})]})]})});var am={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(He,function(){var r=1e3,n=6e4,s=36e5,i="millisecond",o="second",l="minute",c="hour",u="day",h="week",d="month",m="quarter",v="year",w="date",x="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var P=["th","st","nd","rd"],A=$%100;return"["+$+(P[(A-20)%10]||P[A]||P[0])+"]"}},g=function($,P,A){var F=String($);return!F||F.length>=P?$:""+Array(P+1-F.length).join(A)+$},b={s:g,z:function($){var P=-$.utcOffset(),A=Math.abs(P),F=Math.floor(A/60),N=A%60;return(P<=0?"+":"-")+g(F,2,"0")+":"+g(N,2,"0")},m:function $(P,A){if(P.date()<A.date())return-$(A,P);var F=12*(A.year()-P.year())+(A.month()-P.month()),N=P.clone().add(F,d),E=A-N<0,O=P.clone().add(F+(E?-1:1),d);return+(-(F+(A-N)/(E?N-O:O-N))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:d,y:v,w:h,d:u,D:w,h:c,m:l,s:o,ms:i,Q:m}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},j="en",C={};C[j]=f;var S="$isDayjsObject",_=function($){return $ instanceof M||!(!$||!$[S])},L=function $(P,A,F){var N;if(!P)return j;if(typeof P=="string"){var E=P.toLowerCase();C[E]&&(N=E),A&&(C[E]=A,N=E);var O=P.split("-");if(!N&&O.length>1)return $(O[0])}else{var z=P.name;C[z]=P,N=z}return!F&&N&&(j=N),N||!F&&j},R=function($,P){if(_($))return $.clone();var A=typeof P=="object"?P:{};return A.date=$,A.args=arguments,new M(A)},T=b;T.l=L,T.i=_,T.w=function($,P){return R($,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var M=function(){function $(A){this.$L=L(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[S]=!0}var P=$.prototype;return P.parse=function(A){this.$d=function(F){var N=F.date,E=F.utc;if(N===null)return new Date(NaN);if(T.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var O=N.match(k);if(O){var z=O[2]-1||0,V=(O[7]||"0").substring(0,3);return E?new Date(Date.UTC(O[1],z,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)):new Date(O[1],z,O[3]||1,O[4]||0,O[5]||0,O[6]||0,V)}}return new Date(N)}(A),this.init()},P.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},P.$utils=function(){return T},P.isValid=function(){return this.$d.toString()!==x},P.isSame=function(A,F){var N=R(A);return this.startOf(F)<=N&&N<=this.endOf(F)},P.isAfter=function(A,F){return R(A)<this.startOf(F)},P.isBefore=function(A,F){return this.endOf(F)<R(A)},P.$g=function(A,F,N){return T.u(A)?this[F]:this.set(N,A)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(A,F){var N=this,E=!!T.u(F)||F,O=T.p(A),z=function(ee,Z){var ve=T.w(N.$u?Date.UTC(N.$y,Z,ee):new Date(N.$y,Z,ee),N);return E?ve:ve.endOf(u)},V=function(ee,Z){return T.w(N.toDate()[ee].apply(N.toDate("s"),(E?[0,0,0,0]:[23,59,59,999]).slice(Z)),N)},G=this.$W,te=this.$M,we=this.$D,Ce="set"+(this.$u?"UTC":"");switch(O){case v:return E?z(1,0):z(31,11);case d:return E?z(1,te):z(0,te+1);case h:var Q=this.$locale().weekStart||0,U=(G<Q?G+7:G)-Q;return z(E?we-U:we+(6-U),te);case u:case w:return V(Ce+"Hours",0);case c:return V(Ce+"Minutes",1);case l:return V(Ce+"Seconds",2);case o:return V(Ce+"Milliseconds",3);default:return this.clone()}},P.endOf=function(A){return this.startOf(A,!1)},P.$set=function(A,F){var N,E=T.p(A),O="set"+(this.$u?"UTC":""),z=(N={},N[u]=O+"Date",N[w]=O+"Date",N[d]=O+"Month",N[v]=O+"FullYear",N[c]=O+"Hours",N[l]=O+"Minutes",N[o]=O+"Seconds",N[i]=O+"Milliseconds",N)[E],V=E===u?this.$D+(F-this.$W):F;if(E===d||E===v){var G=this.clone().set(w,1);G.$d[z](V),G.init(),this.$d=G.set(w,Math.min(this.$D,G.daysInMonth())).$d}else z&&this.$d[z](V);return this.init(),this},P.set=function(A,F){return this.clone().$set(A,F)},P.get=function(A){return this[T.p(A)]()},P.add=function(A,F){var N,E=this;A=Number(A);var O=T.p(F),z=function(te){var we=R(E);return T.w(we.date(we.date()+Math.round(te*A)),E)};if(O===d)return this.set(d,this.$M+A);if(O===v)return this.set(v,this.$y+A);if(O===u)return z(1);if(O===h)return z(7);var V=(N={},N[l]=n,N[c]=s,N[o]=r,N)[O]||1,G=this.$d.getTime()+A*V;return T.w(G,this)},P.subtract=function(A,F){return this.add(-1*A,F)},P.format=function(A){var F=this,N=this.$locale();if(!this.isValid())return N.invalidDate||x;var E=A||"YYYY-MM-DDTHH:mm:ssZ",O=T.z(this),z=this.$H,V=this.$m,G=this.$M,te=N.weekdays,we=N.months,Ce=N.meridiem,Q=function(Z,ve,We,tt){return Z&&(Z[ve]||Z(F,E))||We[ve].slice(0,tt)},U=function(Z){return T.s(z%12||12,Z,"0")},ee=Ce||function(Z,ve,We){var tt=Z<12?"AM":"PM";return We?tt.toLowerCase():tt};return E.replace(p,function(Z,ve){return ve||function(We){switch(We){case"YY":return String(F.$y).slice(-2);case"YYYY":return T.s(F.$y,4,"0");case"M":return G+1;case"MM":return T.s(G+1,2,"0");case"MMM":return Q(N.monthsShort,G,we,3);case"MMMM":return Q(we,G);case"D":return F.$D;case"DD":return T.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return Q(N.weekdaysMin,F.$W,te,2);case"ddd":return Q(N.weekdaysShort,F.$W,te,3);case"dddd":return te[F.$W];case"H":return String(z);case"HH":return T.s(z,2,"0");case"h":return U(1);case"hh":return U(2);case"a":return ee(z,V,!0);case"A":return ee(z,V,!1);case"m":return String(V);case"mm":return T.s(V,2,"0");case"s":return String(F.$s);case"ss":return T.s(F.$s,2,"0");case"SSS":return T.s(F.$ms,3,"0");case"Z":return O}return null}(Z)||O.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(A,F,N){var E,O=this,z=T.p(F),V=R(A),G=(V.utcOffset()-this.utcOffset())*n,te=this-V,we=function(){return T.m(O,V)};switch(z){case v:E=we()/12;break;case d:E=we();break;case m:E=we()/3;break;case h:E=(te-G)/6048e5;break;case u:E=(te-G)/864e5;break;case c:E=te/s;break;case l:E=te/n;break;case o:E=te/r;break;default:E=te}return N?E:T.a(E)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return C[this.$L]},P.locale=function(A,F){if(!A)return this.$L;var N=this.clone(),E=L(A,F,!0);return E&&(N.$L=E),N},P.clone=function(){return T.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},$}(),B=M.prototype;return R.prototype=B,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",u],["$M",d],["$y",v],["$D",w]].forEach(function($){B[$[1]]=function(P){return this.$g(P,$[0],$[1])}}),R.extend=function($,P){return $.$i||($(P,M,R),$.$i=!0),R},R.locale=L,R.isDayjs=_,R.unix=function($){return R(1e3*$)},R.en=C[j],R.Ls=C,R.p={},R})})(am);var dx=am.exports;const ne=Ui(dx);var om={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(He,function(){return function(r,n,s){r=r||{};var i=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(u,h,d,m){return i.fromToBase(u,h,d,m)}s.en.relativeTime=o,i.fromToBase=function(u,h,d,m,v){for(var w,x,k,p=d.$locale().relativeTime||o,f=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],g=f.length,b=0;b<g;b+=1){var j=f[b];j.d&&(w=m?s(u).diff(d,j.d,!0):d.diff(u,j.d,!0));var C=(r.rounding||Math.round)(Math.abs(w));if(k=w>0,C<=j.r||!j.r){C<=1&&b>0&&(j=f[b-1]);var S=p[j.l];v&&(C=v(""+C)),x=typeof S=="string"?S.replace("%d",C):S(C,h,j.l,k);break}}if(h)return x;var _=k?p.future:p.past;return typeof _=="function"?_(x):_.replace("%s",x)},i.to=function(u,h){return l(u,h,this,!0)},i.from=function(u,h){return l(u,h,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}})})(om);var hx=om.exports;const oc=Ui(hx),Zr=({url:e,type:t,index:r})=>{if(t==="youtube"){const n=lm(e);return n?a.jsx("div",{className:"my-3",children:a.jsx("iframe",{width:"100%",height:"300",src:`https://www.youtube.com/embed/${n}`,title:`YouTube video ${r?r+1:""}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-md"})},`yt-${r}`):null}else if(t==="suno")return cm(e)?a.jsxs("div",{className:"my-3 p-4 bg-gray-50 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("img",{src:"https://storage.googleapis.com/prod-suno-ipfs/suno-logomark.png",alt:"Suno",className:"h-6 w-6 mr-2"}),a.jsx("span",{className:"font-medium",children:"Suno Song"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-md p-4 text-center",children:[a.jsx("p",{className:"text-blue-700 mb-2",children:"Suno song shared"}),a.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 inline-block",children:"Listen on Suno"})]})]},`suno-${r}`):null;return null},fx=({content:e})=>{const t=um(e),r=dm(e);if(t.length===0&&r.length===0)return a.jsx("p",{className:"text-gray-800",children:e});if(t.length===1&&e.trim()===t[0]||r.length===1&&e.trim()===r[0]){if(t.length===1){const n=lm(t[0]);if(n)return a.jsx("div",{className:"mt-2",children:a.jsx("iframe",{width:"100%",height:"195",src:`https://www.youtube.com/embed/${n}`,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-md"})})}if(r.length===1&&cm(r[0]))return a.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded-md border",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("img",{src:"https://storage.googleapis.com/prod-suno-ipfs/suno-logomark.png",alt:"Suno",className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-xs font-medium",children:"Suno Song"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-md p-2 text-center",children:a.jsx("a",{href:r[0],target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-600 text-white text-xs rounded-md hover:bg-blue-700 inline-block",children:"Listen on Suno"})})]})}return a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-800 mb-2",children:e}),t.map((n,s)=>a.jsx(Zr,{url:n,type:"youtube",index:s},`yt-${s}`)),r.map((n,s)=>a.jsx(Zr,{url:n,type:"suno",index:s},`suno-${s}`))]})},mx=({content:e})=>{if(!e)return null;const t=um(e),r=dm(e);if(t.length===0&&r.length===0)return a.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:e});if(t.length===1&&e.trim()===t[0]||r.length===1&&e.trim()===r[0]){if(t.length===1)return a.jsx(Zr,{url:t[0],type:"youtube"});if(r.length===1)return a.jsx(Zr,{url:r[0],type:"suno"})}return a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-800 whitespace-pre-line mb-3",children:e}),t.map((n,s)=>a.jsx(Zr,{url:n,type:"youtube",index:s},`yt-${s}`)),r.map((n,s)=>a.jsx(Zr,{url:n,type:"suno",index:s},`suno-${s}`))]})},px=({post:e,currentUserId:t})=>{var $,P,A,F,N;const[r,n]=y.useState(!1),[s,i]=y.useState(""),[o,l]=y.useState([]),[c,u]=y.useState(!1),[h,d]=y.useState(!1),[m,v]=y.useState(e.userReactions||{});y.useEffect(()=>{e.userReactions&&v(e.userReactions)},[e.userReactions]);const[w,x]=y.useState(!1),k=E=>{const O=new Date(E),V=Math.floor((new Date-O)/1e3);if(V<60)return"just now";if(V<3600){const G=Math.floor(V/60);return`${G} ${G===1?"minute":"minutes"} ago`}else if(V<86400){const G=Math.floor(V/3600);return`${G} ${G===1?"hour":"hours"} ago`}else if(V<604800){const G=Math.floor(V/86400);return`${G} ${G===1?"day":"days"} ago`}else return new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},p=k(e.created_at),f=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=e.post_type==="event",b=e.post_type==="prayer",j=e.post_type==="announcement",C=E=>{var z;const O=(z=e.reactions)==null?void 0:z.find(V=>V.reaction_type===E);return O?parseInt(O.count):0},S=C("like"),_=C("pray"),L=C("amen"),R=async E=>{if(t)try{const{data:O,error:z}=await I.rpc("toggle_post_reaction",{post_id_param:e.id,user_id_param:t,reaction_type_param:E});if(z)throw z;v(V=>({...V,[E]:O}))}catch(O){console.error("Error toggling reaction:",O)}};y.useEffect(()=>{r&&M()},[r]);const T=async E=>{if(!E)return{full_name:"Unknown User",avatar_url:null};if(E===t)return{full_name:localStorage.getItem("userFullName")||"You",avatar_url:localStorage.getItem("userAvatarUrl")||null};try{const O=JSON.parse(localStorage.getItem("usernamesCache")||"{}");if(O[E])return{full_name:O[E],avatar_url:null}}catch(O){console.log("Error reading username cache:",O)}return{full_name:"User",avatar_url:null}},M=async()=>{if(e.id)try{u(!0);const{data:E,error:O}=await I.from("comments").select("*").eq("post_id",e.id).order("created_at",{ascending:!0});if(O)throw O;if(!E||E.length===0){l([]);return}const z=await Promise.all(E.map(async V=>{const G=await T(V.user_id);return{...V,profiles:G}}));l(z)}catch(E){console.error("Error fetching comments:",E)}finally{u(!1)}},B=async E=>{if(E.preventDefault(),!(!s.trim()||!t))try{d(!0);const{data:O,error:z}=await I.from("comments").insert({post_id:e.id,user_id:t,content:s.trim()}).select();if(z)throw z;if(O&&O.length>0){const V={...O[0],profiles:{full_name:localStorage.getItem("userFullName")||"You",avatar_url:localStorage.getItem("userAvatarUrl")||null}};l(G=>[...G,V])}i("")}catch(O){console.error("Error submitting comment:",O)}finally{d(!1)}};return a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-4",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(me,{to:`/profile/${e.user_id}`,className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 mr-3",children:($=e.profile)!=null&&$.avatar_url||e.avatar_url?a.jsx("img",{src:((P=e.profile)==null?void 0:P.avatar_url)||e.avatar_url,alt:((A=e.profile)==null?void 0:A.full_name)||"User",className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(It,{className:"text-gray-400"})})}),a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.is_anonymous?"Anonymous":((F=e.profile)==null?void 0:F.full_name)||"User"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("p",{className:"text-xs text-gray-500",children:[p,((N=e.church)==null?void 0:N.name)&&` • ${e.church.name}`]}),(g||b||j)&&a.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 ml-1 text-xs font-medium rounded-full ${g?"bg-blue-100 text-blue-700":b?"bg-purple-100 text-purple-700":"bg-yellow-100 text-yellow-700"}`,children:[g&&a.jsx(fr,{className:"mr-1 text-xs"}),b&&a.jsx($t,{className:"mr-1 text-xs"}),j&&a.jsx(Zf,{className:"mr-1 text-xs"}),g?"Event":b?"Prayer":"Announcement"]})]}),a.jsx("p",{className:"text-xs text-gray-400",title:f,children:f})]})})]})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",onClick:()=>x(!w),children:a.jsx(My,{})}),w&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>x(!1),children:"Save post"}),t===e.user_id&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>x(!1),children:"Edit post"}),a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",onClick:()=>x(!1),children:"Delete post"})]})]})})]})]}),a.jsxs("div",{className:"p-4 pt-0",children:[a.jsx(mx,{content:e.content}),e.media_urls&&e.media_urls.length>0&&a.jsx("div",{className:`mt-3 grid ${e.media_urls.length>1?"grid-cols-2 gap-2":"grid-cols-1"}`,children:e.media_urls.map((E,O)=>a.jsx("img",{src:E,alt:`Post media ${O+1}`,className:"w-full h-auto rounded-md object-cover"},O))})]}),(S>0||_>0||L>0||e.commentsCount>0)&&a.jsxs("div",{className:"px-4 py-2 flex justify-between text-sm text-gray-500 border-t border-gray-100",children:[a.jsxs("div",{children:[S>0&&a.jsxs("span",{className:"flex items-center inline-block mr-3",children:[a.jsx(bs,{className:"text-red-500 mr-1"})," ",S]}),_>0&&a.jsxs("span",{className:"flex items-center inline-block mr-3",children:[a.jsx($t,{className:"text-purple-500 mr-1"})," ",_]})]}),e.commentsCount>0&&a.jsxs("button",{className:"hover:underline",onClick:()=>n(!r),children:[e.commentsCount," ",e.commentsCount===1?"comment":"comments"]})]}),a.jsxs("div",{className:"px-2 py-2 flex items-center border-t border-gray-100",children:[a.jsx("button",{className:`flex-1 flex items-center justify-center p-2 rounded-md ${m.like?"text-red-500 font-medium":"text-gray-500 hover:bg-gray-50"}`,onClick:()=>R("like"),children:a.jsxs("span",{className:"inline-flex items-center",children:[m.like?a.jsx(bs,{className:"mr-2"}):a.jsx(ex,{className:"mr-2"}),"Like"]})}),a.jsx("button",{className:"flex-1 flex items-center justify-center p-2 text-gray-500 hover:bg-gray-50 rounded-md",onClick:()=>n(!r),children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(im,{className:"mr-2"}),"Comment"]})}),a.jsx("button",{className:`flex-1 flex items-center justify-center p-2 rounded-md ${m.pray?"text-purple-500 font-medium":"text-gray-500 hover:bg-gray-50"}`,onClick:()=>R("pray"),children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx($t,{className:"mr-2"}),"Pray"]})})]}),r&&a.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100",children:[t&&a.jsxs("form",{onSubmit:B,className:"mb-4 flex",children:[a.jsx("input",{type:"text",placeholder:"Write a comment...",className:"flex-1 p-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:E=>i(E.target.value),disabled:h}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-r-md disabled:opacity-50",disabled:!s.trim()||h,children:h?"Sending...":"Post"})]}),c?a.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:"Loading comments..."}):o.length===0?a.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:"No comments yet. Be the first to comment!"}):a.jsx("div",{className:"space-y-4",children:o.map(E=>{var O,z;return a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:(O=E.profiles)!=null&&O.avatar_url?a.jsx("img",{src:E.profiles.avatar_url,alt:E.profiles.full_name||"User",className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(It,{className:"text-gray-400"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"bg-white rounded-lg px-3 py-2 shadow-sm",children:[a.jsx("div",{className:"font-medium text-sm",children:((z=E.profiles)==null?void 0:z.full_name)||"User"}),a.jsx(fx,{content:E.content})]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1 ml-2",children:k(E.created_at)})]})]},E.id)})})]})]})};function lm(e){if(!e)return null;const t=[/(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([^&\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtu\.be\/([^\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([^\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/v\/([^\s?]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/shorts\/([^\s?]+)/];for(const r of t){const n=e.match(r);if(n&&n[1])return n[1].substring(0,11)}return null}function cm(e){if(!e)return null;const t=/(?:https?:\/\/)?(?:www\.)?suno\.com\/song\/([a-zA-Z0-9-]+)/,r=e.match(t);return r&&r[1]?r[1]:null}function um(e){if(!e)return[];const t=/(https?:\/\/(?:www\.)?(?:youtube\.com\/\S+|youtu\.be\/\S+))/gi;return e.match(t)||[]}function dm(e){if(!e)return[];const t=/(https?:\/\/(?:www\.)?suno\.com\/song\/[a-zA-Z0-9-]+(?:\?[^\s]*)?)/gi;return e.match(t)||[]}const gx=({onPostCreated:e,churchId:t})=>{var R,T;const{user:r}=qe(),[n,s]=y.useState(""),[i,o]=y.useState("regular"),[l,c]=y.useState([]),[u,h]=y.useState([]),[d,m]=y.useState(!1),[v,w]=y.useState(!1),[x,k]=y.useState(!1),p=y.useRef(),f=M=>{s(M.target.value),!v&&M.target.value&&w(!0)},g=M=>{const B=Array.from(M.target.files);if(B.length===0)return;const $=B.filter(A=>A.type.startsWith("image/")||A.type.startsWith("video/")),P=$.map(A=>({file:A,url:URL.createObjectURL(A),type:A.type.startsWith("image/")?"image":"video"}));c([...l,...$]),h([...u,...P]),w(!0)},b=M=>{URL.revokeObjectURL(u[M].url);const B=[...l];B.splice(M,1);const $=[...u];$.splice(M,1),c(B),h($)},j=M=>{o(M),w(!0)},C=async M=>{if(M.preventDefault(),!(!n.trim()&&l.length===0))try{m(!0);const B={user_id:r.id,church_id:t,content:n.trim(),media_urls:[],post_type:i,is_anonymous:i==="prayer"&&x},{data:$,error:P}=await I.from("posts").insert(B).select().single();if(P)throw console.error("Post creation error:",P),P;console.log("Post created successfully:",$),s(""),c([]),h([]),o("regular"),k(!1),w(!1),e&&e($)}catch(B){console.error("Error creating post:",B),alert("Failed to create post. Please try again: "+B.message)}finally{m(!1)}},S=({type:M,icon:B,label:$,active:P})=>a.jsxs("button",{type:"button",className:`flex items-center px-3 py-1.5 rounded-full text-sm ${P?"bg-blue-100 text-blue-800":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>j(M),children:[B,a.jsx("span",{className:"ml-1",children:$})]}),{avatar_url:_,full_name:L}=(r==null?void 0:r.user_metadata)||{};return a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:a.jsxs("form",{onSubmit:C,children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200",children:_?a.jsx("img",{src:_,alt:L,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(It,{className:"text-gray-400"})})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{placeholder:`What's on your mind, ${(L==null?void 0:L.split(" ")[0])||"there"}?`,className:"w-full border rounded-lg p-3 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-lg text-gray-700 placeholder-gray-400 bg-white resize-none",rows:v?4:2,value:n,onChange:f,onClick:()=>w(!0)}),u.length>0&&a.jsx("div",{className:`grid gap-2 mb-3 ${u.length>1?"grid-cols-2":"grid-cols-1"}`,children:u.map((M,B)=>a.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100",children:[M.type==="image"?a.jsx("img",{src:M.url,alt:`Upload preview ${B+1}`,className:"w-full h-48 object-cover"}):a.jsx("video",{src:M.url,className:"w-full h-48 object-cover",controls:!0}),a.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white rounded-full p-1",onClick:()=>b(B),children:a.jsx(js,{})})]},B))})]})]})}),v&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto pb-1",children:[a.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:"Post type:"}),a.jsx(S,{type:"regular",icon:a.jsx(It,{className:"text-blue-500"}),label:"Regular",active:i==="regular"}),a.jsx(S,{type:"prayer",icon:a.jsx($t,{className:"text-purple-500"}),label:"Prayer Request",active:i==="prayer"}),a.jsx(S,{type:"event",icon:a.jsx(fr,{className:"text-green-500"}),label:"Event",active:i==="event"}),(((R=r==null?void 0:r.user_metadata)==null?void 0:R.role)==="admin"||((T=r==null?void 0:r.user_metadata)==null?void 0:T.role)==="worship_leader")&&a.jsx(S,{type:"announcement",icon:a.jsx(Zf,{className:"text-yellow-500"}),label:"Announcement",active:i==="announcement"})]})}),i==="prayer"&&a.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:a.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:M=>k(M.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("span",{children:"Post anonymously"})]})}),a.jsxs("div",{className:"px-4 py-2 flex items-center justify-between border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-1.5",onClick:()=>p.current.click(),children:[a.jsx(By,{className:"text-green-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Photo"})]}),a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-1.5",onClick:()=>p.current.click(),children:[a.jsx(Xy,{className:"text-red-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Video"})]}),a.jsx("input",{type:"file",multiple:!0,ref:p,className:"hidden",onChange:g,accept:"image/*,video/*"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",className:"px-4 py-1.5 text-sm border border-gray-300 rounded-md hover:bg-gray-50",onClick:()=>{w(!1),s(""),c([]),h([]),o("regular"),k(!1)},children:"Cancel"}),a.jsx("button",{type:"submit",disabled:d||!n.trim()&&l.length===0,className:"px-4 py-1.5 text-sm font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:d?a.jsxs(a.Fragment,{children:[a.jsx(tl,{className:"animate-spin mr-1.5"}),"Posting..."]}):"Post"})]})]})]})]})})},vx=({currentUserId:e,churchId:t})=>{const{user:r}=qe(),[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null),[u,h]=y.useState("all"),[d,m]=y.useState(0),[v,w]=y.useState(!0),[x,k]=y.useState(0),p=10;y.useEffect(()=>{f()},[d,u,x,t]),y.useEffect(()=>{e&&(r!=null&&r.user_metadata)&&(async()=>{try{const _=r.user_metadata.full_name,L=r.user_metadata.avatar_url;if(_)try{localStorage.setItem("userFullName",_),L&&localStorage.setItem("userAvatarUrl",L);const R=JSON.parse(localStorage.getItem("usernamesCache")||"{}");R[e]=_,localStorage.setItem("usernamesCache",JSON.stringify(R))}catch(R){console.error("Error updating localStorage cache:",R)}}catch(_){console.error("Error setting user metadata:",_)}})()},[e,r]);const f=async()=>{try{o(!0);let S=I.from("posts_with_authors").select("*").order("created_at",{ascending:!1}).range(d*p,(d+1)*p-1);if(u==="following"&&e){const{data:T}=await I.from("follows").select("following_id").eq("follower_id",e),M=(T==null?void 0:T.map(B=>B.following_id))||[];if(M.length===0){w(!1),s([]),o(!1);return}else S=S.in("user_id",M)}else u==="church"&&t?S=S.eq("church_id",t):u!=="all"&&(S=S.eq("post_type",u));const{data:_,error:L}=await S;if(L){console.error("Error with posts_with_authors view:",L);let T=I.from("posts").select("*").order("created_at",{ascending:!1}).range(d*p,(d+1)*p-1);if(u==="following"&&e){const P=(followingData==null?void 0:followingData.map(A=>A.following_id))||[];T=T.in("user_id",P)}else u==="church"&&t?T=T.eq("church_id",t):u!=="all"&&(T=T.eq("post_type",u));const{data:M,error:B}=await T;if(B)throw B;w(M.length===p);const $=await Promise.all(M.map(async P=>{var N,E;let A="User",F=null;if(P.user_id===e)A=((N=r==null?void 0:r.user_metadata)==null?void 0:N.full_name)||"You",F=(E=r==null?void 0:r.user_metadata)==null?void 0:E.avatar_url;else try{const O=JSON.parse(localStorage.getItem("usernamesCache")||"{}");if(O[P.user_id])A=O[P.user_id];else{const{data:z}=await I.rpc("get_user_full_name",{user_id_param:P.user_id});if(z){A=z;const V=JSON.parse(localStorage.getItem("usernamesCache")||"{}");V[P.user_id]=z,localStorage.setItem("usernamesCache",JSON.stringify(V))}}}catch(O){console.log("Error fetching user data:",O)}return g(P,A,F)}));b($),o(!1);return}w(_.length===p);const R=await Promise.all(_.map(async T=>{const M=T.full_name||"User",B=T.avatar_url;if(M&&M!=="User"&&T.user_id)try{const $=JSON.parse(localStorage.getItem("usernamesCache")||"{}");$[T.user_id]=M,localStorage.setItem("usernamesCache",JSON.stringify($))}catch($){console.log("Error updating usernames cache:",$)}return g(T,M,B)}));b(R)}catch(S){console.error("Error fetching posts:",S),c(S.message)}finally{o(!1)}},g=async(S,_,L)=>{let R={full_name:_,avatar_url:L},T=null;if(S.church_id&&!S.church_name){const{data:N,error:E}=await I.from("churches").select("name").eq("id",S.church_id).single();E||(T=N)}else S.church_name&&(T={name:S.church_name});const{data:M,error:B}=await I.from("reactions").select("reaction_type").eq("post_id",S.id),$=M?Array.from(M.reduce((N,{reaction_type:E})=>(N.set(E,(N.get(E)||0)+1),N),new Map)).map(([N,E])=>({reaction_type:N,count:E})):[];B&&console.error("Error fetching reactions:",B);const{count:P,error:A}=await I.from("comments").select("id",{count:"exact"}).eq("post_id",S.id);A&&console.error("Error fetching comments count:",A);let F={};if(e){const{data:N,error:E}=await I.from("reactions").select("reaction_type").eq("post_id",S.id).eq("user_id",e);E&&console.error("Error fetching user reactions:",E),N==null||N.forEach(O=>{F[O.reaction_type]=!0})}return{...S,profile:R,church:T,reactions:$||[],commentsCount:P||0,userReactions:F,created_at:S.created_at||new Date().toISOString()}},b=S=>{s(d===0?S:_=>[..._,...S])},j=S=>{var _,L;if(e){const R={...S,profile:{full_name:((_=r==null?void 0:r.user_metadata)==null?void 0:_.full_name)||"You",avatar_url:((L=r==null?void 0:r.user_metadata)==null?void 0:L.avatar_url)||null},reactions:[],commentsCount:0,userReactions:{}};s(T=>[R,...T])}else m(0),k(R=>R+1)},C=()=>{!i&&v&&m(S=>S+1)};return a.jsxs("div",{className:"space-y-4",children:[e&&a.jsx(gx,{onPostCreated:j,churchId:t}),a.jsxs("div",{className:"bg-white p-3 rounded-lg shadow flex items-center space-x-1 overflow-x-auto",children:[a.jsx(Uy,{className:"text-gray-400 mr-2 flex-shrink-0"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="all"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>h("all"),children:"All"}),e&&a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${u==="following"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>h("following"),children:"Following"}),t&&a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${u==="church"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>h("church"),children:"My Church"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="event"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>h("event"),children:"Events"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="prayer"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>h("prayer"),children:"Prayer"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="announcement"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>h("announcement"),children:"Announcements"})]}),l?a.jsxs("div",{className:"bg-red-100 p-4 rounded-md text-red-800",children:["Error loading posts: ",l]}):n.length===0&&!i?a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No posts found"}),a.jsx("p",{className:"mt-1 text-gray-500",children:u==="following"?"You're not following anyone yet, or the people you follow haven't posted anything.":u==="church"?"Your church doesn't have any posts yet.":u!=="all"?`No ${u} posts found.`:"There are no posts yet. Be the first to share something!"})]}):a.jsxs("div",{className:"space-y-4",children:[n.map(S=>a.jsx(px,{post:S,currentUserId:e},S.id)),i&&a.jsx("div",{className:"space-y-4",children:[1,2].map(S=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full animate-pulse"}),a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/6 animate-pulse"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse"})]}),a.jsx("div",{className:"h-40 bg-gray-200 rounded animate-pulse"})]},S))}),v&&!i&&a.jsx("button",{onClick:C,className:"w-full py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md",children:"Load more"})]})]})};ne.extend(oc);const yx=()=>{const{user:e}=qe(),[t,r]=y.useState([]),[n,s]=y.useState([]),[i,o]=y.useState([]),[l,c]=y.useState(!0),[u,h]=y.useState(null),[d,m]=y.useState(null);return y.useEffect(()=>{(async()=>{try{c(!0);const w=localStorage.getItem("userChurchId");if(w)m(w);else try{const{data:x,error:k}=await I.from("profiles").select("church_id").eq("id",e.id).single();k?console.error("Profile error:",k):x!=null&&x.church_id&&(m(x.church_id),localStorage.setItem("userChurchId",x.church_id))}catch(x){console.error("Error querying profiles:",x)}if(d||w){const x=d||w,{data:k,error:p}=await I.from("churches").select("*").eq("id",x).single();p?console.error("Church error:",p):h(k);const f=ne().toISOString(),g=ne().add(7,"day").toISOString(),{data:b,error:j}=await I.from("events").select("*").eq("church_id",x).gte("start_time",f).lte("start_time",g).order("start_time",{ascending:!0}).limit(5);j?console.error("Event error:",j):r(b||[]);const{data:C,error:S}=await I.from("songs").select("*").eq("church_id",x).order("created_at",{ascending:!1}).limit(5);S?console.error("Song error:",S):s(C||[]);const{data:_,error:L}=await I.from("prayer_requests").select("*").eq("church_id",x).eq("is_private",!1).order("created_at",{ascending:!1}).limit(5);L?console.error("Prayer error:",L):o(_||[])}}catch(w){console.error("Error fetching dashboard data:",w)}finally{c(!1)}})()},[e==null?void 0:e.id]),l?a.jsxs("div",{className:"space-y-6 pt-6",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((v,w)=>a.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},w))}),a.jsx("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]}):a.jsxs("div",{className:"space-y-6 pt-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feed"}),u&&a.jsx("p",{className:"text-gray-600",children:u.name}),!u&&a.jsxs("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[a.jsx("p",{className:"text-yellow-700",children:"You're not connected to a church yet. Join or create one to access all features."}),a.jsxs(me,{to:"/churches",className:"mt-3 inline-flex items-center justify-center w-full sm:w-auto px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[a.jsx(kn,{className:"mr-2"}),"Find or Create a Church"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(me,{to:"/calendar",className:"flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(fr,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Calendar"})]}),a.jsxs(me,{to:"/songs",className:"flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(lt,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Songs"})]}),a.jsxs(me,{to:"/prayer-requests",className:"flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx($t,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Prayer"})]}),a.jsxs(me,{to:"/teams",className:"flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(sm,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Teams"})]})]}),a.jsx(vx,{currentUserId:e.id,churchId:d})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Upcoming Events"}),a.jsx(me,{to:"/calendar",className:"text-sm text-blue-600 font-medium",children:"View all →"})]}),t.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No upcoming events in the next 7 days"}):a.jsx("div",{className:"space-y-3",children:t.map(v=>a.jsxs("div",{className:"flex items-start p-3 border border-gray-100 rounded-md hover:bg-gray-50",children:[a.jsxs("div",{className:"min-w-[60px] text-center",children:[a.jsx("div",{className:"font-bold text-gray-900",children:ne(v.start_time).format("MMM")}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ne(v.start_time).format("DD")})]}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:v.title}),a.jsxs("div",{className:"text-sm text-gray-500",children:[ne(v.start_time).format("h:mm A")," - ",ne(v.end_time).format("h:mm A")]}),v.location&&a.jsx("div",{className:"text-sm text-gray-500",children:v.location})]})]},v.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Prayer Requests"}),a.jsx(me,{to:"/prayer-requests",className:"text-sm text-blue-600 font-medium",children:"View all →"})]}),i.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No prayer requests yet"}):a.jsx("div",{className:"space-y-3",children:i.map(v=>a.jsxs("div",{className:"p-3 border-b last:border-0",children:[a.jsx("div",{className:"font-medium text-gray-900",children:v.title}),a.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:v.description}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[v.is_anonymous?"Anonymous":"User"," • ",ne(v.created_at).fromNow()]})]},v.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Songs"}),a.jsx(me,{to:"/songs",className:"text-sm text-blue-600 font-medium",children:"View all →"})]}),n.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No songs added yet"}):a.jsx("div",{className:"space-y-3",children:n.map(v=>a.jsxs("div",{className:"flex items-center p-3 border-b last:border-0",children:[a.jsx(lt,{className:"text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:v.title}),v.artist&&a.jsx("div",{className:"text-sm text-gray-500",children:v.artist})]})]},v.id))})]})]})]})]})},xx=()=>{const e=et(),[t,r]=y.useState(ne()),[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState("month");y.useEffect(()=>{(async()=>{try{o(!0);const g=t.startOf("month").toISOString(),b=t.endOf("month").toISOString(),{data:j,error:C}=await I.from("events").select(`
            id,
            title,
            description,
            start_time,
            end_time,
            location,
            church_id,
            team_id,
            event_type,
            churches (name)
          `).gte("start_time",g).lte("start_time",b);if(C)throw C;s(j||[])}catch(g){console.error("Error fetching events:",g)}finally{o(!1)}})()},[t]);const u=()=>{l==="month"?r(t.subtract(1,"month")):l==="quarter"?r(t.subtract(3,"month")):l==="year"&&r(t.subtract(1,"year"))},h=()=>{l==="month"?r(t.add(1,"month")):l==="quarter"?r(t.add(3,"month")):l==="year"&&r(t.add(1,"year"))},d=()=>{const f=t.startOf("month"),g=t.endOf("month"),b=f.startOf("week"),j=g.endOf("week"),C=[];let S=b;for(;S.isBefore(j)||S.isSame(j,"day");)C.push(S),S=S.add(1,"day");return C},m=f=>n.filter(g=>ne(g.start_time).isSame(f,"day")),v=()=>{e("/services/new")},w=f=>{f.event_type==="service"?e(`/services/${f.id}`):e(`/events/${f.id}`)},x=()=>{const f=d(),g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 border-b p-2",children:g.map(b=>a.jsx("div",{className:"text-center text-sm font-medium text-gray-500",children:b},b))}),a.jsx("div",{className:"grid grid-cols-7 gap-1 p-2",children:f.map(b=>{const j=b.month()===t.month(),C=b.isSame(ne(),"day"),S=m(b);return a.jsxs("div",{className:`min-h-[80px] p-1 border rounded ${j?"bg-white":"bg-gray-50 text-gray-400"} ${C?"border-blue-500":"border-gray-200"}`,children:[a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`text-sm font-medium ${C?"bg-blue-500 text-white rounded-full w-6 h-6 inline-flex items-center justify-center":""}`,children:b.date()})}),a.jsxs("div",{className:"mt-1 space-y-1",children:[S.slice(0,3).map(_=>a.jsxs("div",{className:`truncate text-xs rounded p-1 cursor-pointer ${_.event_type==="service"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,title:_.title,onClick:()=>w(_),children:[_.event_type==="service"&&a.jsx(lt,{className:"inline mr-1",size:10}),_.title]},_.id)),S.length>3&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",S.length-3," more"]})]})]},b.valueOf())})})]})},k=()=>a.jsx("div",{className:"text-center py-20",children:a.jsx("p",{className:"text-gray-500",children:"Quarterly view coming soon"})}),p=()=>a.jsx("div",{className:"text-center py-20",children:a.jsx("p",{className:"text-gray-500",children:"Yearly view coming soon"})});return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Calendar"}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded shadow-sm flex items-center",title:"Add new service",onClick:v,children:[a.jsx(Oe,{className:"mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Service"})]})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-gray-100","aria-label":"Previous",children:a.jsx(Ty,{})}),a.jsxs("h2",{className:"text-lg font-medium",children:[l==="month"&&t.format("MMMM YYYY"),l==="quarter"&&`Q${Math.ceil((t.month()+1)/3)} ${t.year()}`,l==="year"&&t.format("YYYY")]}),a.jsx("button",{onClick:h,className:"p-2 rounded-full hover:bg-gray-100","aria-label":"Next",children:a.jsx($y,{})})]}),a.jsxs("div",{className:"border rounded-md overflow-hidden",children:[a.jsx("button",{onClick:()=>c("month"),className:`px-3 py-1 text-sm ${l==="month"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Month"}),a.jsx("button",{onClick:()=>c("quarter"),className:`px-3 py-1 text-sm ${l==="quarter"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Quarter"}),a.jsx("button",{onClick:()=>c("year"),className:`px-3 py-1 text-sm ${l==="year"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Year"})]})]}),i&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!i&&a.jsxs(a.Fragment,{children:[l==="month"&&x(),l==="quarter"&&k(),l==="year"&&p()]}),a.jsxs("div",{className:"flex items-center justify-end space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-blue-100 rounded mr-1"}),a.jsx("span",{className:"text-gray-600",children:"Services"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-green-100 rounded mr-1"}),a.jsx("span",{className:"text-gray-600",children:"Other Events"})]})]})]})},wx=()=>{const e=et(),[t,r]=y.useState([]),[n,s]=y.useState(!0),[i,o]=y.useState("");y.useEffect(()=>{(async()=>{try{s(!0);const{data:m,error:v}=await I.from("songs").select("*").order("title",{ascending:!0});if(v)throw v;r(m||[])}catch(m){console.error("Error fetching songs:",m)}finally{s(!1)}})()},[]);const l=t.filter(d=>d.title.toLowerCase().includes(i.toLowerCase())||d.artist&&d.artist.toLowerCase().includes(i.toLowerCase())),c=()=>{e("/songs/new")},u=d=>{e(`/songs/${d}`)},h=(d,m)=>{m.stopPropagation(),e(`/songs/edit/${d}`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Songs"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new song",onClick:c,children:a.jsx(Oe,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pa,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search songs by title or artist...",value:i,onChange:d=>o(d.target.value)})]}),n&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!n&&a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(lt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No songs found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i?"No songs match your search criteria.":"Get started by adding a new song."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx(Oe,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Song"]})})]}):a.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(d=>a.jsx("li",{className:"px-4 py-4 hover:bg-gray-50 cursor-pointer",onClick:()=>u(d.id),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d.title}),d.artist&&a.jsx("p",{className:"text-sm text-gray-500",children:d.artist})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[d.default_key&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Key: ",d.default_key]}),a.jsx("button",{onClick:m=>u(d.id),className:"text-gray-500 hover:text-blue-600",title:"View song",children:a.jsx(ic,{})}),a.jsx("button",{onClick:m=>h(d.id,m),className:"text-gray-500 hover:text-blue-600",title:"Edit song",children:a.jsx(ma,{})})]})]})},d.id))})})]})},bx=()=>{const e=et(),[t,r]=y.useState([]),[n,s]=y.useState(!0),[i,o]=y.useState("");y.useEffect(()=>{(async()=>{try{s(!0);const{data:m,error:v}=await I.from("events").select(`
            id,
            title,
            description,
            start_time,
            end_time,
            location,
            church_id,
            team_id,
            churches (name)
          `).eq("event_type","service").order("start_time",{ascending:!1});if(v)throw v;r(m||[])}catch(m){console.error("Error fetching services:",m)}finally{s(!1)}})()},[]);const l=t.filter(d=>{var m;return d.title.toLowerCase().includes(i.toLowerCase())||d.description&&d.description.toLowerCase().includes(i.toLowerCase())||((m=d.churches)==null?void 0:m.name)&&d.churches.name.toLowerCase().includes(i.toLowerCase())}),c=()=>{e("/services/new")},u=d=>{e(`/services/${d}`)},h=(d,m)=>{m.stopPropagation(),e(`/services/edit/${d}`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Services"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new service",onClick:c,children:a.jsx(Oe,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pa,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search services by title, description, or church...",value:i,onChange:d=>o(d.target.value)})]}),n&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!n&&a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(fr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No services found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i?"No services match your search criteria.":"Get started by adding a new service."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx(Oe,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Service"]})})]}):a.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(d=>{var m;return a.jsx("li",{className:"px-4 py-4 hover:bg-gray-50 cursor-pointer",onClick:()=>u(d.id),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d.title}),a.jsx("p",{className:"text-sm text-gray-500",children:ne(d.start_time).format("dddd, MMMM D, YYYY • h:mm A")}),((m=d.churches)==null?void 0:m.name)&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.churches.name})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:v=>u(d.id),className:"text-gray-500 hover:text-blue-600",title:"View service",children:a.jsx(ic,{})}),a.jsx("button",{onClick:v=>h(d.id,v),className:"text-gray-500 hover:text-blue-600",title:"Edit service",children:a.jsx(ma,{})})]})]})},d.id)})})})]})},jx=({profile:e,isCurrentUser:t,onAvatarChange:r,onCoverChange:n,onEditProfile:s,uploadingAvatar:i,uploadingCover:o,stats:l})=>{const c=y.useRef(null),u=y.useRef(null),h=()=>{t&&c.current.click()},d=()=>{t&&u.current.click()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative h-48 bg-gray-200 rounded-lg overflow-hidden",children:[e.coverUrl?a.jsx("img",{src:e.coverUrl,alt:"Cover",className:"w-full h-full object-cover"}):a.jsx("div",{className:"h-full w-full bg-gradient-to-r from-blue-500 to-purple-600"}),t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"absolute bottom-2 right-2 bg-white bg-opacity-70 p-2 rounded-full",onClick:d,disabled:o,children:a.jsx(Vu,{className:"text-gray-700"})}),a.jsx("input",{type:"file",ref:u,onChange:n,className:"hidden",accept:"image/*"})]})]}),a.jsxs("div",{className:"relative flex flex-col md:flex-row gap-4 -mt-16 md:-mt-12 px-4",children:[a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"w-32 h-32 rounded-full bg-white p-1 shadow-lg",children:[e.avatarUrl?a.jsx("img",{src:e.avatarUrl,alt:e.fullName,className:"w-full h-full rounded-full object-cover"}):a.jsx("div",{className:"w-full h-full rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(It,{className:"text-gray-400 text-4xl"})}),t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"absolute bottom-0 right-0 bg-white bg-opacity-70 p-2 rounded-full shadow",onClick:h,disabled:i,children:a.jsx(Vu,{className:"text-gray-700"})}),a.jsx("input",{type:"file",ref:c,onChange:r,className:"hidden",accept:"image/*"})]})]})}),a.jsxs("div",{className:"flex-1 pt-16 md:pt-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.fullName}),a.jsxs("p",{className:"text-gray-600",children:[e.churchName?`${e.churchName} • `:"",e.role==="member"?"Member":e.role==="admin"?"Administrator":e.role==="worship_leader"?"Worship Leader":e.role]})]}),t&&a.jsx("div",{className:"mt-2 md:mt-0 space-x-2",children:a.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md flex items-center",onClick:s,children:[a.jsx(ma,{className:"mr-2"})," Edit Profile"]})})]}),a.jsxs("div",{className:"flex mt-4 gap-4 text-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-gray-900",children:l.posts}),a.jsx("div",{className:"text-sm text-gray-600",children:"Posts"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-gray-900",children:l.followers}),a.jsx("div",{className:"text-sm text-gray-600",children:"Followers"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-gray-900",children:l.following}),a.jsx("div",{className:"text-sm text-gray-600",children:"Following"})]})]})]})]})]})},_x=({profile:e})=>a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:a.jsxs("div",{className:"p-6 space-y-4",children:[e.bio&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"About"}),a.jsx("p",{className:"text-gray-700",children:e.bio})]}),e.churchName&&a.jsxs("div",{className:"flex items-start",children:[a.jsx(kn,{className:"mt-1 mr-2 text-gray-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Church"}),a.jsx("p",{className:"text-gray-700",children:e.churchName})]})]}),e.role&&a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ay,{className:"mt-1 mr-2 text-gray-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Role"}),a.jsx("p",{className:"text-gray-700",children:e.role})]})]}),e.spiritualGifts&&e.spiritualGifts.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(bs,{className:"mr-2 text-gray-500"}),a.jsx("h3",{className:"font-medium text-gray-900",children:"Spiritual Gifts"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.spiritualGifts.map(t=>a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:t},t))})]}),e.ministryInterests&&e.ministryInterests.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(lt,{className:"mr-2 text-gray-500"}),a.jsx("h3",{className:"font-medium text-gray-900",children:"Ministry Interests"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.ministryInterests.map(t=>a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:t},t))})]})]})}),zi=({tags:e=[],onTagsChange:t,options:r=[],allowCustom:n=!1,placeholder:s="Add a tag...",label:i="Tags",name:o="tags"})=>{const[l,c]=y.useState(""),[u,h]=y.useState(!1),d=r.filter(x=>!e.includes(x)).filter(x=>x.toLowerCase().includes(l.toLowerCase())),m=x=>{x&&(e.includes(x)||t([...e,x]),c(""),h(!1))},v=x=>{t(e.filter(k=>k!==x))},w=x=>{x.key==="Enter"&&l&&(x.preventDefault(),n||r.includes(l)?m(l):d.length>0&&m(d[0])),x.key==="Escape"&&h(!1)};return a.jsxs("div",{className:"space-y-2",children:[i&&a.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700",children:i}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(x=>a.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded-md text-sm",children:[a.jsx("span",{children:x}),a.jsx("button",{type:"button",onClick:()=>v(x),className:"ml-1 p-1 rounded-full hover:bg-blue-200","aria-label":`Remove ${x}`,children:a.jsx(js,{size:10})})]},x))}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",id:o,name:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:s,value:l,onChange:x=>{c(x.target.value),h(!0)},onFocus:()=>h(!0),onBlur:()=>{setTimeout(()=>h(!1),200)},onKeyDown:w}),u&&l&&d.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white shadow-lg rounded-md border border-gray-200 max-h-60 overflow-auto",children:d.map(x=>a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center",onMouseDown:()=>m(x),children:[a.jsx(Oe,{className:"text-blue-500 mr-2",size:12}),a.jsx("span",{children:x})]},x))}),u&&l&&d.length===0&&n&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white shadow-lg rounded-md border border-gray-200",children:a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center",onMouseDown:()=>m(l),children:[a.jsx(Oe,{className:"text-blue-500 mr-2",size:12}),a.jsxs("span",{children:['Add "',l,'"']})]})})]})]})},Nx=({profile:e,onProfileChange:t,onSubmit:r,onCancel:n,updating:s,spiritualGiftOptions:i,ministryInterestOptions:o})=>{const l=h=>{const{name:d,value:m}=h.target;t(v=>({...v,[d]:m}))},c=h=>{t(d=>({...d,spiritualGifts:h}))},u=h=>{t(d=>({...d,ministryInterests:h}))};return a.jsx("form",{onSubmit:r,children:a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsx("input",{type:"text",name:"fullName",id:"fullName",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:e.fullName,onChange:l})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),a.jsx("textarea",{name:"bio",id:"bio",rows:"3",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:e.bio,onChange:l,placeholder:"Share a little about yourself, your faith journey, etc."})]}),a.jsx("div",{children:a.jsx(zi,{name:"spiritualGifts",label:"Spiritual Gifts",tags:e.spiritualGifts,onTagsChange:c,options:i,placeholder:"Select your spiritual gifts..."})}),a.jsx("div",{children:a.jsx(zi,{name:"ministryInterests",label:"Ministry Interests",tags:e.ministryInterests,onTagsChange:u,options:o,placeholder:"Select your ministry interests..."})})]}),a.jsxs("div",{className:"px-6 py-3 bg-gray-50 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:n,children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:s,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[s?a.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-t-2 border-white rounded-full"}):a.jsx(tm,{className:"mr-2"}),"Save Changes"]})]})]})})},Wu=({connection:e,currentUserId:t,onFollowToggle:r,isFollowing:n})=>{const s=e.profiles||e,i=e.follower_id||e.following_id;return a.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[a.jsxs(me,{to:`/profile/${i}`,className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 mr-3 flex-shrink-0",children:s.avatar_url?a.jsx("img",{src:s.avatar_url,alt:s.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(It,{className:"text-gray-400"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:s.full_name}),s.church_id&&a.jsx("p",{className:"text-xs text-gray-500",children:s.church_name||"Church Member"}),s.spiritual_gifts&&s.spiritual_gifts.length>0&&a.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[s.spiritual_gifts.slice(0,3).map(o=>a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:o},o)),s.spiritual_gifts.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.spiritual_gifts.length-3," more"]})]})]})]}),i!==t&&a.jsx("button",{onClick:()=>r(i),className:`flex items-center px-3 py-1 rounded-md text-sm ${n?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:n?a.jsxs(a.Fragment,{children:[a.jsx(Qy,{className:"mr-1"}),"Unfollow"]}):a.jsxs(a.Fragment,{children:[a.jsx(nm,{className:"mr-1"}),"Follow"]})})]})},Sx=({followers:e,following:t,currentUserId:r,onFollowToggle:n,activeConnectionTab:s="followers",onTabChange:i})=>{const o=t.map(x=>x.following_id),[l,c]=y.useState(""),[u,h]=y.useState([]),d=new Set;[...e,...t].forEach(x=>{const k=x.profiles||x;k.spiritual_gifts&&Array.isArray(k.spiritual_gifts)&&k.spiritual_gifts.forEach(p=>d.add(p)),k.ministry_interests&&Array.isArray(k.ministry_interests)&&k.ministry_interests.forEach(p=>d.add(p))});const m=x=>x.filter(k=>{var b;const p=k.profiles||k,f=(b=p.full_name)==null?void 0:b.toLowerCase().includes(l.toLowerCase());let g=!0;return u.length>0&&(g=!1,[...p.spiritual_gifts||[],...p.ministry_interests||[]].some(C=>u.includes(C))&&(g=!0)),f&&g}),v=m(e),w=m(t);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-4 border-b",children:[a.jsx("button",{onClick:()=>i("followers"),className:`pb-2 px-4 ${s==="followers"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500"}`,children:"Followers"}),a.jsx("button",{onClick:()=>i("following"),className:`pb-2 px-4 ${s==="following"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500"}`,children:"Following"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"Search connections...",value:l,onChange:x=>c(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})}),d.size>0&&a.jsx(zi,{tags:u,onTagsChange:h,options:[...d],label:"Filter by gifts & interests",placeholder:"Filter by gifts or interests..."})]}),a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s==="followers"?v.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:l||u.length>0?"No followers match your filters":"No followers yet"}):a.jsx("div",{children:v.map(x=>a.jsx(Wu,{connection:x,currentUserId:r,onFollowToggle:n,isFollowing:o.includes(x.follower_id)},x.follower_id))}):w.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:l||u.length>0?"No connections match your filters":"Not following anyone yet"}):a.jsx("div",{children:w.map(x=>a.jsx(Wu,{connection:x,currentUserId:r,onFollowToggle:n,isFollowing:!0},x.following_id))})})]})};ne.extend(oc);const kx=({post:e,isCurrentUser:t})=>a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-4",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 mr-3",children:e.profile.avatar_url&&a.jsx("img",{src:e.profile.avatar_url,alt:e.profile.full_name,className:"h-full w-full object-cover"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e.profile.full_name}),a.jsx("p",{className:"text-sm text-gray-500",children:ne(e.created_at).fromNow()})]})]}),a.jsx("div",{className:"mb-3",children:a.jsx("p",{className:"text-gray-800",children:e.content})}),e.image_url&&a.jsx("div",{className:"mb-3 rounded-lg overflow-hidden",children:a.jsx("img",{src:e.image_url,alt:"Post attachment",className:"w-full object-cover"})}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(bs,{className:"mr-1 text-red-500"}),e.reaction_count||0," likes"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(im,{className:"mr-1"}),e.commentsCount||0," comments"]})]}),t&&a.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:"Edit"})]})]})}),Cx=({posts:e,loading:t,isCurrentUser:r})=>t?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e.length===0?a.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[a.jsx("h3",{className:"text-gray-500 font-medium",children:"No posts yet"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r?"Share your first post with your church community.":"This user has not posted anything yet."})]}):a.jsx("div",{children:e.map(n=>a.jsx(kx,{post:n,isCurrentUser:r},n.id))}),Ex=()=>{const{userId:e}=Es(),{user:t,updateProfile:r}=qe(),n=t==null?void 0:t.id,s=e||n,i=s===n,[o,l]=y.useState(!0),[c,u]=y.useState(!1),[h,d]=y.useState(null),[m,v]=y.useState("profile"),[w,x]=y.useState(!1),[k,p]=y.useState(!1),[f,g]=y.useState([]),[b,j]=y.useState([]),[C,S]=y.useState([]),[_,L]=y.useState(!1),[R,T]=y.useState(!1),[M,B]=y.useState("followers"),[$,P]=y.useState({fullName:"",email:"",churchName:"",role:"",bio:"",avatarUrl:"",coverUrl:"",spiritualGifts:[],ministryInterests:[]});y.useEffect(()=>{A()},[s]);const A=async()=>{var Q;try{l(!0);const{data:U,error:ee}=await I.from("profiles").select("*, churches:church_id(*)").eq("id",s).single();if(ee)throw ee;P({fullName:(U==null?void 0:U.full_name)||"",email:(U==null?void 0:U.email)||"",churchName:((Q=U==null?void 0:U.churches)==null?void 0:Q.name)||"",role:(U==null?void 0:U.user_role)||"member",bio:(U==null?void 0:U.bio)||"",avatarUrl:(U==null?void 0:U.avatar_url)||"",coverUrl:(U==null?void 0:U.cover_url)||"",spiritualGifts:(U==null?void 0:U.spiritual_gifts)||[],ministryInterests:(U==null?void 0:U.ministry_interests)||[]}),F(s),N(s),E(s)}catch(U){console.error("Error fetching profile:",U)}finally{l(!1)}},F=async Q=>{try{L(!0);const{data:U,error:ee}=await I.from("posts").select("*").eq("user_id",Q).order("created_at",{ascending:!1}).limit(10);if(ee)throw ee;const Z=await Promise.all(U.map(async ve=>{const{data:We}=await I.from("profiles").select("full_name, avatar_url").eq("id",ve.user_id).single(),{data:tt,error:Ar}=await I.from("reactions").select("reaction_type, count(*)",{count:"exact"}).eq("post_id",ve.id).group("reaction_type");Ar&&console.error("Error fetching reactions:",Ar);const{count:wm,error:cc}=await I.from("comments").select("id",{count:"exact"}).eq("post_id",ve.id);return cc&&console.error("Error fetching comments count:",cc),{...ve,profile:We||{full_name:$.fullName,avatar_url:$.avatarUrl},reactions:tt||[],commentsCount:wm||0}}));g(Z)}catch(U){console.error("Error fetching posts:",U)}finally{L(!1)}},N=async Q=>{try{const{data:U,error:ee}=await I.from("follows").select("following_id, profiles:following_id(*)").eq("follower_id",Q);if(ee)throw ee;j(U||[])}catch(U){console.error("Error fetching following:",U)}},E=async Q=>{try{const{data:U,error:ee}=await I.from("follows").select("follower_id, profiles:follower_id(*)").eq("following_id",Q);if(ee)throw ee;S(U||[])}catch(U){console.error("Error fetching followers:",U)}},O=async Q=>{Q.preventDefault();try{u(!0),d(null);const{error:U}=await I.from("profiles").update({full_name:$.fullName,bio:$.bio,spiritual_gifts:$.spiritualGifts,ministry_interests:$.ministryInterests}).eq("id",n);if(U)throw U;await r({fullName:$.fullName}),T(!1),d({type:"success",text:"Profile updated successfully"})}catch(U){console.error("Error updating profile:",U),d({type:"error",text:U.message||"Failed to update profile"})}finally{u(!1)}},z=async Q=>{try{x(!0);const U=Q.target.files[0];if(!U)return;const ee=U.name.split(".").pop(),Z=`${n}/${Math.random().toString(36).substring(2)}.${ee}`,{error:ve}=await I.storage.from("avatars").upload(Z,U);if(ve)throw ve;const{data:We}=I.storage.from("avatars").getPublicUrl(Z),{error:tt}=await I.from("profiles").update({avatar_url:We.publicUrl}).eq("id",n);if(tt)throw tt;P(Ar=>({...Ar,avatarUrl:We.publicUrl}))}catch(U){console.error("Error uploading avatar:",U),d({type:"error",text:"Failed to upload avatar"})}finally{x(!1)}},V=async Q=>{try{p(!0);const U=Q.target.files[0];if(!U)return;const ee=U.name.split(".").pop(),Z=`covers/${n}/${Math.random().toString(36).substring(2)}.${ee}`,{error:ve}=await I.storage.from("avatars").upload(Z,U);if(ve)throw ve;const{data:We}=I.storage.from("avatars").getPublicUrl(Z),{error:tt}=await I.from("profiles").update({cover_url:We.publicUrl}).eq("id",n);if(tt)throw tt;P(Ar=>({...Ar,coverUrl:We.publicUrl}))}catch(U){console.error("Error uploading cover:",U),d({type:"error",text:"Failed to upload cover image"})}finally{p(!1)}},G=async Q=>{try{const{data:U,error:ee}=await I.from("follows").select("id").eq("follower_id",n).eq("following_id",Q).single();if(ee&&ee.code!=="PGRST116")throw ee;if(U){const{error:Z}=await I.from("follows").delete().eq("id",U.id);if(Z)throw Z}else{const{error:Z}=await I.from("follows").insert({follower_id:n,following_id:Q});if(Z)throw Z}N(s),E(s)}catch(U){console.error("Error toggling follow:",U),d({type:"error",text:"Failed to update follow status"})}};if(o)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-48 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]});const te=["Teaching","Worship","Leadership","Service","Hospitality","Prayer","Giving","Administration","Encouragement","Evangelism"],we=["Worship Team","Children's Ministry","Youth Ministry","Missions","Media/Tech","Hospitality","Prayer Team","Small Groups","Outreach"],Ce={posts:f.length,followers:C.length,following:b.length};return a.jsxs("div",{className:"space-y-6 pb-16 md:pb-0",children:[a.jsx(jx,{profile:$,isCurrentUser:i,onAvatarChange:z,onCoverChange:V,onEditProfile:()=>T(!0),uploadingAvatar:w,uploadingCover:k,stats:Ce}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{className:`pb-4 px-1 ${m==="profile"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("profile"),children:"Profile"}),a.jsx("button",{className:`pb-4 px-1 ${m==="posts"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("posts"),children:"Posts"}),a.jsx("button",{className:`pb-4 px-1 ${m==="connections"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("connections"),children:"Connections"})]})}),h&&a.jsx("div",{className:`mb-4 p-3 rounded-md text-sm ${h.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:h.text}),m==="profile"&&a.jsx("div",{className:"space-y-6",children:i&&R?a.jsx(Nx,{profile:$,onProfileChange:P,onSubmit:O,onCancel:()=>T(!1),updating:c,spiritualGiftOptions:te,ministryInterestOptions:we}):a.jsx(_x,{profile:$})}),m==="posts"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Posts"}),i&&a.jsx(me,{to:"/create-post",className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"New Post"})]}),a.jsx(Cx,{posts:f,loading:_,isCurrentUser:i})]}),m==="connections"&&a.jsx(Sx,{followers:C,following:b,currentUserId:n,onFollowToggle:G,activeConnectionTab:M,onTabChange:B})]})};ne.extend(oc);const Px=({isOpen:e,onClose:t,onAdd:r,categoryOptions:n})=>{const[s,i]=y.useState(""),[o,l]=y.useState(""),[c,u]=y.useState(!1),[h,d]=y.useState(!1),[m,v]=y.useState([]),[w,x]=y.useState(!1),k=async p=>{if(p.preventDefault(),!s.trim()){alert("Please enter a title for your prayer request");return}x(!0);try{await r({title:s,description:o,isAnonymous:c,isPrivate:h,categories:m}),i(""),l(""),u(!1),d(!1),v([]),t()}catch(f){console.error("Error adding prayer request:",f),alert("Failed to add prayer request")}finally{x(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-semibold",children:"New Prayer Request"})}),a.jsxs("form",{onSubmit:k,className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),a.jsx("input",{type:"text",id:"title",value:s,onChange:p=>i(p.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"What would you like prayer for?",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Details"}),a.jsx("textarea",{id:"description",value:o,onChange:p=>l(p.target.value),rows:"4",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Share more details about your prayer request..."})]}),a.jsx("div",{children:a.jsx(zi,{name:"categories",label:"Categories",tags:m,onTagsChange:v,options:n,allowCustom:!0,placeholder:"Add categories..."})}),a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"isAnonymous",type:"checkbox",checked:c,onChange:p=>u(p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isAnonymous",className:"ml-2 text-sm text-gray-700",children:"Post anonymously"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"isPrivate",type:"checkbox",checked:h,onChange:p=>d(p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isPrivate",className:"ml-2 text-sm text-gray-700",children:"Private (only visible to church staff)"})]})]}),a.jsxs("div",{className:"mt-5 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:w,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[w?a.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-t-2 border-white rounded-full"}):a.jsx(Oe,{className:"mr-2"}),"Add Prayer Request"]})]})]})]})}):null},Tx=({categories:e,activeCategories:t,onChange:r})=>{const[n,s]=y.useState(!1),i=o=>{t.includes(o)?r(t.filter(l=>l!==o)):r([...t,o])};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>s(!n),className:"inline-flex items-center px-2 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(rm,{className:"mr-1"}),"Categories"]}),n&&a.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:a.jsx("div",{className:"py-1",children:e.length===0?a.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No categories found"}):e.map(o=>a.jsxs("div",{className:"px-4 py-2 flex items-center",children:[a.jsx("input",{type:"checkbox",id:`category-${o}`,checked:t.includes(o),onChange:()=>i(o),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:`category-${o}`,className:"ml-2 text-sm text-gray-700",children:o})]},o))})})]})},$x=({prayer:e,onPray:t,currentUserId:r,categoryOptions:n})=>(e.user_id,a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:[e.is_anonymous?"Anonymous":e.author_name||"User"," • ",ne(e.created_at).fromNow()]})]})}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-gray-700",children:e.description})}),e.categories&&e.categories.length>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:e.categories.map(s=>a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:s},s))}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>t(e.id),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx($t,{className:"mr-1"}),"I Prayed"]}),a.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[a.jsx(bs,{className:"text-red-500 mr-1"}),a.jsxs("span",{children:[e.prayer_count||0," prayers"]})]})]})]})})),Ox=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[s,i]=y.useState("all"),[o,l]=y.useState(!1),[c,u]=y.useState([]),[h,d]=y.useState([]),[m,v]=y.useState({}),{user:w}=qe(),x=["Health","Family","Financial","Spiritual","Guidance","Healing","Relationships","Work","Education","Emotional"];y.useEffect(()=>{k()},[]);const k=async()=>{try{n(!0);const{data:b}=await I.from("profiles").select("church_id").eq("id",w==null?void 0:w.id).single();if(b!=null&&b.church_id){const{data:j,error:C}=await I.from("prayer_requests").select("*").eq("church_id",b.church_id).eq("is_private",!1).order("created_at",{ascending:!1});if(C)throw C;console.log("Prayer requests data:",j);const S=new Set;j.forEach(T=>{T.categories&&Array.isArray(T.categories)&&T.categories.forEach(M=>S.add(M))});const _=[...new Set(j.filter(T=>!T.is_anonymous).map(T=>T.user_id))];console.log("User IDs to fetch profiles for:",_);let L={...m};if(_.length>0){const{data:T,error:M}=await I.from("profiles").select("id, full_name, avatar_url").in("id",_);console.log("Fetched profiles:",T),console.log("Profiles error:",M),!M&&T&&(T.forEach(B=>{L[B.id]=B}),console.log("Profile map created:",L),v(L))}const R=j.map(T=>{const M=!T.is_anonymous&&L[T.user_id]?L[T.user_id].full_name:null;return console.log(`Prayer ${T.id} author info:`,{is_anonymous:T.is_anonymous,user_id:T.user_id,profile_found:!!L[T.user_id],author_name:M}),{...T,author_name:M}});t(R||[]),u([...S])}}catch(b){console.error("Error fetching prayer requests:",b)}finally{n(!1)}},p=async b=>{try{const{data:j}=await I.from("profiles").select("church_id, full_name").eq("id",w==null?void 0:w.id).single();console.log("Profile data for new prayer request:",j);const{data:C,error:S}=await I.from("prayer_requests").insert({title:b.title,description:b.description,is_anonymous:b.isAnonymous,is_private:b.isPrivate,categories:b.categories,church_id:j==null?void 0:j.church_id,user_id:w==null?void 0:w.id,prayer_count:0}).select().single();if(S)throw S;if(console.log("New prayer request created:",C),C&&!b.isAnonymous&&(j!=null&&j.full_name)){const _={...C,author_name:j.full_name};console.log("Adding new prayer with author to state:",_),t(L=>[_,...L])}else console.log("Refetching all prayers after creation"),k()}catch(j){throw console.error("Error adding prayer request:",j),j}},f=async b=>{try{const{data:j,error:C}=await I.from("prayer_requests").select("prayer_count").eq("id",b).single();if(C)throw C;const{error:S}=await I.from("prayer_requests").update({prayer_count:(j.prayer_count||0)+1}).eq("id",b);if(S)throw S;t(_=>_.map(L=>L.id===b?{...L,prayer_count:(L.prayer_count||0)+1}:L))}catch(j){console.error("Error recording prayer:",j),alert("Failed to record your prayer")}},g=e.filter(b=>s==="all"?!0:s==="mine"?b.user_id===(w==null?void 0:w.id):s==="others"?b.user_id!==(w==null?void 0:w.id):!0).filter(b=>h.length===0?!0:b.categories&&Array.isArray(b.categories)?b.categories.some(j=>h.includes(j)):!1);return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Prayer Requests"}),a.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new prayer request",children:a.jsx(Oe,{})})]}),a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200",children:[a.jsxs("nav",{className:"-mb-px flex space-x-4",children:[a.jsx("button",{onClick:()=>i("all"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"All Requests"}),a.jsx("button",{onClick:()=>i("mine"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="mine"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"My Requests"}),a.jsx("button",{onClick:()=>i("others"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="others"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Others' Requests"})]}),c.length>0&&a.jsx(Tx,{categories:c,activeCategories:h,onChange:d})]}),r&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!r&&a.jsx("div",{className:"space-y-4",children:g.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[a.jsx($t,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No prayer requests found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s!=="all"?`No ${s==="mine"?"personal":"others"} prayer requests found.`:h.length>0?"No prayer requests matching selected categories.":"Share your first prayer request with your church community."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Oe,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Prayer Request"]})})]}):g.map(b=>a.jsx($x,{prayer:b,onPray:f,currentUserId:w==null?void 0:w.id},b.id))}),a.jsx(Px,{isOpen:o,onClose:()=>l(!1),onAdd:p,categoryOptions:[...new Set([...x,...c])]})]})},Lx=()=>{const{user:e}=qe(),t=et(),[r,n]=y.useState(""),[s,i]=y.useState([]),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[h,d]=y.useState(!1),[m,v]=y.useState(null),[w,x]=y.useState(!1),[k,p]=y.useState({name:"",location:"",description:""}),[f,g]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const L=localStorage.getItem("userChurchId");if(L){const{data:M}=await I.from("churches").select("name").eq("id",L).single();if(M){t("/dashboard");return}}const{data:R,error:T}=await I.from("profiles").select("church_id").eq("id",e.id).single();!T&&(R!=null&&R.church_id)&&(localStorage.setItem("userChurchId",R.church_id),t("/dashboard"))}catch(L){console.error("Error checking user church:",L)}})()},[e,t]);const b=async _=>{if(_.preventDefault(),!!r.trim()){l(!0),v(null);try{let L=I.from("churches").select("*");r&&(L=L.ilike("name",`%${r}%`));const{data:R,error:T}=await L;if(T)throw T;i(R||[]),u(!0)}catch(L){console.error("Error searching churches:",L),v("Failed to search churches. Please try again.")}finally{l(!1)}}},j=async _=>{d(!0),v(null);try{const{data:L,error:R}=await I.from("churches").select("name").eq("id",_).single();if(R)throw R;const{error:T}=await I.from("profiles").update({church_id:_}).eq("id",e.id);if(T)throw T;localStorage.setItem("userChurchId",_),v(null),alert(`You've successfully joined ${L.name}!`),t("/dashboard")}catch(L){console.error("Error joining church:",L),v("Failed to join church. Please try again."),d(!1)}},C=_=>{const{name:L,value:R}=_.target;p({...k,[L]:R})},S=async _=>{if(_.preventDefault(),!k.name){v("Church name is required");return}g(!0),v(null);try{const L="admin",{data:R,error:T}=await I.from("churches").insert([{name:k.name,location:k.location,description:k.description,created_by:e.id}]).select().single();if(T)throw T;const{error:M}=await I.from("profiles").update({church_id:R.id,user_role:L}).eq("id",e.id);if(M)throw M;localStorage.setItem("userChurchId",R.id),v(null),alert(`You've successfully created ${R.name}!`),t("/dashboard")}catch(L){console.error("Error creating church:",L),v("Failed to create church. Please try again.")}finally{g(!1)}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Find or Create a Church"}),m&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:m}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Search for your church"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Enter the name of your church to find and join it"})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("form",{onSubmit:b,className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pa,{className:"text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Search by church name",className:"pl-10 pr-4 py-2 border rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:r,onChange:_=>n(_.target.value)})]}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center justify-center",disabled:o,children:o?a.jsx(tl,{className:"animate-spin"}):"Search"})]}),c&&a.jsx("div",{className:"mt-4",children:s.length===0?a.jsxs("div",{className:"text-center py-6",children:[a.jsx(kn,{className:"text-gray-400 text-4xl mx-auto mb-2"}),a.jsxs("p",{className:"text-gray-600",children:['No churches found matching "',r,'"']}),a.jsxs("button",{className:"mt-4 text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center mx-auto",onClick:()=>x(!0),children:[a.jsx(Oe,{className:"mr-1"}),"Create your church"]})]}):a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-gray-700 mb-2",children:[s.length," ",s.length===1?"church":"churches"," found"]}),a.jsx("div",{className:"space-y-3",children:s.map(_=>a.jsxs("div",{className:"border rounded-md p-3 hover:bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:_.name}),_.location&&a.jsx("div",{className:"text-gray-600 text-sm",children:_.location})]}),a.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",onClick:()=>j(_.id),disabled:h,children:h?"Joining...":"Join"})]}),_.description&&a.jsx("div",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:_.description})]},_.id))}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Don't see your church?"}),a.jsxs("button",{className:"mt-1 text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center mx-auto",onClick:()=>x(!0),children:[a.jsx(Oe,{className:"mr-1"}),"Create your church"]})]})]})})]})]}),w&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Create a new church"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Fill out the form below to create your church"})]}),a.jsx("div",{className:"p-4",children:a.jsx("form",{onSubmit:S,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Church Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",name:"name",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:k.name,onChange:C,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),a.jsx("input",{type:"text",id:"location",name:"location",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:k.location,onChange:C,placeholder:"City, State or full address"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",rows:"3",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:k.description,onChange:C,placeholder:"Brief description of your church"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:()=>x(!1),children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center",disabled:f,children:f?a.jsxs(a.Fragment,{children:[a.jsx(tl,{className:"animate-spin mr-2"}),"Creating..."]}):"Create Church"})]})]})})})]})]})},xn=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Fi={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#","C#":"C#","D#":"D#","F#":"F#","G#":"G#","A#":"A#"},Rx=(e,t)=>{if(!e||t===0)return e;const r=/^([A-G][#b]?)(.*)$/,n=e.match(r);if(!n)return e;const[s,i,o]=n;let l=i;Fi[i]&&(l=Fi[i]);const c=xn.indexOf(l);if(c===-1)return e;const u=(c+t)%12,h=u<0?u+12:u;return xn[h]+o},Ax=(e,t)=>{const r=e.replace("m",""),n=t.replace("m",""),s=Fi[r]||r,i=Fi[n]||n,o=xn.indexOf(s),l=xn.indexOf(i);return o===-1||l===-1?0:(l-o+12)%12},Ix=(e,t,r)=>{const n=Ax(t,r);return Rx(e,n)},Gu=(e,t,r)=>{if(!e||!t||!r||t===r)return e;const n=/\b([A-G][#b]?(?:m|maj|min|aug|dim|sus|add|maj7|m7|7|9|11|13|6|5)?(?:\/[A-G][#b]?)?)\b/g;return e.replace(n,s=>Ix(s,t,r))},hm=()=>{const e=xn.map(r=>r),t=xn.map(r=>`${r}m`);return[...e,...t]},fm=async e=>{try{const{data:t,error:r}=await I.from("songs").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Song not found");t.tags=[];try{const{error:n}=await I.from("song_tag_assignments").select("id").limit(1);if(!n){const{data:s}=await I.from("song_tag_assignments").select("tag_id").eq("song_id",e);if(s&&s.length>0){const i=s.map(l=>l.tag_id),{data:o}=await I.from("song_tags").select("id, name, color").in("id",i);o&&o.length>0&&(t.tags=o)}}}catch(n){console.warn("Could not fetch song tags:",n)}return t}catch(t){throw console.error("Error in fetchSongById:",t),t}},Mx=async e=>{var c;const{data:t}=await I.auth.getUser();if(!((c=t==null?void 0:t.user)!=null&&c.id))throw new Error("User not authenticated");const{data:r,error:n}=await I.from("profiles").select("church_id").eq("id",t.user.id).single();if(n)throw n;if(!r.church_id)throw new Error("User not associated with a church");const s={...e,church_id:r.church_id,created_by:t.user.id},i=s.tags||[];delete s.tags;const{data:o,error:l}=await I.from("songs").insert(s).select().single();if(l)throw l;if(i.length>0&&o)try{await mm(o.id,i)}catch(u){console.warn("Could not assign tags to song:",u)}return o},Dx=async(e,t)=>{const r=t.tags||[],n={...t};delete n.tags;const{data:s,error:i}=await I.from("songs").update(n).eq("id",e).select().single();if(i)throw i;if(r.length>0)try{const{error:o}=await I.from("song_tag_assignments").select("id").limit(1);o||(await I.from("song_tag_assignments").delete().eq("song_id",e),await mm(e,r))}catch(o){console.warn("Could not update song tags:",o)}return s},zx=async e=>{const{error:t}=await I.from("songs").delete().eq("id",e);if(t)throw t},Fx=async()=>{try{const{error:e}=await I.from("song_tags").select("id").limit(1);if(e)return[];const{data:t,error:r}=await I.from("song_tags").select("*").order("name",{ascending:!0});if(r)throw r;return t||[]}catch(e){return console.warn("Could not fetch song tags:",e),[]}},Ux=async e=>{var o;const{data:t}=await I.auth.getUser();if(!((o=t==null?void 0:t.user)!=null&&o.id))throw new Error("User not authenticated");const{data:r,error:n}=await I.from("profiles").select("church_id").eq("id",t.user.id).single();if(n)throw n;const{data:s,error:i}=await I.from("song_tags").insert({...e,church_id:r.church_id,created_by:t.user.id}).select().single();if(i)throw i;return s},mm=async(e,t)=>{const n=t.map(i=>typeof i=="object"?i.id:i).map(i=>({song_id:e,tag_id:i}));if(n.length===0)return;const{error:s}=await I.from("song_tag_assignments").insert(n);if(s)throw s},Bx=async(e,t,r)=>{const n=["chord-charts","sheet-music","backing-tracks"];if(!n.includes(r))throw new Error(`Invalid attachment type. Must be one of: ${n.join(", ")}`);const{data:s,error:i}=await I.from("songs").select("church_id").eq("id",e).single();if(i)throw i;const o=s.church_id,l=`${Date.now()}_${t.name}`,c=`${o}/${e}/${r}/${l}`,{data:u,error:h}=await I.storage.from("song-attachments").upload(c,t,{cacheControl:"3600",upsert:!1});if(h)throw h;const{data:d}=I.storage.from("song-attachments").getPublicUrl(u.path);return d.publicUrl},Ku=async e=>{try{const{data:t,error:r}=await I.from("songs").select("church_id").eq("id",e).single();if(r)throw r;const s=`${t.church_id}/${e}`,i=["chord-charts","sheet-music","backing-tracks"],o={};for(const l of i){const c=`${s}/${l}`,{data:u,error:h}=await I.storage.from("song-attachments").list(c);if(h&&h.message!=="The resource was not found")throw h;o[l]=(u||[]).map(d=>({...d,url:I.storage.from("song-attachments").getPublicUrl(`${c}/${d.name}`).data.publicUrl}))}return o}catch(t){return console.warn("Could not list song attachments:",t),{"chord-charts":[],"sheet-music":[],"backing-tracks":[]}}},Vx=async(e,t,r)=>{try{const{data:n,error:s}=await I.from("songs").select("church_id").eq("id",e).single();if(s)throw s;const o=`${n.church_id}/${e}/${t}/${r}`,{error:l}=await I.storage.from("song-attachments").remove([o]);if(l)throw l}catch(n){throw console.warn("Could not delete song attachment:",n),n}};var pm={exports:{}},Hx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qx=Hx,Wx=qx;function gm(){}function vm(){}vm.resetWarningCache=gm;var Gx=function(){function e(n,s,i,o,l,c){if(c!==Wx){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:vm,resetWarningCache:gm};return r.PropTypes=r,r};pm.exports=Gx();var Kx=pm.exports;const es=Ui(Kx),lc=({content:e,className:t=""})=>{if(!e)return null;const r=e.split(`
`),n=[];for(let s=0;s<r.length;s++){const i=r[s],o=s+1<r.length?r[s+1]:null;Ju(i)&&o&&!Ju(o)?(n.push({type:"chord-lyric-pair",chords:i,lyrics:o}),s++):n.push({type:"text",content:i})}return a.jsx("div",{className:`font-mono text-sm ${t}`,children:n.map((s,i)=>s.type==="chord-lyric-pair"?a.jsxs("div",{className:"mb-1",children:[a.jsx("div",{className:"text-blue-600 font-bold whitespace-pre",children:s.chords}),a.jsx("div",{className:"whitespace-pre",children:s.lyrics})]},i):s.content.trim().startsWith("[")&&s.content.trim().endsWith("]")?a.jsx("div",{className:"font-bold text-gray-700 mt-4 mb-2",children:s.content},i):s.content.trim()===""?a.jsx("div",{className:"h-4"},i):a.jsx("div",{className:"whitespace-pre mb-1",children:s.content},i))})};function Ju(e){if(!e||e.trim()===""||!/\s{2,}/.test(e))return!1;const r=/^[A-G][#b]?(m|maj|min|aug|dim|sus|add|2|4|5|6|7|9|11|13|-|\+|\/)*/,s=e.split(/\s{2,}/).filter(o=>o.trim()!=="");return s.length===0?!1:s.filter(o=>r.test(o.trim())).length>=s.length/2}lc.propTypes={content:es.string,className:es.string};const ym=({selectedTags:e=[],onChange:t,readOnly:r=!1})=>{const[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null),[u,h]=y.useState(!1),[d,m]=y.useState(""),[v,w]=y.useState("#3B82F6");y.useEffect(()=>{(async()=>{try{o(!0);const f=await Fx();s(f)}catch(f){console.error("Error loading tags:",f),c("Failed to load tags")}finally{o(!1)}})()},[]);const x=p=>{if(r)return;const f=e.some(b=>b.id===p.id);let g;f?g=e.filter(b=>b.id!==p.id):g=[...e,p],t(g)},k=async p=>{if(p.preventDefault(),!!d.trim())try{o(!0);const f=await Ux({name:d.trim(),color:v});s([...n,f]),m(""),w("#3B82F6"),h(!1),t([...e,f])}catch(f){console.error("Error creating tag:",f),c("Failed to create tag")}finally{o(!1)}};return i&&n.length===0?a.jsx("div",{className:"text-gray-500 text-sm",children:"Loading tags..."}):l&&n.length===0?a.jsx("div",{className:"text-red-500 text-sm",children:l}):a.jsxs("div",{className:"song-tags",children:[e.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[a.jsx(rm,{className:"mr-1"})," Selected Tags:"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(p=>a.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${p.color}20`,color:p.color,borderColor:p.color},children:[p.name,!r&&a.jsx("button",{type:"button",onClick:()=>x(p),className:"ml-1 focus:outline-none",children:a.jsx(js,{size:10})})]},p.id))})]}),!r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Available Tags:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.map(p=>{const f=e.some(g=>g.id===p.id);return a.jsx("button",{type:"button",onClick:()=>x(p),className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-colors ${f?"bg-opacity-80 text-white":"bg-opacity-20"}`,style:{backgroundColor:f?p.color:`${p.color}20`,color:f?"white":p.color},children:p.name},p.id)}),a.jsxs("button",{type:"button",onClick:()=>h(!0),className:"inline-flex items-center px-2 py-1 border border-dashed border-gray-300 rounded-full text-xs font-medium text-gray-500 hover:text-gray-700 hover:border-gray-400",children:[a.jsx(Oe,{className:"mr-1",size:10}),"New Tag"]})]})]}),u&&a.jsxs("div",{className:"mt-4 p-3 border border-gray-200 rounded-md bg-gray-50",children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Create New Tag"}),a.jsxs("form",{onSubmit:k,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagName",className:"block text-xs text-gray-500",children:"Tag Name"}),a.jsx("input",{type:"text",id:"tagName",value:d,onChange:p=>m(p.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter tag name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagColor",className:"block text-xs text-gray-500",children:"Tag Color"}),a.jsxs("div",{className:"flex mt-1",children:[a.jsx("input",{type:"color",id:"tagColor",value:v,onChange:p=>w(p.target.value),className:"h-8 w-8 border border-gray-300 rounded"}),a.jsx("input",{type:"text",value:v,onChange:p=>w(p.target.value),className:"ml-2 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"#HEX"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-3 py-1 border border-transparent rounded-md text-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:i||!d.trim(),children:"Create"})]})]})]})]})]})},Jx=({songId:e,readOnly:t=!1})=>{const[r,n]=y.useState({"chord-charts":[],"sheet-music":[],"backing-tracks":[]}),[s,i]=y.useState(!0),[o,l]=y.useState(!1),[c,u]=y.useState(null),h=y.useRef(null),[d,m]=y.useState(null),v=[{value:"chord-charts",label:"Chord Charts",icon:a.jsx(In,{})},{value:"sheet-music",label:"Sheet Music",icon:a.jsx(lt,{})},{value:"backing-tracks",label:"Backing Tracks",icon:a.jsx(Hu,{})}];y.useEffect(()=>{(async()=>{if(e)try{i(!0);const b=await Ku(e);n(b)}catch(b){console.error("Error loading attachments:",b),u("Failed to load attachments")}finally{i(!1)}})()},[e]);const w=async g=>{const b=g.target.files[0];if(!(!b||!d))try{l(!0),await Bx(e,b,d);const j=await Ku(e);n(j),h.current&&(h.current.value="")}catch(j){console.error("Error uploading file:",j),u("Failed to upload file")}finally{l(!1),m(null)}},x=async(g,b)=>{try{await Vx(e,g,b),n(j=>({...j,[g]:j[g].filter(C=>C.name!==b)}))}catch(j){console.error("Error deleting file:",j),u("Failed to delete file")}},k=g=>{m(g),setTimeout(()=>{h.current&&h.current.click()},100)},p=g=>{switch(g.split(".").pop().toLowerCase()){case"pdf":return a.jsx(In,{className:"text-red-500"});case"doc":case"docx":return a.jsx(In,{className:"text-blue-500"});case"png":case"jpg":case"jpeg":return a.jsx(In,{className:"text-green-500"});case"mp3":case"wav":case"m4a":return a.jsx(Hu,{className:"text-purple-500"});default:return a.jsx(In,{className:"text-gray-500"})}};if(s)return a.jsx("div",{className:"text-gray-500 text-sm",children:"Loading attachments..."});const f=Object.values(r).some(g=>g.length>0);return a.jsxs("div",{className:"song-attachments",children:[c&&a.jsx("div",{className:"mb-3 text-sm text-red-500",children:c}),a.jsx("input",{type:"file",ref:h,className:"hidden",onChange:w,disabled:o}),!t&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Add Attachment:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(g=>a.jsxs("button",{type:"button",onClick:()=>k(g.value),disabled:o,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o&&d===g.value?a.jsx("span",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-gray-500 rounded-full"}):a.jsxs(a.Fragment,{children:[g.icon,a.jsx(Oe,{className:"ml-1 mr-1",size:10})]}),g.label]},g.value))})]}),f?a.jsx("div",{className:"space-y-4",children:v.map(g=>{const b=r[g.value]||[];return b.length===0?null:a.jsxs("div",{className:"attachment-section",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[g.icon,a.jsx("span",{className:"ml-2",children:g.label}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",b.length,")"]})]}),a.jsx("ul",{className:"divide-y divide-gray-200 border border-gray-200 rounded-md overflow-hidden",children:b.map(j=>a.jsxs("li",{className:"px-4 py-3 bg-white flex items-center justify-between hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center",children:[p(j.name),a.jsx("span",{className:"ml-2 text-sm text-gray-600 truncate max-w-xs",children:j.name})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("a",{href:j.url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",title:"Download",children:a.jsx(Iy,{})}),!t&&a.jsx("button",{type:"button",onClick:()=>x(g.value,j.name),className:"text-red-500 hover:text-red-700",title:"Delete",children:a.jsx(ac,{})})]})]},j.name))})]},g.value)})}):a.jsxs("div",{className:"text-sm text-gray-500 p-4 bg-gray-50 text-center rounded-md",children:["No attachments available for this song.",!t&&a.jsx("p",{className:"mt-1 text-xs",children:"Use the buttons above to add chord charts, sheet music, or backing tracks."})]})]})},Yx=()=>{const{id:e}=Es(),t=et(),r=Lr(),n=new URLSearchParams(r.search),s=n.get("serviceKey"),i=n.get("eventId"),o=n.get("eventSongId");n.get("notes");const l=n.get("isDone"),[c,u]=y.useState(null),[h,d]=y.useState(null),[m,v]=y.useState(!0),[w,x]=y.useState(""),[k,p]=y.useState(""),[f,g]=y.useState(null),[b,j]=y.useState("song"),[C,S]=y.useState(!1),[_,L]=y.useState(!1),[R,T]=y.useState(!1),[M,B]=y.useState(l==="true"),$=hm();y.useEffect(()=>{(async()=>{if(i)try{const{data:E,error:O}=await I.from("events").select("title, start_time").eq("id",i).single();if(O)throw O;d(E)}catch(E){console.error("Error fetching service details:",E)}})()},[i]),y.useEffect(()=>{(async()=>{try{v(!0);const E=await fm(e);u(E);const O=s||E.default_key||"C";if(x(O),s&&E.default_key&&s!==E.default_key&&E.chords){const V=E.chords.split(`
`).map(G=>Gu(G,E.default_key,s)).join(`
`);p(V)}else p(E.chords||"")}catch(E){console.error("Error fetching song:",E),g("Could not load the song. Please try again.")}finally{v(!1)}})()},[e,s]);const P=N=>{if(!c||!c.chords)return;const E=c.default_key||"C";if(N===E){p(c.chords),x(N);return}const z=c.chords.split(`
`).map(V=>Gu(V,E,N)).join(`
`);p(z),x(N)},A=()=>{t(i?`/services/${i}`:"/songs")},F=async()=>{if(!(!o||!i))try{T(!0),B(N=>!N);try{const{error:N}=await I.from("event_songs").update({is_done:!M}).eq("id",o);if(N)throw console.log("Could not update is_done in database:",N),N;t(`/services/${i}`)}catch(N){throw console.log("Error updating is_done field:",N),B(E=>!E),N}}catch(N){console.error("Error updating song status:",N),alert("Failed to update song status. Please try again.")}finally{T(!1)}};return m?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("p",{className:"text-red-500",children:f}),a.jsxs("button",{onClick:A,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(ui,{className:"mr-2"})," Back"]})]}):c?a.jsxs("div",{className:"pb-[100px] flex flex-col min-h-screen bg-white px-4 md:px-6",children:[a.jsx("div",{className:"py-2 border-b border-gray-200",children:a.jsxs("button",{onClick:A,className:"text-gray-600 flex items-center","aria-label":"Back",children:[a.jsx(ui,{className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Back to Service"})]})}),a.jsx("div",{className:"py-3 border-b border-gray-200",children:a.jsx("h1",{className:"text-xl font-bold",children:c.title})}),h&&a.jsx("div",{className:"bg-blue-50 py-2 border-b border-blue-100",children:a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx(Cy,{className:"text-blue-500 mr-2"}),a.jsx("span",{children:"Viewing for service: "}),a.jsx("span",{className:"text-blue-600 ml-1 font-medium",children:h.title})]})}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex",children:[a.jsxs("button",{onClick:()=>j("song"),className:`flex-1 py-2 text-center border-b-2 font-medium text-sm ${b==="song"?"border-blue-500 text-blue-600":"border-transparent text-gray-500"}`,"aria-pressed":b==="song",children:[a.jsx(lt,{className:"inline mr-1"}),"Song"]}),a.jsxs("button",{onClick:()=>j("attachments"),className:`flex-1 py-2 text-center border-b-2 font-medium text-sm ${b==="attachments"?"border-blue-500 text-blue-600":"border-transparent text-gray-500"}`,"aria-pressed":b==="attachments",children:[a.jsx(Gy,{className:"inline mr-1"}),"Attachments"]})]})}),b==="song"?a.jsxs("div",{className:"flex-1",children:[c.chords&&a.jsxs("div",{className:"border-b border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center py-3",children:[a.jsxs("h2",{className:"text-base font-medium flex items-center",children:[a.jsx(lt,{className:"mr-2"}),"Chord Chart"]}),a.jsxs("button",{onClick:()=>L(!_),className:"text-blue-600 text-sm","aria-expanded":_,children:[a.jsx(Dy,{className:"inline mr-1"}),"Transpose"]})]}),_&&a.jsx("div",{className:"py-3 bg-gray-50 border-y border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"keySelect",className:"block text-xs font-medium text-gray-500 mb-1",children:"Transpose to:"}),a.jsx("select",{id:"keySelect",value:w,onChange:N=>P(N.target.value),className:"w-20 px-1 py-1 text-sm border border-gray-300 rounded-md",children:$.map(N=>a.jsx("option",{value:N,children:N},N))})]}),a.jsxs("div",{className:"text-xs text-gray-600",children:[a.jsxs("div",{children:["Original Key: ",a.jsx("span",{className:"font-medium",children:c.default_key||"Not set"})]}),w!==c.default_key&&a.jsx("button",{onClick:()=>P(c.default_key),className:"text-blue-600 underline",children:"Reset"})]})]})}),a.jsx("div",{className:"py-3 overflow-x-auto whitespace-nowrap",children:a.jsx(lc,{content:k})})]}),c.lyrics&&a.jsxs("div",{className:"border-b border-gray-200",children:[a.jsx("h2",{className:"text-base font-medium py-3 border-b border-gray-200",children:"Lyrics"}),a.jsx("div",{className:"py-3 break-words",children:c.lyrics.split(`
`).map((N,E)=>a.jsx("div",{children:N||a.jsx("br",{})},E))})]}),a.jsxs("div",{className:"border-b border-gray-200",children:[a.jsxs("button",{onClick:()=>S(!C),className:"flex w-full items-center justify-between py-3 text-left","aria-expanded":C,children:[a.jsx("span",{className:"font-medium",children:"Song Information"}),C?a.jsx(Oy,{}):a.jsx(Py,{})]}),C&&a.jsxs("div",{className:"py-3 border-t border-gray-200",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Artist"}),a.jsx("p",{className:"font-medium",children:c.artist||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Original Key"}),a.jsx("p",{className:"font-medium",children:c.default_key||"Not specified"})]}),c.tempo&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Tempo"}),a.jsxs("p",{className:"font-medium",children:[c.tempo," BPM"]})]})]}),c.tags&&c.tags.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Tags"}),a.jsx(ym,{selectedTags:c.tags,readOnly:!0})]})]})]}),c.notes&&a.jsxs("div",{className:"border-b border-gray-200",children:[a.jsx("h2",{className:"text-base font-medium py-3 border-b border-gray-200",children:"Notes"}),a.jsx("div",{className:"py-3 break-words",children:c.notes.split(`
`).map((N,E)=>a.jsx("div",{children:N||a.jsx("br",{})},E))})]})]}):a.jsx("div",{className:"py-3",children:a.jsx(Jx,{songId:e})}),i&&o&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 flex justify-center z-20 mb-4",children:a.jsxs("button",{onClick:F,disabled:R,className:"flex items-center justify-center px-6 py-3 bg-green-500 text-white font-medium rounded-full shadow-md hover:bg-green-600 transition-colors max-w-xs",children:[a.jsx(ln,{className:"mr-2"}),"Mark as ",M?"Not Done":"Done"]})})]}):a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("p",{children:"Song not found."}),a.jsxs("button",{onClick:A,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(ui,{className:"mr-2"})," Back"]})]})},xm=({value:e,onChange:t,rows:r=10})=>{const[n,s]=y.useState(!1),[i,o]=y.useState(!1),l=["C","G","D","A","E","F","Am","Em","Dm","G7","C7","D7","Cmaj7","Fmaj7","Gsus4"],c=`[Verse 1]
C        G        Am       F
Here are some example chords above lyrics
C             G              Am  F
Words should be aligned with the chords above

[Chorus]
F         G       C
This is how a chorus might look
F         G       Am      G
With more chords and lyrics here

[Bridge]
Am   G   F   C
Simple progression
`,u=m=>{if(!e)t(m+"  ");else{const v=document.getElementById("chord-editor").selectionStart,w=e.substring(0,v),x=e.substring(v);t(w+m+"  "+x),o(!0)}},h=m=>{const v=`
[${m}]
`;if(!e)t(v);else{const w=document.getElementById("chord-editor").selectionStart,x=e.substring(0,w),k=e.substring(w);t(x+v+k)}o(!0)},d=m=>{t(m.target.value),i||o(!0)};return y.useEffect(()=>{},[e,i]),a.jsxs("div",{className:"chord-editor-container",children:[a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Quick Insert Chords:"}),a.jsxs("button",{type:"button",onClick:()=>s(!n),className:"text-blue-600 hover:text-blue-800 text-sm flex items-center",children:[a.jsx(Ky,{className:"mr-1"}),n?"Hide Help":"Show Help"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:l.map(m=>a.jsx("button",{type:"button",onClick:()=>u(m),className:"inline-flex items-center px-2 py-1 border border-gray-300 text-xs font-medium rounded shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",children:m},m))})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Add Section:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:["Verse","Chorus","Bridge","Intro","Outro","Pre-Chorus"].map(m=>a.jsxs("button",{type:"button",onClick:()=>h(m),className:"inline-flex items-center px-2 py-1 border border-gray-300 text-xs font-medium rounded shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx(Oe,{className:"mr-1 h-3 w-3"}),m]},m))})]}),n&&a.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Chord Chart Formatting Help"}),a.jsx("p",{className:"text-xs text-blue-700 mb-2",children:"Format your chord chart by placing chords above lyrics with spaces between them. Use section markers like [Verse] or [Chorus] to organize your song."}),a.jsx("div",{className:"bg-white p-2 rounded text-xs font-mono",children:a.jsx("pre",{className:"whitespace-pre-wrap",children:c})}),a.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Tip: Make sure to keep chord names short (C, G, Am, etc.) and use spaces to align them with lyrics."})]}),a.jsx("textarea",{id:"chord-editor",value:e,onChange:d,rows:r,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm font-mono",placeholder:"Enter chords here..."}),a.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Use monospaced formatting for chords. Press Tab for indentation."})]})};xm.propTypes={value:es.string,onChange:es.func.isRequired,rows:es.number};const Yu=()=>{const e=et(),{id:t}=Es(),r=!!t,[n,s]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,h]=y.useState({title:"",artist:"",default_key:"C",tempo:"",lyrics:"",chords:"",notes:"",tags:[]}),[d,m]=y.useState(!1),[v,w]=y.useState({}),x=hm();y.useEffect(()=>{r&&k()},[t]);const k=async()=>{try{s(!0);const _=await fm(t);h({title:_.title||"",artist:_.artist||"",default_key:_.default_key||"C",tempo:_.tempo||"",lyrics:_.lyrics||"",chords:_.chords||"",notes:_.notes||"",tags:_.tags||[]}),_.chords&&m(!0)}catch(_){console.error("Error fetching song:",_),c("Could not load the song. Please try again.")}finally{s(!1)}},p=()=>{const _={};return u.title.trim()||(_.title="Song title is required"),u.chords&&!u.default_key&&(_.default_key="Default key is required when providing chords"),u.tempo&&(isNaN(u.tempo)||u.tempo<20||u.tempo>300)&&(_.tempo="Tempo must be a number between 20 and 300"),w(_),Object.keys(_).length===0},f=_=>{const{name:L,value:R}=_.target;h(T=>({...T,[L]:R})),v[L]&&w(T=>{const M={...T};return delete M[L],M})},g=_=>{h(L=>({...L,chords:_}))},b=_=>{h(L=>({...L,tags:_}))},j=()=>{m(!d)},C=async _=>{if(_.preventDefault(),!!p())try{o(!0);const L={...u,tempo:u.tempo===""?null:Number(u.tempo)};if(r)await Dx(t,L),e(`/songs/${t}`);else{const R=await Mx(L);e(`/songs/${R.id}`)}}catch(L){console.error("Error saving song:",L),c(L.message||"Failed to save the song. Please try again.")}finally{o(!1)}},S=async()=>{if(!(!r||!window.confirm("Are you sure you want to delete this song? This action cannot be undone.")))try{o(!0),await zx(t),e("/songs")}catch(L){console.error("Error deleting song:",L),c("Failed to delete the song. Please try again.")}finally{o(!1)}};return n?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>e(r?`/songs/${t}`:"/songs"),className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[a.jsx(ui,{className:"mr-1"})," Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-center flex-1 mx-4",children:r?"Edit Song":"Add New Song"}),r&&a.jsx("button",{onClick:S,className:"text-red-600 hover:text-red-800",title:"Delete song",disabled:i,children:a.jsx(ac,{size:20})})]}),l&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(zy,{className:"h-5 w-5 text-red-400"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700",children:l})})]})}),a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:f,className:`mt-1 block w-full border ${v.title?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),v.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.title})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"artist",className:"block text-sm font-medium text-gray-700",children:"Artist / Composer"}),a.jsx("input",{type:"text",id:"artist",name:"artist",value:u.artist,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"default_key",className:"block text-sm font-medium text-gray-700",children:["Default Key ",u.chords&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"default_key",name:"default_key",value:u.default_key,onChange:f,className:`mt-1 block w-full pl-3 pr-10 py-2 text-base border ${v.default_key?"border-red-300":"border-gray-300"} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md`,children:[a.jsx("option",{value:"",children:"Select a key"}),x.map(_=>a.jsx("option",{value:_,children:_},_))]}),v.default_key&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.default_key})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tempo",className:"block text-sm font-medium text-gray-700",children:"Tempo (BPM)"}),a.jsx("input",{type:"number",id:"tempo",name:"tempo",value:u.tempo,onChange:f,min:"20",max:"300",className:`mt-1 block w-full border ${v.tempo?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),v.tempo?a.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.tempo}):a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Typical range: 60-180 BPM"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Tags"}),a.jsx(ym,{selectedTags:u.tags,onChange:b})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium",children:"Chord Chart"}),u.chords&&a.jsx("button",{type:"button",onClick:j,className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:d?a.jsxs(a.Fragment,{children:[a.jsx(Fy,{className:"mr-1"})," Hide Preview"]}):a.jsxs(a.Fragment,{children:[a.jsx(ic,{className:"mr-1"})," Show Preview"]})})]}),d&&u.chords&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 border border-gray-200 rounded-md",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),a.jsx(lc,{content:u.chords})]}),a.jsx(xm,{value:u.chords,onChange:g,rows:10})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Lyrics"}),a.jsx("textarea",{id:"lyrics",name:"lyrics",value:u.lyrics,onChange:f,rows:15,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter lyrics here..."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tip: Include section markers like [Verse], [Chorus], etc. for better organization."})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Additional Notes"}),a.jsx("textarea",{id:"notes",name:"notes",value:u.notes,onChange:f,rows:4,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter any additional notes, performance instructions, etc."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Include notes about song structure, performance tips, or arrangement details."})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(tm,{className:"mr-2"})," Save Song"]})})})]})]})},Qx=()=>{const{id:e}=Es(),t=et(),[r,n]=y.useState(null),[s,i]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(""),[h,d]=y.useState(""),[m,v]=y.useState(!1),[w,x]=y.useState(null),[k,p]=y.useState(new Set);y.useEffect(()=>{(async()=>{try{l(!0);const{data:S,error:_}=await I.from("events").select("*").eq("id",e).single();if(_)throw _;if(n(S),S!=null&&S.church_id){const{data:T,error:M}=await I.from("churches").select("name").eq("id",S.church_id).single();!M&&T&&u(T.name)}if(S!=null&&S.team_id){const{data:T,error:M}=await I.from("worship_teams").select("name").eq("id",S.team_id).single();!M&&T&&d(T.name)}const{data:L,error:R}=await I.from("event_songs").select(`
            id,
            song_order,
            key,
            notes,
            is_done,
            songs (
              id,
              title,
              artist,
              default_key
            )
          `).eq("event_id",e).order("song_order");if(R)throw console.error("Error fetching songs:",R),R;if(console.log("Songs data:",L),L){try{if(L.some(M=>"is_done"in M)){const M=new Set(L.filter(B=>B.is_done).map(B=>B.id));p(M)}}catch{console.log("No is_done field yet, using local state only")}i(L)}else i([])}catch(S){console.error("Error fetching service details:",S)}finally{l(!1)}})()},[e]);const f=C=>{if(!w)try{const S=s.find(L=>L.id===C);if(!S)return;const _=k.has(C);t(`/songs/${S.songs.id}?serviceKey=${encodeURIComponent(S.key||S.songs.default_key)}&eventId=${e}&eventSongId=${C}&notes=${encodeURIComponent(S.notes||"")}&isDone=${_}`)}catch(S){console.error("Error navigating to song details:",S),alert("Could not navigate to song details. Please try again.")}},g=()=>{t(`/services/edit/${e}`)},b=async(C,S)=>{S&&S.stopPropagation();try{x(C),p(_=>{const L=new Set(_);return L.has(C)?L.delete(C):L.add(C),L});try{const{error:_}=await I.from("event_songs").update({is_done:!k.has(C)}).eq("id",C);_&&console.log("Could not update is_done in database:",_)}catch(_){console.log("Error updating is_done field:",_)}}catch(_){console.error("Error updating song status:",_),alert("Failed to update song status. Please try again."),p(L=>{const R=new Set(L);return R.has(C)?R.delete(C):R.add(C),R})}finally{x(null)}},j=async()=>{if(window.confirm("Are you sure you want to delete this service? This action cannot be undone."))try{v(!0);const{error:C}=await I.from("event_songs").delete().eq("event_id",e);if(C)throw C;const{error:S}=await I.from("events").delete().eq("id",e);if(S)throw S;t("/calendar")}catch(C){console.error("Error deleting service:",C),alert("Error deleting service. Please try again.")}finally{v(!1)}};return o?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?a.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:g,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full",title:"Edit service",children:a.jsx(ma,{size:20})}),a.jsx("button",{onClick:j,disabled:m,className:"p-2 text-red-600 hover:bg-red-50 rounded-full disabled:opacity-50",title:"Delete service",children:a.jsx(ac,{size:20})})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"space-y-4",children:[r.description&&a.jsx("p",{className:"text-gray-700",children:r.description}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(fr,{className:"mt-1 text-gray-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:ne(r.start_time).format("dddd, MMMM D, YYYY")}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(Ly,{className:"mr-1"}),ne(r.start_time).format("h:mm A")," - ",ne(r.end_time).format("h:mm A")]})]})]}),r.location&&a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Vy,{className:"mt-1 text-gray-500"}),a.jsx("div",{children:r.location})]}),c&&a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(kn,{className:"mt-1 text-gray-500"}),a.jsx("div",{children:c})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(lt,{className:"mr-2"})," Service Songs"]}),s.length===0?a.jsx("div",{className:"text-center py-6 text-gray-500",children:"No songs have been added to this service."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 text-sm text-gray-600",children:["Total songs: ",s.length]}),a.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(C=>{var _,L;const S=k.has(C.id);return a.jsx("li",{className:`py-4 ${S?"bg-green-50":""} hover:bg-gray-50`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"h-8 w-8 flex items-center justify-center bg-blue-100 text-blue-800 rounded-full mr-3 font-medium",children:C.song_order}),a.jsx("div",{className:"flex-grow cursor-pointer",onClick:()=>f(C.id),children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`font-medium ${S?"line-through text-gray-500":""}`,children:((_=C.songs)==null?void 0:_.title)||"Unknown Title"}),((L=C.songs)==null?void 0:L.artist)&&a.jsx("p",{className:"text-sm text-gray-500",children:C.songs.artist}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[C.key&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:["Key: ",C.key]}),C.notes&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:["Notes: ",C.notes]}),S&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(ln,{className:"mr-1",size:10})," Completed"]})]})]}),a.jsx("button",{onClick:R=>b(C.id,R),disabled:w===C.id,className:`ml-2 p-2 rounded-full ${S?"text-green-600 hover:bg-green-100":"text-gray-400 hover:bg-gray-100"} 
                            ${w===C.id?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,title:S?"Mark as incomplete":"Mark as complete",children:w===C.id?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-green-500 rounded-full border-t-transparent"}):S?a.jsx(Ey,{size:20}):a.jsx(Zy,{size:20})})]})})]})},C.id)})})]})]})]}):a.jsxs("div",{className:"max-w-3xl mx-auto p-4 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The service you're looking for doesn't exist or has been deleted."}),a.jsx("button",{onClick:()=>t("/calendar"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Calendar"})]})},Xx=({selectedSongs:e=[],onSongsChange:t,churchId:r})=>{const[n,s]=y.useState([]),[i,o]=y.useState(!1),[l,c]=y.useState(""),[u,h]=y.useState(!1);y.useEffect(()=>{(async()=>{if(r)try{o(!0);const{data:g,error:b}=await I.from("songs").select("id, title, artist, default_key").eq("church_id",r).order("title");if(b)throw b;s(g||[])}catch(g){console.error("Error fetching songs:",g)}finally{o(!1)}})()},[r]);const d=n.filter(f=>!e.some(g=>g.songId===f.id)),m=d.filter(f=>f.title.toLowerCase().includes(l.toLowerCase())||f.artist&&f.artist.toLowerCase().includes(l.toLowerCase())),v=f=>{const g={songId:f.id,title:f.title,artist:f.artist,key:f.default_key||"",notes:"",order:e.length+1};t([...e,g]),c(""),h(!1)},w=f=>{const g=[...e];g.splice(f,1);const b=g.map((j,C)=>({...j,order:C+1}));t(b)},x=(f,g)=>{if(g==="up"&&f===0||g==="down"&&f===e.length-1)return;const b=[...e],j=g==="up"?f-1:f+1;[b[f],b[j]]=[b[j],b[f]];const C=b.map((S,_)=>({...S,order:_+1}));t(C)},k=(f,g)=>{const b=[...e];b[f].key=g,t(b)},p=(f,g)=>{const b=[...e];b[f].notes=g,t(b)};return a.jsxs("div",{children:[e.length>0?a.jsx("div",{className:"space-y-4 mb-4",children:e.map((f,g)=>a.jsxs("div",{className:"border rounded-md p-3 bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-medium",children:[g+1,". ",f.title]}),f.artist&&a.jsx("p",{className:"text-sm text-gray-500",children:f.artist})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{type:"button",onClick:()=>x(g,"up"),disabled:g===0,className:"p-1 rounded hover:bg-gray-200 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:a.jsx(Ny,{size:14})}),a.jsx("button",{type:"button",onClick:()=>x(g,"down"),disabled:g===e.length-1,className:"p-1 rounded hover:bg-gray-200 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:a.jsx(_y,{size:14})}),a.jsx("button",{type:"button",onClick:()=>w(g),className:"p-1 rounded hover:bg-gray-200 text-red-500",title:"Remove song",children:a.jsx(js,{size:14})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Performance Key"}),a.jsx("input",{type:"text",value:f.key||"",onChange:b=>k(g,b.target.value),className:"mt-1 block w-full text-sm border border-gray-300 rounded-md shadow-sm p-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Performance Notes"}),a.jsx("input",{type:"text",value:f.notes||"",onChange:b=>p(g,b.target.value),className:"mt-1 block w-full text-sm border border-gray-300 rounded-md shadow-sm p-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Notes"})]})]})]},g))}):a.jsxs("div",{className:"text-center py-8 border-2 border-dashed rounded-md mb-4",children:[a.jsx(lt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No songs added"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add songs to your service from your song library"})]}),u?a.jsxs("div",{className:"space-y-3 border p-3 rounded-md",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-medium",children:"Add Song to Service"}),a.jsx("button",{type:"button",onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-500",children:a.jsx(js,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pa,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search songs by title or artist...",value:l,onChange:f=>c(f.target.value)})]}),i&&a.jsx("div",{className:"flex justify-center py-5",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}),!i&&a.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md",children:m.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:d.length===0?"No songs available. Add songs to your library first.":"No songs matching your search criteria."}):a.jsx("ul",{className:"divide-y divide-gray-200",children:m.map(f=>a.jsx("li",{className:"px-4 py-2 hover:bg-gray-50 cursor-pointer",onClick:()=>v(f),children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:f.title}),f.artist&&a.jsx("p",{className:"text-sm text-gray-500",children:f.artist})]})},f.id))})})]}):a.jsxs("button",{type:"button",onClick:()=>h(!0),disabled:!r,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx(Oe,{className:"mr-2"})," Add Song"]})]})},Qu=()=>{const e=et(),{id:t}=Es(),{user:r}=qe(),n=!!t,[s,i]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState([]),[h,d]=y.useState([]),[m,v]=y.useState([]),[w,x]=y.useState([]),[k,p]=y.useState(null),f=ne(),g=`Service - ${f.format("MMMM D, YYYY")}`,b=f.format("YYYY-MM-DD"),[j,C]=y.useState({title:g,description:"",start_time:`${b}T09:00`,end_time:`${b}T10:30`,service_date:b,location:"Church",church_id:"",team_id:null,event_type:"service",created_by:r==null?void 0:r.id});y.useEffect(()=>{if(j.service_date&&!n){const T=ne(j.service_date);C(M=>({...M,title:`Service - ${T.format("MMMM D, YYYY")}`,start_time:`${j.service_date}T09:00`,end_time:`${j.service_date}T10:30`}))}},[j.service_date,n]),y.useEffect(()=>{(async()=>{try{i(!0);const{data:M,error:B}=await I.from("churches").select("id, name");if(B)throw B;if(u(M||[]),j.church_id){const{data:$,error:P}=await I.from("worship_teams").select("id, name, description").eq("church_id",j.church_id);if(P)throw P;d($||[])}if(n){const{data:$,error:P}=await I.from("events").select("*").eq("id",t).single();if(P)throw P;if($){const A=ne($.start_time).format("YYYY-MM-DD");C({...$,start_time:ne($.start_time).format("YYYY-MM-DDTHH:mm"),end_time:ne($.end_time).format("YYYY-MM-DDTHH:mm"),service_date:A});const{data:F,error:N}=await I.from("event_songs").select("id, song_id, song_order, key, notes, songs(id, title, artist, default_key)").eq("event_id",t).order("song_order");if(N)throw N;F&&v(F.map(E=>{var O,z,V;return{id:E.id,songId:E.song_id,order:E.song_order,key:E.key||((O=E.songs)==null?void 0:O.default_key)||"",notes:E.notes||"",title:((z=E.songs)==null?void 0:z.title)||"",artist:((V=E.songs)==null?void 0:V.artist)||""}}))}}}catch(M){console.error("Error fetching data:",M),p("Error loading data. Please try again.")}finally{i(!1)}})()},[t,n,r]);const S=T=>{const{name:M,value:B}=T.target;if(M==="church_id"||M==="team_id"){const $=B===""?null:B;C(P=>({...P,[M]:$})),M==="church_id"&&(_($),C(P=>({...P,team_id:null})))}else C($=>({...$,[M]:B}))},_=async T=>{if(!T){d([]);return}try{const{data:M,error:B}=await I.from("worship_teams").select("id, name, description").eq("church_id",T);if(B)throw B;d(M||[])}catch(M){console.error("Error fetching teams:",M),p("Error loading teams. Please try again.")}},L=T=>{v(T)},R=async T=>{T.preventDefault();try{if(l(!0),p(null),!j.church_id){p("Please select a church"),l(!1);return}const M={...j,start_time:ne(j.start_time).toISOString(),end_time:ne(j.end_time).toISOString(),created_by:r.id,team_id:j.team_id||null,church_id:j.church_id||null};delete M.service_date,console.log("Submitting service data:",M);let B=t;if(n){const{error:$}=await I.from("events").update(M).eq("id",t);if($)throw console.error("Error updating service:",$),$}else{const{data:$,error:P}=await I.from("events").insert(M).select("id").single();if(P)throw console.error("Error creating service:",P),P;if(!$||!$.id)throw new Error("No service ID returned from creation");B=$.id}if(B){if(console.log("Service ID for songs and team members:",B),n){const $=m.filter(P=>P.id).map(P=>P.id);if($.length>0){const{error:P}=await I.from("event_songs").delete().eq("event_id",B).not("id","in",`(${$.join(",")})`);if(P)throw console.error("Error deleting songs:",P),P}else{const{error:P}=await I.from("event_songs").delete().eq("event_id",B);if(P)throw console.error("Error deleting all songs:",P),P}}for(const $ of m)if($.id){const{error:P}=await I.from("event_songs").update({song_order:$.order,key:$.key,notes:$.notes}).eq("id",$.id);if(P)throw console.error("Error updating song:",P),P}else{const P={event_id:B,song_id:$.songId,song_order:$.order,key:$.key,notes:$.notes};console.log("Adding new song to service:",P);const{error:A}=await I.from("event_songs").insert(P);if(A)throw console.error("Error adding song:",A),A}if(w.length>0){if(console.log("Saving team member assignments:",w),n){const $=w.filter(P=>P.id).map(P=>P.id);if($.length>0){const{error:P}=await I.from("service_team_members").delete().eq("event_id",B).not("id","in",`(${$.join(",")})`);if(P)throw console.error("Error deleting team members:",P),P}else{const{error:P}=await I.from("service_team_members").delete().eq("event_id",B);if(P)throw console.error("Error deleting all team members:",P),P}}for(const $ of w)if($.id){const{error:P}=await I.from("service_team_members").update({role:$.role,notes:$.notes,is_confirmed:$.isConfirmed}).eq("id",$.id);if(P)throw console.error("Error updating team member:",P),P}else{const P={event_id:B,user_id:$.userId,role:$.role,notes:$.notes,is_confirmed:$.isConfirmed||!1};console.log("Adding new team member to service:",P);const{error:A}=await I.from("service_team_members").insert(P);if(A)throw console.error("Error adding team member:",A),A}}}else throw new Error("Failed to get a valid service ID");e("/calendar")}catch(M){console.error("Error saving service:",M),p(`Error saving service: ${M.message||"Please try again"}`)}finally{l(!1)}};return s?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"max-w-3xl mx-auto p-4 mb-20",children:[" ",a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:n?"Edit Service":"Create New Service"}),k&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a.jsx("p",{children:k})}),a.jsxs("form",{onSubmit:R,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-4 mb-4",children:[" ",a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[" ",a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_date",className:"block text-sm font-medium text-gray-700",children:[a.jsx(fr,{className:"inline mr-1"})," Service Date*"]}),a.jsx("input",{type:"date",id:"service_date",name:"service_date",required:!0,value:j.service_date,onChange:S,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"church_id",className:"block text-sm font-medium text-gray-700",children:"Church*"}),a.jsxs("select",{id:"church_id",name:"church_id",required:!0,value:j.church_id||"",onChange:S,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select Church"}),c.map(T=>a.jsx("option",{value:T.id,children:T.name},T.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Service Title*"}),a.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:j.title,onChange:S,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),j.church_id&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-4 mb-8",children:[" ",a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Service Songs"}),a.jsx(Xx,{selectedSongs:m,onSongsChange:L,churchId:j.church_id})]}),a.jsxs("div",{className:"flex justify-center mb-16",children:[" ",a.jsx("button",{type:"submit",disabled:o,className:"px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Saving...":n?"Update Service":"Create Service"})]})]})]})};function Zx(){return a.jsx(xy,{children:a.jsx(wy,{children:a.jsx(yy,{children:a.jsx(Jg,{children:a.jsxs(Ug,{children:[a.jsx(he,{path:"/login",element:a.jsx(ax,{})}),a.jsx(he,{path:"/register",element:a.jsx(ox,{})}),a.jsx(he,{path:"/forgot-password",element:a.jsx(lx,{})}),a.jsx(he,{path:"/reset-password",element:a.jsx(cx,{})}),a.jsx(he,{path:"/verify-email",element:a.jsx(ux,{})}),a.jsxs(he,{element:a.jsx(ix,{}),children:[a.jsx(he,{path:"/dashboard",element:a.jsx(yx,{})}),a.jsx(he,{path:"/calendar",element:a.jsx(xx,{})}),a.jsx(he,{path:"/songs",element:a.jsx(wx,{})}),a.jsx(he,{path:"/songs/:id",element:a.jsx(Yx,{})}),a.jsx(he,{path:"/songs/new",element:a.jsx(Yu,{})}),a.jsx(he,{path:"/songs/edit/:id",element:a.jsx(Yu,{})}),a.jsx(he,{path:"/services",element:a.jsx(bx,{})}),a.jsx(he,{path:"/services/:id",element:a.jsx(Qx,{})}),a.jsx(he,{path:"/services/new",element:a.jsx(Qu,{})}),a.jsx(he,{path:"/services/edit/:id",element:a.jsx(Qu,{})}),a.jsx(he,{path:"/profile",element:a.jsx(Ex,{})}),a.jsx(he,{path:"/prayer-requests",element:a.jsx(Ox,{})}),a.jsx(he,{path:"/churches",element:a.jsx(Lx,{})})]}),a.jsx(he,{path:"/",element:a.jsx(wf,{to:"/dashboard",replace:!0})}),a.jsx(he,{path:"*",element:a.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"404 - Page Not Found"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"The page you're looking for doesn't exist."}),a.jsx("button",{onClick:()=>window.history.back(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"})]})})]})})})})})}Ja.createRoot(document.getElementById("root")).render(a.jsx(Pt.StrictMode,{children:a.jsx(Zx,{})}));export{Ui as g};

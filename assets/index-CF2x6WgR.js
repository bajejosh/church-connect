function Zf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ri(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function em(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Ed={exports:{}},ni={},Pd={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=Symbol.for("react.element"),tm=Symbol.for("react.portal"),rm=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),am=Symbol.for("react.provider"),im=Symbol.for("react.context"),om=Symbol.for("react.forward_ref"),lm=Symbol.for("react.suspense"),cm=Symbol.for("react.memo"),um=Symbol.for("react.lazy"),Tc=Symbol.iterator;function dm(e){return e===null||typeof e!="object"?null:(e=Tc&&e[Tc]||e["@@iterator"],typeof e=="function"?e:null)}var Td={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$d=Object.assign,Ld={};function Rn(e,t,r){this.props=e,this.context=t,this.refs=Ld,this.updater=r||Td}Rn.prototype.isReactComponent={};Rn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Od(){}Od.prototype=Rn.prototype;function wl(e,t,r){this.props=e,this.context=t,this.refs=Ld,this.updater=r||Td}var kl=wl.prototype=new Od;kl.constructor=wl;$d(kl,Rn.prototype);kl.isPureReactComponent=!0;var $c=Array.isArray,Rd=Object.prototype.hasOwnProperty,jl={current:null},Ad={key:!0,ref:!0,__self:!0,__source:!0};function Md(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Rd.call(t,n)&&!Ad.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Is,type:e,key:i,ref:o,props:s,_owner:jl.current}}function hm(e,t){return{$$typeof:Is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _l(e){return typeof e=="object"&&e!==null&&e.$$typeof===Is}function fm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Lc=/\/+/g;function Oi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fm(""+e.key):t.toString(36)}function ga(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Is:case tm:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Oi(o,0):n,$c(s)?(r="",e!=null&&(r=e.replace(Lc,"$&/")+"/"),ga(s,t,r,"",function(u){return u})):s!=null&&(_l(s)&&(s=hm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Lc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",$c(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Oi(i,l);o+=ga(i,t,r,c,s)}else if(c=dm(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Oi(i,l++),o+=ga(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ws(e,t,r){if(e==null)return e;var n=[],s=0;return ga(e,n,"","",function(i){return t.call(r,i,s++)}),n}function mm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},pa={transition:null},gm={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:pa,ReactCurrentOwner:jl};function Dd(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Ws,forEach:function(e,t,r){Ws(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ws(e,function(){t++}),t},toArray:function(e){return Ws(e,function(t){return t})||[]},only:function(e){if(!_l(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Rn;X.Fragment=rm;X.Profiler=sm;X.PureComponent=wl;X.StrictMode=nm;X.Suspense=lm;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gm;X.act=Dd;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$d({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=jl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Rd.call(t,c)&&!Ad.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Is,type:e.type,key:s,ref:i,props:n,_owner:o}};X.createContext=function(e){return e={$$typeof:im,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:am,_context:e},e.Consumer=e};X.createElement=Md;X.createFactory=function(e){var t=Md.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:om,render:e}};X.isValidElement=_l;X.lazy=function(e){return{$$typeof:um,_payload:{_status:-1,_result:e},_init:mm}};X.memo=function(e,t){return{$$typeof:cm,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=pa.transition;pa.transition={};try{e()}finally{pa.transition=t}};X.unstable_act=Dd;X.useCallback=function(e,t){return qe.current.useCallback(e,t)};X.useContext=function(e){return qe.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};X.useEffect=function(e,t){return qe.current.useEffect(e,t)};X.useId=function(){return qe.current.useId()};X.useImperativeHandle=function(e,t,r){return qe.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return qe.current.useMemo(e,t)};X.useReducer=function(e,t,r){return qe.current.useReducer(e,t,r)};X.useRef=function(e){return qe.current.useRef(e)};X.useState=function(e){return qe.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return qe.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return qe.current.useTransition()};X.version="18.3.1";Pd.exports=X;var p=Pd.exports;const At=ri(p),pm=Zf({__proto__:null,default:At},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=p,xm=Symbol.for("react.element"),vm=Symbol.for("react.fragment"),bm=Object.prototype.hasOwnProperty,wm=ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,km={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)bm.call(t,n)&&!km.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:xm,type:e,key:i,ref:o,props:s,_owner:wm.current}}ni.Fragment=vm;ni.jsx=Id;ni.jsxs=Id;Ed.exports=ni;var a=Ed.exports,Ca={},zd={exports:{}},ot={},Fd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,M){var $=j.length;j.push(M);e:for(;0<$;){var F=$-1>>>1,H=j[F];if(0<s(H,M))j[F]=M,j[$]=H,$=F;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var M=j[0],$=j.pop();if($!==M){j[0]=$;e:for(var F=0,H=j.length,q=H>>>1;F<q;){var K=2*(F+1)-1,te=j[K],be=K+1,ke=j[be];if(0>s(te,$))be<H&&0>s(ke,te)?(j[F]=ke,j[be]=$,F=be):(j[F]=te,j[K]=$,F=K);else if(be<H&&0>s(ke,$))j[F]=ke,j[be]=$,F=be;else break e}}return M}function s(j,M){var $=j.sortIndex-M.sortIndex;return $!==0?$:j.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,g=3,y=!1,v=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=j)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function w(j){if(b=!1,x(j),!v)if(r(c)!==null)v=!0,R(C);else{var M=r(u);M!==null&&I(w,M.startTime-j)}}function C(j,M){v=!1,b&&(b=!1,m(T),T=-1),y=!0;var $=g;try{for(x(M),h=r(c);h!==null&&(!(h.expirationTime>M)||j&&!L());){var F=h.callback;if(typeof F=="function"){h.callback=null,g=h.priorityLevel;var H=F(h.expirationTime<=M);M=e.unstable_now(),typeof H=="function"?h.callback=H:h===r(c)&&n(c),x(M)}else n(c);h=r(c)}if(h!==null)var q=!0;else{var K=r(u);K!==null&&I(w,K.startTime-M),q=!1}return q}finally{h=null,g=$,y=!1}}var N=!1,S=null,T=-1,O=5,E=-1;function L(){return!(e.unstable_now()-E<O)}function D(){if(S!==null){var j=e.unstable_now();E=j;var M=!0;try{M=S(!0,j)}finally{M?z():(N=!1,S=null)}}else N=!1}var z;if(typeof f=="function")z=function(){f(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,_=P.port2;P.port1.onmessage=D,z=function(){_.postMessage(null)}}else z=function(){k(D,0)};function R(j){S=j,N||(N=!0,z())}function I(j,M){T=k(function(){j(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,R(C))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(j){switch(g){case 1:case 2:case 3:var M=3;break;default:M=g}var $=g;g=M;try{return j()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,M){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=g;g=j;try{return M()}finally{g=$}},e.unstable_scheduleCallback=function(j,M,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,j){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,j={id:d++,callback:M,priorityLevel:j,startTime:$,expirationTime:H,sortIndex:-1},$>F?(j.sortIndex=$,t(u,j),r(c)===null&&j===r(u)&&(b?(m(T),T=-1):b=!0,I(w,$-F))):(j.sortIndex=H,t(c,j),v||y||(v=!0,R(C))),j},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(j){var M=g;return function(){var $=g;g=M;try{return j.apply(this,arguments)}finally{g=$}}}})(Ud);Fd.exports=Ud;var jm=Fd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=p,it=jm;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bd=new Set,ys={};function Wr(e,t){jn(e,t),jn(e+"Capture",t)}function jn(e,t){for(ys[e]=t,e=0;e<t.length;e++)Bd.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=Object.prototype.hasOwnProperty,Nm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oc={},Rc={};function Sm(e){return mo.call(Rc,e)?!0:mo.call(Oc,e)?!1:Nm.test(e)?Rc[e]=!0:(Oc[e]=!0,!1)}function Cm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Em(e,t,r,n){if(t===null||typeof t>"u"||Cm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nl=/[\-:]([a-z])/g;function Sl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nl,Sl);Re[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nl,Sl);Re[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nl,Sl);Re[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cl(e,t,r,n){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Em(t,r,s,n)&&(r=null),n||s===null?Sm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jt=_m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ys=Symbol.for("react.element"),rn=Symbol.for("react.portal"),nn=Symbol.for("react.fragment"),El=Symbol.for("react.strict_mode"),go=Symbol.for("react.profiler"),Vd=Symbol.for("react.provider"),qd=Symbol.for("react.context"),Pl=Symbol.for("react.forward_ref"),po=Symbol.for("react.suspense"),yo=Symbol.for("react.suspense_list"),Tl=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),Hd=Symbol.for("react.offscreen"),Ac=Symbol.iterator;function Un(e){return e===null||typeof e!="object"?null:(e=Ac&&e[Ac]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Ri;function Qn(e){if(Ri===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ri=t&&t[1]||""}return`
`+Ri+e}var Ai=!1;function Mi(e,t){if(!e||Ai)return"";Ai=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ai=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qn(e):""}function Pm(e){switch(e.tag){case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 2:case 15:return e=Mi(e.type,!1),e;case 11:return e=Mi(e.type.render,!1),e;case 1:return e=Mi(e.type,!0),e;default:return""}}function xo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nn:return"Fragment";case rn:return"Portal";case go:return"Profiler";case El:return"StrictMode";case po:return"Suspense";case yo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qd:return(e.displayName||"Context")+".Consumer";case Vd:return(e._context.displayName||"Context")+".Provider";case Pl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tl:return t=e.displayName||null,t!==null?t:xo(e.type)||"Memo";case sr:t=e._payload,e=e._init;try{return xo(e(t))}catch{}}return null}function Tm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xo(t);case 8:return t===El?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $m(e){var t=Wd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ks(e){e._valueTracker||(e._valueTracker=$m(e))}function Yd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Wd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vo(e,t){var r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Mc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_r(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kd(e,t){t=t.checked,t!=null&&Cl(e,"checked",t,!1)}function bo(e,t){Kd(e,t);var r=_r(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wo(e,t.type,r):t.hasOwnProperty("defaultValue")&&wo(e,t.type,_r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function wo(e,t,r){(t!=="number"||Ea(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xn=Array.isArray;function gn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_r(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ko(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ic(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(U(92));if(Xn(r)){if(1<r.length)throw Error(U(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_r(r)}}function Gd(e,t){var r=_r(t.value),n=_r(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gs,Qd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gs=Gs||document.createElement("div"),Gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lm=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(e){Lm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rs[t]=rs[e]})});function Xd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||rs.hasOwnProperty(e)&&rs[e]?(""+t).trim():t+"px"}function Zd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Xd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Om=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(e,t){if(t){if(Om[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function No(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=null;function $l(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Co=null,pn=null,yn=null;function Fc(e){if(e=Us(e)){if(typeof Co!="function")throw Error(U(280));var t=e.stateNode;t&&(t=li(t),Co(e.stateNode,e.type,t))}}function eh(e){pn?yn?yn.push(e):yn=[e]:pn=e}function th(){if(pn){var e=pn,t=yn;if(yn=pn=null,Fc(e),t)for(e=0;e<t.length;e++)Fc(t[e])}}function rh(e,t){return e(t)}function nh(){}var Di=!1;function sh(e,t,r){if(Di)return e(t,r);Di=!0;try{return rh(e,t,r)}finally{Di=!1,(pn!==null||yn!==null)&&(nh(),th())}}function vs(e,t){var r=e.stateNode;if(r===null)return null;var n=li(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(U(231,t,typeof r));return r}var Eo=!1;if(Wt)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{Eo=!1}function Rm(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ns=!1,Pa=null,Ta=!1,Po=null,Am={onError:function(e){ns=!0,Pa=e}};function Mm(e,t,r,n,s,i,o,l,c){ns=!1,Pa=null,Rm.apply(Am,arguments)}function Dm(e,t,r,n,s,i,o,l,c){if(Mm.apply(this,arguments),ns){if(ns){var u=Pa;ns=!1,Pa=null}else throw Error(U(198));Ta||(Ta=!0,Po=u)}}function Yr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ah(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uc(e){if(Yr(e)!==e)throw Error(U(188))}function Im(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Uc(s),e;if(i===n)return Uc(s),t;i=i.sibling}throw Error(U(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?e:t}function ih(e){return e=Im(e),e!==null?oh(e):null}function oh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oh(e);if(t!==null)return t;e=e.sibling}return null}var lh=it.unstable_scheduleCallback,Bc=it.unstable_cancelCallback,zm=it.unstable_shouldYield,Fm=it.unstable_requestPaint,we=it.unstable_now,Um=it.unstable_getCurrentPriorityLevel,Ll=it.unstable_ImmediatePriority,ch=it.unstable_UserBlockingPriority,$a=it.unstable_NormalPriority,Bm=it.unstable_LowPriority,uh=it.unstable_IdlePriority,si=null,Mt=null;function Vm(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(si,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Wm,qm=Math.log,Hm=Math.LN2;function Wm(e){return e>>>=0,e===0?32:31-(qm(e)/Hm|0)|0}var Js=64,Qs=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function La(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Zn(l):(i&=o,i!==0&&(n=Zn(i)))}else o=r&~s,o!==0?n=Zn(o):i!==0&&(n=Zn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-St(t),s=1<<r,n|=e[r],t&=~s;return n}function Ym(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Km(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-St(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Ym(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function To(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dh(){var e=Js;return Js<<=1,!(Js&4194240)&&(Js=64),e}function Ii(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=r}function Gm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-St(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Ol(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-St(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ne=0;function hh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fh,Rl,mh,gh,ph,$o=!1,Xs=[],mr=null,gr=null,pr=null,bs=new Map,ws=new Map,or=[],Jm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vc(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(t.pointerId)}}function Vn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Us(t),t!==null&&Rl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Qm(e,t,r,n,s){switch(t){case"focusin":return mr=Vn(mr,e,t,r,n,s),!0;case"dragenter":return gr=Vn(gr,e,t,r,n,s),!0;case"mouseover":return pr=Vn(pr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return bs.set(i,Vn(bs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ws.set(i,Vn(ws.get(i)||null,e,t,r,n,s)),!0}return!1}function yh(e){var t=Mr(e.target);if(t!==null){var r=Yr(t);if(r!==null){if(t=r.tag,t===13){if(t=ah(r),t!==null){e.blockedOn=t,ph(e.priority,function(){mh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ya(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);So=n,r.target.dispatchEvent(n),So=null}else return t=Us(r),t!==null&&Rl(t),e.blockedOn=r,!1;t.shift()}return!0}function qc(e,t,r){ya(e)&&r.delete(t)}function Xm(){$o=!1,mr!==null&&ya(mr)&&(mr=null),gr!==null&&ya(gr)&&(gr=null),pr!==null&&ya(pr)&&(pr=null),bs.forEach(qc),ws.forEach(qc)}function qn(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Xm)))}function ks(e){function t(s){return qn(s,e)}if(0<Xs.length){qn(Xs[0],e);for(var r=1;r<Xs.length;r++){var n=Xs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(mr!==null&&qn(mr,e),gr!==null&&qn(gr,e),pr!==null&&qn(pr,e),bs.forEach(t),ws.forEach(t),r=0;r<or.length;r++)n=or[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<or.length&&(r=or[0],r.blockedOn===null);)yh(r),r.blockedOn===null&&or.shift()}var xn=Jt.ReactCurrentBatchConfig,Oa=!0;function Zm(e,t,r,n){var s=ne,i=xn.transition;xn.transition=null;try{ne=1,Al(e,t,r,n)}finally{ne=s,xn.transition=i}}function eg(e,t,r,n){var s=ne,i=xn.transition;xn.transition=null;try{ne=4,Al(e,t,r,n)}finally{ne=s,xn.transition=i}}function Al(e,t,r,n){if(Oa){var s=Lo(e,t,r,n);if(s===null)Ki(e,t,n,Ra,r),Vc(e,n);else if(Qm(s,e,t,r,n))n.stopPropagation();else if(Vc(e,n),t&4&&-1<Jm.indexOf(e)){for(;s!==null;){var i=Us(s);if(i!==null&&fh(i),i=Lo(e,t,r,n),i===null&&Ki(e,t,n,Ra,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ki(e,t,n,null,r)}}var Ra=null;function Lo(e,t,r,n){if(Ra=null,e=$l(n),e=Mr(e),e!==null)if(t=Yr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ah(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ra=e,null}function xh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Um()){case Ll:return 1;case ch:return 4;case $a:case Bm:return 16;case uh:return 536870912;default:return 16}default:return 16}}var dr=null,Ml=null,xa=null;function vh(){if(xa)return xa;var e,t=Ml,r=t.length,n,s="value"in dr?dr.value:dr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return xa=s.slice(e,1<n?1-n:void 0)}function va(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function Hc(){return!1}function lt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zs:Hc,this.isPropagationStopped=Hc,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=lt(An),Fs=xe({},An,{view:0,detail:0}),tg=lt(Fs),zi,Fi,Hn,ai=xe({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hn&&(Hn&&e.type==="mousemove"?(zi=e.screenX-Hn.screenX,Fi=e.screenY-Hn.screenY):Fi=zi=0,Hn=e),zi)},movementY:function(e){return"movementY"in e?e.movementY:Fi}}),Wc=lt(ai),rg=xe({},ai,{dataTransfer:0}),ng=lt(rg),sg=xe({},Fs,{relatedTarget:0}),Ui=lt(sg),ag=xe({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),ig=lt(ag),og=xe({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lg=lt(og),cg=xe({},An,{data:0}),Yc=lt(cg),ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hg[e])?!!t[e]:!1}function Il(){return fg}var mg=xe({},Fs,{key:function(e){if(e.key){var t=ug[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(e){return e.type==="keypress"?va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gg=lt(mg),pg=xe({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=lt(pg),yg=xe({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),xg=lt(yg),vg=xe({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),bg=lt(vg),wg=xe({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kg=lt(wg),jg=[9,13,27,32],zl=Wt&&"CompositionEvent"in window,ss=null;Wt&&"documentMode"in document&&(ss=document.documentMode);var _g=Wt&&"TextEvent"in window&&!ss,bh=Wt&&(!zl||ss&&8<ss&&11>=ss),Gc=" ",Jc=!1;function wh(e,t){switch(e){case"keyup":return jg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sn=!1;function Ng(e,t){switch(e){case"compositionend":return kh(t);case"keypress":return t.which!==32?null:(Jc=!0,Gc);case"textInput":return e=t.data,e===Gc&&Jc?null:e;default:return null}}function Sg(e,t){if(sn)return e==="compositionend"||!zl&&wh(e,t)?(e=vh(),xa=Ml=dr=null,sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bh&&t.locale!=="ko"?null:t.data;default:return null}}var Cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cg[e.type]:t==="textarea"}function jh(e,t,r,n){eh(n),t=Aa(t,"onChange"),0<t.length&&(r=new Dl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var as=null,js=null;function Eg(e){Rh(e,0)}function ii(e){var t=ln(e);if(Yd(t))return e}function Pg(e,t){if(e==="change")return t}var _h=!1;if(Wt){var Bi;if(Wt){var Vi="oninput"in document;if(!Vi){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),Vi=typeof Xc.oninput=="function"}Bi=Vi}else Bi=!1;_h=Bi&&(!document.documentMode||9<document.documentMode)}function Zc(){as&&(as.detachEvent("onpropertychange",Nh),js=as=null)}function Nh(e){if(e.propertyName==="value"&&ii(js)){var t=[];jh(t,js,e,$l(e)),sh(Eg,t)}}function Tg(e,t,r){e==="focusin"?(Zc(),as=t,js=r,as.attachEvent("onpropertychange",Nh)):e==="focusout"&&Zc()}function $g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(js)}function Lg(e,t){if(e==="click")return ii(t)}function Og(e,t){if(e==="input"||e==="change")return ii(t)}function Rg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Rg;function _s(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!mo.call(t,s)||!Et(e[s],t[s]))return!1}return!0}function eu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tu(e,t){var r=eu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=eu(r)}}function Sh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ch(){for(var e=window,t=Ea();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ea(e.document)}return t}function Fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ag(e){var t=Ch(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Sh(r.ownerDocument.documentElement,r)){if(n!==null&&Fl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=tu(r,i);var o=tu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mg=Wt&&"documentMode"in document&&11>=document.documentMode,an=null,Oo=null,is=null,Ro=!1;function ru(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ro||an==null||an!==Ea(n)||(n=an,"selectionStart"in n&&Fl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),is&&_s(is,n)||(is=n,n=Aa(Oo,"onSelect"),0<n.length&&(t=new Dl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=an)))}function ea(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var on={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},qi={},Eh={};Wt&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function oi(e){if(qi[e])return qi[e];if(!on[e])return e;var t=on[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Eh)return qi[e]=t[r];return e}var Ph=oi("animationend"),Th=oi("animationiteration"),$h=oi("animationstart"),Lh=oi("transitionend"),Oh=new Map,nu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){Oh.set(e,t),Wr(t,[e])}for(var Hi=0;Hi<nu.length;Hi++){var Wi=nu[Hi],Dg=Wi.toLowerCase(),Ig=Wi[0].toUpperCase()+Wi.slice(1);Sr(Dg,"on"+Ig)}Sr(Ph,"onAnimationEnd");Sr(Th,"onAnimationIteration");Sr($h,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(Lh,"onTransitionEnd");jn("onMouseEnter",["mouseout","mouseover"]);jn("onMouseLeave",["mouseout","mouseover"]);jn("onPointerEnter",["pointerout","pointerover"]);jn("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zg=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function su(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Dm(n,t,void 0,e),e.currentTarget=null}function Rh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;su(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;su(s,l,u),i=c}}}if(Ta)throw e=Po,Ta=!1,Po=null,e}function le(e,t){var r=t[zo];r===void 0&&(r=t[zo]=new Set);var n=e+"__bubble";r.has(n)||(Ah(t,e,2,!1),r.add(n))}function Yi(e,t,r){var n=0;t&&(n|=4),Ah(r,e,n,t)}var ta="_reactListening"+Math.random().toString(36).slice(2);function Ns(e){if(!e[ta]){e[ta]=!0,Bd.forEach(function(r){r!=="selectionchange"&&(zg.has(r)||Yi(r,!1,e),Yi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ta]||(t[ta]=!0,Yi("selectionchange",!1,t))}}function Ah(e,t,r,n){switch(xh(t)){case 1:var s=Zm;break;case 4:s=eg;break;default:s=Al}r=s.bind(null,t,r,e),s=void 0,!Eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ki(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Mr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}sh(function(){var u=i,d=$l(r),h=[];e:{var g=Oh.get(e);if(g!==void 0){var y=Dl,v=e;switch(e){case"keypress":if(va(r)===0)break e;case"keydown":case"keyup":y=gg;break;case"focusin":v="focus",y=Ui;break;case"focusout":v="blur",y=Ui;break;case"beforeblur":case"afterblur":y=Ui;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=xg;break;case Ph:case Th:case $h:y=ig;break;case Lh:y=bg;break;case"scroll":y=tg;break;case"wheel":y=kg;break;case"copy":case"cut":case"paste":y=lg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Kc}var b=(t&4)!==0,k=!b&&e==="scroll",m=b?g!==null?g+"Capture":null:g;b=[];for(var f=u,x;f!==null;){x=f;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,m!==null&&(w=vs(f,m),w!=null&&b.push(Ss(f,w,x)))),k)break;f=f.return}0<b.length&&(g=new y(g,v,null,r,d),h.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&r!==So&&(v=r.relatedTarget||r.fromElement)&&(Mr(v)||v[Yt]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?Mr(v):null,v!==null&&(k=Yr(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=Wc,w="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(b=Kc,w="onPointerLeave",m="onPointerEnter",f="pointer"),k=y==null?g:ln(y),x=v==null?g:ln(v),g=new b(w,f+"leave",y,r,d),g.target=k,g.relatedTarget=x,w=null,Mr(d)===u&&(b=new b(m,f+"enter",v,r,d),b.target=x,b.relatedTarget=k,w=b),k=w,y&&v)t:{for(b=y,m=v,f=0,x=b;x;x=Jr(x))f++;for(x=0,w=m;w;w=Jr(w))x++;for(;0<f-x;)b=Jr(b),f--;for(;0<x-f;)m=Jr(m),x--;for(;f--;){if(b===m||m!==null&&b===m.alternate)break t;b=Jr(b),m=Jr(m)}b=null}else b=null;y!==null&&au(h,g,y,b,!1),v!==null&&k!==null&&au(h,k,v,b,!0)}}e:{if(g=u?ln(u):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var C=Pg;else if(Qc(g))if(_h)C=Og;else{C=$g;var N=Tg}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=Lg);if(C&&(C=C(e,u))){jh(h,C,r,d);break e}N&&N(e,g,u),e==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&wo(g,"number",g.value)}switch(N=u?ln(u):window,e){case"focusin":(Qc(N)||N.contentEditable==="true")&&(an=N,Oo=u,is=null);break;case"focusout":is=Oo=an=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,ru(h,r,d);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":ru(h,r,d)}var S;if(zl)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else sn?wh(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(bh&&r.locale!=="ko"&&(sn||T!=="onCompositionStart"?T==="onCompositionEnd"&&sn&&(S=vh()):(dr=d,Ml="value"in dr?dr.value:dr.textContent,sn=!0)),N=Aa(u,T),0<N.length&&(T=new Yc(T,e,null,r,d),h.push({event:T,listeners:N}),S?T.data=S:(S=kh(r),S!==null&&(T.data=S)))),(S=_g?Ng(e,r):Sg(e,r))&&(u=Aa(u,"onBeforeInput"),0<u.length&&(d=new Yc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}Rh(h,t)})}function Ss(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Aa(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vs(e,r),i!=null&&n.unshift(Ss(e,i,s)),i=vs(e,t),i!=null&&n.push(Ss(e,i,s))),e=e.return}return n}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function au(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=vs(r,i),c!=null&&o.unshift(Ss(r,c,l))):s||(c=vs(r,i),c!=null&&o.push(Ss(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Fg=/\r\n?/g,Ug=/\u0000|\uFFFD/g;function iu(e){return(typeof e=="string"?e:""+e).replace(Fg,`
`).replace(Ug,"")}function ra(e,t,r){if(t=iu(t),iu(e)!==t&&r)throw Error(U(425))}function Ma(){}var Ao=null,Mo=null;function Do(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Io=typeof setTimeout=="function"?setTimeout:void 0,Bg=typeof clearTimeout=="function"?clearTimeout:void 0,ou=typeof Promise=="function"?Promise:void 0,Vg=typeof queueMicrotask=="function"?queueMicrotask:typeof ou<"u"?function(e){return ou.resolve(null).then(e).catch(qg)}:Io;function qg(e){setTimeout(function(){throw e})}function Gi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ks(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ks(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Mn,Cs="__reactProps$"+Mn,Yt="__reactContainer$"+Mn,zo="__reactEvents$"+Mn,Hg="__reactListeners$"+Mn,Wg="__reactHandles$"+Mn;function Mr(e){var t=e[Rt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yt]||r[Rt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lu(e);e!==null;){if(r=e[Rt])return r;e=lu(e)}return t}e=r,r=e.parentNode}return null}function Us(e){return e=e[Rt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function li(e){return e[Cs]||null}var Fo=[],cn=-1;function Cr(e){return{current:e}}function ce(e){0>cn||(e.current=Fo[cn],Fo[cn]=null,cn--)}function oe(e,t){cn++,Fo[cn]=e.current,e.current=t}var Nr={},ze=Cr(Nr),Xe=Cr(!1),Ur=Nr;function _n(e,t){var r=e.type.contextTypes;if(!r)return Nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ze(e){return e=e.childContextTypes,e!=null}function Da(){ce(Xe),ce(ze)}function cu(e,t,r){if(ze.current!==Nr)throw Error(U(168));oe(ze,t),oe(Xe,r)}function Mh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(U(108,Tm(e)||"Unknown",s));return xe({},r,n)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,Ur=ze.current,oe(ze,e),oe(Xe,Xe.current),!0}function uu(e,t,r){var n=e.stateNode;if(!n)throw Error(U(169));r?(e=Mh(e,t,Ur),n.__reactInternalMemoizedMergedChildContext=e,ce(Xe),ce(ze),oe(ze,e)):ce(Xe),oe(Xe,r)}var Bt=null,ci=!1,Ji=!1;function Dh(e){Bt===null?Bt=[e]:Bt.push(e)}function Yg(e){ci=!0,Dh(e)}function Er(){if(!Ji&&Bt!==null){Ji=!0;var e=0,t=ne;try{var r=Bt;for(ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Bt=null,ci=!1}catch(s){throw Bt!==null&&(Bt=Bt.slice(e+1)),lh(Ll,Er),s}finally{ne=t,Ji=!1}}return null}var un=[],dn=0,za=null,Fa=0,ut=[],dt=0,Br=null,Vt=1,qt="";function Lr(e,t){un[dn++]=Fa,un[dn++]=za,za=e,Fa=t}function Ih(e,t,r){ut[dt++]=Vt,ut[dt++]=qt,ut[dt++]=Br,Br=e;var n=Vt;e=qt;var s=32-St(n)-1;n&=~(1<<s),r+=1;var i=32-St(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Vt=1<<32-St(t)+s|r<<s|n,qt=i+e}else Vt=1<<i|r<<s|n,qt=e}function Ul(e){e.return!==null&&(Lr(e,1),Ih(e,1,0))}function Bl(e){for(;e===za;)za=un[--dn],un[dn]=null,Fa=un[--dn],un[dn]=null;for(;e===Br;)Br=ut[--dt],ut[dt]=null,qt=ut[--dt],ut[dt]=null,Vt=ut[--dt],ut[dt]=null}var at=null,st=null,me=!1,Nt=null;function zh(e,t){var r=ht(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function du(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,st=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Br!==null?{id:Vt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ht(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,at=e,st=null,!0):!1;default:return!1}}function Uo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bo(e){if(me){var t=st;if(t){var r=t;if(!du(e,t)){if(Uo(e))throw Error(U(418));t=yr(r.nextSibling);var n=at;t&&du(e,t)?zh(n,r):(e.flags=e.flags&-4097|2,me=!1,at=e)}}else{if(Uo(e))throw Error(U(418));e.flags=e.flags&-4097|2,me=!1,at=e}}}function hu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function na(e){if(e!==at)return!1;if(!me)return hu(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Do(e.type,e.memoizedProps)),t&&(t=st)){if(Uo(e))throw Fh(),Error(U(418));for(;t;)zh(e,t),t=yr(t.nextSibling)}if(hu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){st=yr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}st=null}}else st=at?yr(e.stateNode.nextSibling):null;return!0}function Fh(){for(var e=st;e;)e=yr(e.nextSibling)}function Nn(){st=at=null,me=!1}function Vl(e){Nt===null?Nt=[e]:Nt.push(e)}var Kg=Jt.ReactCurrentBatchConfig;function Wn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,e))}return e}function sa(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fu(e){var t=e._init;return t(e._payload)}function Uh(e){function t(m,f){if(e){var x=m.deletions;x===null?(m.deletions=[f],m.flags|=16):x.push(f)}}function r(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function n(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=wr(m,f),m.index=0,m.sibling=null,m}function i(m,f,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<f?(m.flags|=2,f):x):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,x,w){return f===null||f.tag!==6?(f=no(x,m.mode,w),f.return=m,f):(f=s(f,x),f.return=m,f)}function c(m,f,x,w){var C=x.type;return C===nn?d(m,f,x.props.children,w,x.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===sr&&fu(C)===f.type)?(w=s(f,x.props),w.ref=Wn(m,f,x),w.return=m,w):(w=Sa(x.type,x.key,x.props,null,m.mode,w),w.ref=Wn(m,f,x),w.return=m,w)}function u(m,f,x,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=so(x,m.mode,w),f.return=m,f):(f=s(f,x.children||[]),f.return=m,f)}function d(m,f,x,w,C){return f===null||f.tag!==7?(f=Fr(x,m.mode,w,C),f.return=m,f):(f=s(f,x),f.return=m,f)}function h(m,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=no(""+f,m.mode,x),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ys:return x=Sa(f.type,f.key,f.props,null,m.mode,x),x.ref=Wn(m,null,f),x.return=m,x;case rn:return f=so(f,m.mode,x),f.return=m,f;case sr:var w=f._init;return h(m,w(f._payload),x)}if(Xn(f)||Un(f))return f=Fr(f,m.mode,x,null),f.return=m,f;sa(m,f)}return null}function g(m,f,x,w){var C=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:l(m,f,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ys:return x.key===C?c(m,f,x,w):null;case rn:return x.key===C?u(m,f,x,w):null;case sr:return C=x._init,g(m,f,C(x._payload),w)}if(Xn(x)||Un(x))return C!==null?null:d(m,f,x,w,null);sa(m,x)}return null}function y(m,f,x,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(x)||null,l(f,m,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ys:return m=m.get(w.key===null?x:w.key)||null,c(f,m,w,C);case rn:return m=m.get(w.key===null?x:w.key)||null,u(f,m,w,C);case sr:var N=w._init;return y(m,f,x,N(w._payload),C)}if(Xn(w)||Un(w))return m=m.get(x)||null,d(f,m,w,C,null);sa(f,w)}return null}function v(m,f,x,w){for(var C=null,N=null,S=f,T=f=0,O=null;S!==null&&T<x.length;T++){S.index>T?(O=S,S=null):O=S.sibling;var E=g(m,S,x[T],w);if(E===null){S===null&&(S=O);break}e&&S&&E.alternate===null&&t(m,S),f=i(E,f,T),N===null?C=E:N.sibling=E,N=E,S=O}if(T===x.length)return r(m,S),me&&Lr(m,T),C;if(S===null){for(;T<x.length;T++)S=h(m,x[T],w),S!==null&&(f=i(S,f,T),N===null?C=S:N.sibling=S,N=S);return me&&Lr(m,T),C}for(S=n(m,S);T<x.length;T++)O=y(S,m,T,x[T],w),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?T:O.key),f=i(O,f,T),N===null?C=O:N.sibling=O,N=O);return e&&S.forEach(function(L){return t(m,L)}),me&&Lr(m,T),C}function b(m,f,x,w){var C=Un(x);if(typeof C!="function")throw Error(U(150));if(x=C.call(x),x==null)throw Error(U(151));for(var N=C=null,S=f,T=f=0,O=null,E=x.next();S!==null&&!E.done;T++,E=x.next()){S.index>T?(O=S,S=null):O=S.sibling;var L=g(m,S,E.value,w);if(L===null){S===null&&(S=O);break}e&&S&&L.alternate===null&&t(m,S),f=i(L,f,T),N===null?C=L:N.sibling=L,N=L,S=O}if(E.done)return r(m,S),me&&Lr(m,T),C;if(S===null){for(;!E.done;T++,E=x.next())E=h(m,E.value,w),E!==null&&(f=i(E,f,T),N===null?C=E:N.sibling=E,N=E);return me&&Lr(m,T),C}for(S=n(m,S);!E.done;T++,E=x.next())E=y(S,m,T,E.value,w),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?T:E.key),f=i(E,f,T),N===null?C=E:N.sibling=E,N=E);return e&&S.forEach(function(D){return t(m,D)}),me&&Lr(m,T),C}function k(m,f,x,w){if(typeof x=="object"&&x!==null&&x.type===nn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ys:e:{for(var C=x.key,N=f;N!==null;){if(N.key===C){if(C=x.type,C===nn){if(N.tag===7){r(m,N.sibling),f=s(N,x.props.children),f.return=m,m=f;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===sr&&fu(C)===N.type){r(m,N.sibling),f=s(N,x.props),f.ref=Wn(m,N,x),f.return=m,m=f;break e}r(m,N);break}else t(m,N);N=N.sibling}x.type===nn?(f=Fr(x.props.children,m.mode,w,x.key),f.return=m,m=f):(w=Sa(x.type,x.key,x.props,null,m.mode,w),w.ref=Wn(m,f,x),w.return=m,m=w)}return o(m);case rn:e:{for(N=x.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){r(m,f.sibling),f=s(f,x.children||[]),f.return=m,m=f;break e}else{r(m,f);break}else t(m,f);f=f.sibling}f=so(x,m.mode,w),f.return=m,m=f}return o(m);case sr:return N=x._init,k(m,f,N(x._payload),w)}if(Xn(x))return v(m,f,x,w);if(Un(x))return b(m,f,x,w);sa(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(r(m,f.sibling),f=s(f,x),f.return=m,m=f):(r(m,f),f=no(x,m.mode,w),f.return=m,m=f),o(m)):r(m,f)}return k}var Sn=Uh(!0),Bh=Uh(!1),Ua=Cr(null),Ba=null,hn=null,ql=null;function Hl(){ql=hn=Ba=null}function Wl(e){var t=Ua.current;ce(Ua),e._currentValue=t}function Vo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vn(e,t){Ba=e,ql=hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(ql!==e)if(e={context:e,memoizedValue:t,next:null},hn===null){if(Ba===null)throw Error(U(308));hn=e,Ba.dependencies={lanes:0,firstContext:e}}else hn=hn.next=e;return t}var Dr=null;function Yl(e){Dr===null?Dr=[e]:Dr.push(e)}function Vh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Yl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Kt(e,n)}function Kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ar=!1;function Kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Kt(e,r)}return s=n.interleaved,s===null?(t.next=t,Yl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Kt(e,r)}function ba(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ol(e,r)}}function mu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Va(e,t,r,n){var s=e.updateQueue;ar=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var g=l.lane,y=l.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,b=l;switch(g=t,y=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(y,h,g);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,g=typeof v=="function"?v.call(y,h,g):v,g==null)break e;h=xe({},h,g);break e;case 2:ar=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);qr|=o,e.lanes=o,e.memoizedState=h}}function gu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(U(191,s));s.call(n)}}}var Bs={},Dt=Cr(Bs),Es=Cr(Bs),Ps=Cr(Bs);function Ir(e){if(e===Bs)throw Error(U(174));return e}function Gl(e,t){switch(oe(Ps,t),oe(Es,e),oe(Dt,Bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jo(t,e)}ce(Dt),oe(Dt,t)}function Cn(){ce(Dt),ce(Es),ce(Ps)}function Hh(e){Ir(Ps.current);var t=Ir(Dt.current),r=jo(t,e.type);t!==r&&(oe(Es,e),oe(Dt,r))}function Jl(e){Es.current===e&&(ce(Dt),ce(Es))}var ge=Cr(0);function qa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qi=[];function Ql(){for(var e=0;e<Qi.length;e++)Qi[e]._workInProgressVersionPrimary=null;Qi.length=0}var wa=Jt.ReactCurrentDispatcher,Xi=Jt.ReactCurrentBatchConfig,Vr=0,pe=null,Se=null,Te=null,Ha=!1,os=!1,Ts=0,Gg=0;function Me(){throw Error(U(321))}function Xl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Et(e[r],t[r]))return!1;return!0}function Zl(e,t,r,n,s,i){if(Vr=i,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wa.current=e===null||e.memoizedState===null?Zg:ep,e=r(n,s),os){i=0;do{if(os=!1,Ts=0,25<=i)throw Error(U(301));i+=1,Te=Se=null,t.updateQueue=null,wa.current=tp,e=r(n,s)}while(os)}if(wa.current=Wa,t=Se!==null&&Se.next!==null,Vr=0,Te=Se=pe=null,Ha=!1,t)throw Error(U(300));return e}function ec(){var e=Ts!==0;return Ts=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?pe.memoizedState=Te=e:Te=Te.next=e,Te}function gt(){if(Se===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Te===null?pe.memoizedState:Te.next;if(t!==null)Te=t,Se=e;else{if(e===null)throw Error(U(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Te===null?pe.memoizedState=Te=e:Te=Te.next=e}return Te}function $s(e,t){return typeof t=="function"?t(e):t}function Zi(e){var t=gt(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=Se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Vr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,pe.lanes|=d,qr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Et(n,t.memoizedState)||(Qe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,pe.lanes|=i,qr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function eo(e){var t=gt(),r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Et(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Wh(){}function Yh(e,t){var r=pe,n=gt(),s=t(),i=!Et(n.memoizedState,s);if(i&&(n.memoizedState=s,Qe=!0),n=n.queue,tc(Jh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Te!==null&&Te.memoizedState.tag&1){if(r.flags|=2048,Ls(9,Gh.bind(null,r,n,s,t),void 0,null),$e===null)throw Error(U(349));Vr&30||Kh(r,t,s)}return s}function Kh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Gh(e,t,r,n){t.value=r,t.getSnapshot=n,Qh(t)&&Xh(e)}function Jh(e,t,r){return r(function(){Qh(t)&&Xh(e)})}function Qh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Et(e,r)}catch{return!0}}function Xh(e){var t=Kt(e,1);t!==null&&Ct(t,e,1,-1)}function pu(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t.queue=e,e=e.dispatch=Xg.bind(null,pe,e),[t.memoizedState,e]}function Ls(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Zh(){return gt().memoizedState}function ka(e,t,r,n){var s=Ot();pe.flags|=e,s.memoizedState=Ls(1|t,r,void 0,n===void 0?null:n)}function ui(e,t,r,n){var s=gt();n=n===void 0?null:n;var i=void 0;if(Se!==null){var o=Se.memoizedState;if(i=o.destroy,n!==null&&Xl(n,o.deps)){s.memoizedState=Ls(t,r,i,n);return}}pe.flags|=e,s.memoizedState=Ls(1|t,r,i,n)}function yu(e,t){return ka(8390656,8,e,t)}function tc(e,t){return ui(2048,8,e,t)}function e0(e,t){return ui(4,2,e,t)}function t0(e,t){return ui(4,4,e,t)}function r0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function n0(e,t,r){return r=r!=null?r.concat([e]):null,ui(4,4,r0.bind(null,t,e),r)}function rc(){}function s0(e,t){var r=gt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function a0(e,t){var r=gt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function i0(e,t,r){return Vr&21?(Et(r,t)||(r=dh(),pe.lanes|=r,qr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=r)}function Jg(e,t){var r=ne;ne=r!==0&&4>r?r:4,e(!0);var n=Xi.transition;Xi.transition={};try{e(!1),t()}finally{ne=r,Xi.transition=n}}function o0(){return gt().memoizedState}function Qg(e,t,r){var n=br(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},l0(e))c0(t,r);else if(r=Vh(e,t,r,n),r!==null){var s=Ve();Ct(r,e,n,s),u0(r,t,n)}}function Xg(e,t,r){var n=br(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(l0(e))c0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Et(l,o)){var c=t.interleaved;c===null?(s.next=s,Yl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Vh(e,t,s,n),r!==null&&(s=Ve(),Ct(r,e,n,s),u0(r,t,n))}}function l0(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function c0(e,t){os=Ha=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function u0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ol(e,r)}}var Wa={readContext:mt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Zg={readContext:mt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:yu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ka(4194308,4,r0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var r=Ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ot();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Qg.bind(null,pe,e),[n.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:pu,useDebugValue:rc,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=pu(!1),t=e[0];return e=Jg.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pe,s=Ot();if(me){if(r===void 0)throw Error(U(407));r=r()}else{if(r=t(),$e===null)throw Error(U(349));Vr&30||Kh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,yu(Jh.bind(null,n,i,e),[e]),n.flags|=2048,Ls(9,Gh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ot(),t=$e.identifierPrefix;if(me){var r=qt,n=Vt;r=(n&~(1<<32-St(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ts++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Gg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ep={readContext:mt,useCallback:s0,useContext:mt,useEffect:tc,useImperativeHandle:n0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:a0,useReducer:Zi,useRef:Zh,useState:function(){return Zi($s)},useDebugValue:rc,useDeferredValue:function(e){var t=gt();return i0(t,Se.memoizedState,e)},useTransition:function(){var e=Zi($s)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Wh,useSyncExternalStore:Yh,useId:o0,unstable_isNewReconciler:!1},tp={readContext:mt,useCallback:s0,useContext:mt,useEffect:tc,useImperativeHandle:n0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:a0,useReducer:eo,useRef:Zh,useState:function(){return eo($s)},useDebugValue:rc,useDeferredValue:function(e){var t=gt();return Se===null?t.memoizedState=e:i0(t,Se.memoizedState,e)},useTransition:function(){var e=eo($s)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Wh,useSyncExternalStore:Yh,useId:o0,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var di={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ve(),s=br(e),i=Ht(n,s);i.payload=t,r!=null&&(i.callback=r),t=xr(e,i,s),t!==null&&(Ct(t,e,s,n),ba(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ve(),s=br(e),i=Ht(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xr(e,i,s),t!==null&&(Ct(t,e,s,n),ba(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ve(),n=br(e),s=Ht(r,n);s.tag=2,t!=null&&(s.callback=t),t=xr(e,s,n),t!==null&&(Ct(t,e,n,r),ba(t,e,n))}};function xu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!_s(r,n)||!_s(s,i):!0}function d0(e,t,r){var n=!1,s=Nr,i=t.contextType;return typeof i=="object"&&i!==null?i=mt(i):(s=Ze(t)?Ur:ze.current,n=t.contextTypes,i=(n=n!=null)?_n(e,s):Nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=di,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function vu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&di.enqueueReplaceState(t,t.state,null)}function Ho(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Kl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=mt(i):(i=Ze(t)?Ur:ze.current,s.context=_n(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&di.enqueueReplaceState(s,s.state,null),Va(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function En(e,t){try{var r="",n=t;do r+=Pm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function to(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Wo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var rp=typeof WeakMap=="function"?WeakMap:Map;function h0(e,t,r){r=Ht(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ka||(Ka=!0,rl=n),Wo(e,t)},r}function f0(e,t,r){r=Ht(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Wo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Wo(e,t),typeof n!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function bu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new rp;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=pp.bind(null,e,t,r),t.then(e,e))}function wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ku(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ht(-1,1),t.tag=2,xr(r,t,1))),r.lanes|=1),e)}var np=Jt.ReactCurrentOwner,Qe=!1;function Be(e,t,r,n){t.child=e===null?Bh(t,null,r,n):Sn(t,e.child,r,n)}function ju(e,t,r,n,s){r=r.render;var i=t.ref;return vn(t,s),n=Zl(e,t,r,n,i,s),r=ec(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gt(e,t,s)):(me&&r&&Ul(t),t.flags|=1,Be(e,t,n,s),t.child)}function _u(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!uc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,m0(e,t,i,n,s)):(e=Sa(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:_s,r(o,n)&&e.ref===t.ref)return Gt(e,t,s)}return t.flags|=1,e=wr(i,n),e.ref=t.ref,e.return=t,t.child=e}function m0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(_s(i,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Gt(e,t,s)}return Yo(e,t,r,n,s)}function g0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(mn,nt),nt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(mn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,oe(mn,nt),nt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,oe(mn,nt),nt|=n;return Be(e,t,s,r),t.child}function p0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yo(e,t,r,n,s){var i=Ze(r)?Ur:ze.current;return i=_n(t,i),vn(t,s),r=Zl(e,t,r,n,i,s),n=ec(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gt(e,t,s)):(me&&n&&Ul(t),t.flags|=1,Be(e,t,r,s),t.child)}function Nu(e,t,r,n,s){if(Ze(r)){var i=!0;Ia(t)}else i=!1;if(vn(t,s),t.stateNode===null)ja(e,t),d0(t,r,n),Ho(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Ze(r)?Ur:ze.current,u=_n(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&vu(t,o,n,u),ar=!1;var g=t.memoizedState;o.state=g,Va(t,n,o,s),c=t.memoizedState,l!==n||g!==c||Xe.current||ar?(typeof d=="function"&&(qo(t,r,d,n),c=t.memoizedState),(l=ar||xu(t,r,l,n,g,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,qh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:kt(t.type,l),o.props=u,h=t.pendingProps,g=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=Ze(r)?Ur:ze.current,c=_n(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||g!==c)&&vu(t,o,n,c),ar=!1,g=t.memoizedState,o.state=g,Va(t,n,o,s);var v=t.memoizedState;l!==h||g!==v||Xe.current||ar?(typeof y=="function"&&(qo(t,r,y,n),v=t.memoizedState),(u=ar||xu(t,r,u,n,g,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return Ko(e,t,r,n,i,s)}function Ko(e,t,r,n,s,i){p0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&uu(t,r,!1),Gt(e,t,i);n=t.stateNode,np.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Sn(t,e.child,null,i),t.child=Sn(t,null,l,i)):Be(e,t,l,i),t.memoizedState=n.state,s&&uu(t,r,!0),t.child}function y0(e){var t=e.stateNode;t.pendingContext?cu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cu(e,t.context,!1),Gl(e,t.containerInfo)}function Su(e,t,r,n,s){return Nn(),Vl(s),t.flags|=256,Be(e,t,r,n),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function Jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function x0(e,t,r){var n=t.pendingProps,s=ge.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),oe(ge,s&1),e===null)return Bo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mi(o,n,0,null),e=Fr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jo(r),t.memoizedState=Go,e):nc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return sp(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=wr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=wr(l,i):(i=Fr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Jo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Go,n}return i=e.child,e=i.sibling,n=wr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function nc(e,t){return t=mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function aa(e,t,r,n){return n!==null&&Vl(n),Sn(t,e.child,null,r),e=nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sp(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=to(Error(U(422))),aa(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=mi({mode:"visible",children:n.children},s,0,null),i=Fr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Sn(t,e.child,null,o),t.child.memoizedState=Jo(o),t.memoizedState=Go,i);if(!(t.mode&1))return aa(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(U(419)),n=to(i,n,void 0),aa(e,t,o,n)}if(l=(o&e.childLanes)!==0,Qe||l){if(n=$e,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kt(e,s),Ct(n,e,s,-1))}return cc(),n=to(Error(U(421))),aa(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,st=yr(s.nextSibling),at=t,me=!0,Nt=null,e!==null&&(ut[dt++]=Vt,ut[dt++]=qt,ut[dt++]=Br,Vt=e.id,qt=e.overflow,Br=t),t=nc(t,n.children),t.flags|=4096,t)}function Cu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vo(e.return,t,r)}function ro(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function v0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Be(e,t,n.children,r),n=ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cu(e,r,t);else if(e.tag===19)Cu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(oe(ge,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&qa(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ro(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qa(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ro(t,!0,r,null,i);break;case"together":ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,r=wr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ap(e,t,r){switch(t.tag){case 3:y0(t),Nn();break;case 5:Hh(t);break;case 1:Ze(t.type)&&Ia(t);break;case 4:Gl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;oe(Ua,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(oe(ge,ge.current&1),t.flags|=128,null):r&t.child.childLanes?x0(e,t,r):(oe(ge,ge.current&1),e=Gt(e,t,r),e!==null?e.sibling:null);oe(ge,ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return v0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(ge,ge.current),n)break;return null;case 22:case 23:return t.lanes=0,g0(e,t,r)}return Gt(e,t,r)}var b0,Qo,w0,k0;b0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qo=function(){};w0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ir(Dt.current);var i=null;switch(r){case"input":s=vo(e,s),n=vo(e,n),i=[];break;case"select":s=xe({},s,{value:void 0}),n=xe({},n,{value:void 0}),i=[];break;case"textarea":s=ko(e,s),n=ko(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ma)}_o(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ys.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ys.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&le("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};k0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yn(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ip(e,t,r){var n=t.pendingProps;switch(Bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Ze(t.type)&&Da(),De(t),null;case 3:return n=t.stateNode,Cn(),ce(Xe),ce(ze),Ql(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(na(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(al(Nt),Nt=null))),Qo(e,t),De(t),null;case 5:Jl(t);var s=Ir(Ps.current);if(r=t.type,e!==null&&t.stateNode!=null)w0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(U(166));return De(t),null}if(e=Ir(Dt.current),na(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Rt]=t,n[Cs]=i,e=(t.mode&1)!==0,r){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(s=0;s<es.length;s++)le(es[s],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":Mc(n,i),le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},le("invalid",n);break;case"textarea":Ic(n,i),le("invalid",n)}_o(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ra(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ra(n.textContent,l,e),s=["children",""+l]):ys.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&le("scroll",n)}switch(r){case"input":Ks(n),Dc(n,i,!0);break;case"textarea":Ks(n),zc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ma)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Rt]=t,e[Cs]=n,b0(e,t,!1,!1),t.stateNode=e;e:{switch(o=No(r,n),r){case"dialog":le("cancel",e),le("close",e),s=n;break;case"iframe":case"object":case"embed":le("load",e),s=n;break;case"video":case"audio":for(s=0;s<es.length;s++)le(es[s],e);s=n;break;case"source":le("error",e),s=n;break;case"img":case"image":case"link":le("error",e),le("load",e),s=n;break;case"details":le("toggle",e),s=n;break;case"input":Mc(e,n),s=vo(e,n),le("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=xe({},n,{value:void 0}),le("invalid",e);break;case"textarea":Ic(e,n),s=ko(e,n),le("invalid",e);break;default:s=n}_o(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Zd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qd(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&xs(e,c):typeof c=="number"&&xs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ys.hasOwnProperty(i)?c!=null&&i==="onScroll"&&le("scroll",e):c!=null&&Cl(e,i,c,o))}switch(r){case"input":Ks(e),Dc(e,n,!1);break;case"textarea":Ks(e),zc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_r(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?gn(e,!!n.multiple,i,!1):n.defaultValue!=null&&gn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ma)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)k0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(r=Ir(Ps.current),Ir(Dt.current),na(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rt]=t,(i=n.nodeValue!==r)&&(e=at,e!==null))switch(e.tag){case 3:ra(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ra(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rt]=t,t.stateNode=n}return De(t),null;case 13:if(ce(ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&st!==null&&t.mode&1&&!(t.flags&128))Fh(),Nn(),t.flags|=98560,i=!1;else if(i=na(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Rt]=t}else Nn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else Nt!==null&&(al(Nt),Nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ce===0&&(Ce=3):cc())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Cn(),Qo(e,t),e===null&&Ns(t.stateNode.containerInfo),De(t),null;case 10:return Wl(t.type._context),De(t),null;case 17:return Ze(t.type)&&Da(),De(t),null;case 19:if(ce(ge),i=t.memoizedState,i===null)return De(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Yn(i,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qa(e),o!==null){for(t.flags|=128,Yn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return oe(ge,ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&we()>Pn&&(t.flags|=128,n=!0,Yn(i,!1),t.lanes=4194304)}else{if(!n)if(e=qa(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!me)return De(t),null}else 2*we()-i.renderingStartTime>Pn&&r!==1073741824&&(t.flags|=128,n=!0,Yn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=we(),t.sibling=null,r=ge.current,oe(ge,n?r&1|2:r&1),t):(De(t),null);case 22:case 23:return lc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nt&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function op(e,t){switch(Bl(t),t.tag){case 1:return Ze(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(),ce(Xe),ce(ze),Ql(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jl(t),null;case 13:if(ce(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Nn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(ge),null;case 4:return Cn(),null;case 10:return Wl(t.type._context),null;case 22:case 23:return lc(),null;case 24:return null;default:return null}}var ia=!1,Ie=!1,lp=typeof WeakSet=="function"?WeakSet:Set,W=null;function fn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ve(e,t,n)}else r.current=null}function Xo(e,t,r){try{r()}catch(n){ve(e,t,n)}}var Eu=!1;function cp(e,t){if(Ao=Oa,e=Ch(),Fl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,g=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)g=h,h=y;for(;;){if(h===e)break t;if(g===r&&++u===s&&(l=o),g===i&&++d===n&&(c=o),(y=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mo={focusedElem:e,selectionRange:r},Oa=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,k=v.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?b:kt(t.type,b),k);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(w){ve(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=Eu,Eu=!1,v}function ls(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xo(t,r,i)}s=s.next}while(s!==n)}}function hi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Zo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function j0(e){var t=e.alternate;t!==null&&(e.alternate=null,j0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[Cs],delete t[zo],delete t[Hg],delete t[Wg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _0(e){return e.tag===5||e.tag===3||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function el(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ma));else if(n!==4&&(e=e.child,e!==null))for(el(e,t,r),e=e.sibling;e!==null;)el(e,t,r),e=e.sibling}function tl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(tl(e,t,r),e=e.sibling;e!==null;)tl(e,t,r),e=e.sibling}var Le=null,jt=!1;function tr(e,t,r){for(r=r.child;r!==null;)N0(e,t,r),r=r.sibling}function N0(e,t,r){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(si,r)}catch{}switch(r.tag){case 5:Ie||fn(r,t);case 6:var n=Le,s=jt;Le=null,tr(e,t,r),Le=n,jt=s,Le!==null&&(jt?(e=Le,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Le.removeChild(r.stateNode));break;case 18:Le!==null&&(jt?(e=Le,r=r.stateNode,e.nodeType===8?Gi(e.parentNode,r):e.nodeType===1&&Gi(e,r),ks(e)):Gi(Le,r.stateNode));break;case 4:n=Le,s=jt,Le=r.stateNode.containerInfo,jt=!0,tr(e,t,r),Le=n,jt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xo(r,t,o),s=s.next}while(s!==n)}tr(e,t,r);break;case 1:if(!Ie&&(fn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ve(r,t,l)}tr(e,t,r);break;case 21:tr(e,t,r);break;case 22:r.mode&1?(Ie=(n=Ie)||r.memoizedState!==null,tr(e,t,r),Ie=n):tr(e,t,r);break;default:tr(e,t,r)}}function Tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new lp),t.forEach(function(n){var s=xp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function wt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Le=l.stateNode,jt=!1;break e;case 3:Le=l.stateNode.containerInfo,jt=!0;break e;case 4:Le=l.stateNode.containerInfo,jt=!0;break e}l=l.return}if(Le===null)throw Error(U(160));N0(i,o,s),Le=null,jt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S0(t,e),t=t.sibling}function S0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),$t(e),n&4){try{ls(3,e,e.return),hi(3,e)}catch(b){ve(e,e.return,b)}try{ls(5,e,e.return)}catch(b){ve(e,e.return,b)}}break;case 1:wt(t,e),$t(e),n&512&&r!==null&&fn(r,r.return);break;case 5:if(wt(t,e),$t(e),n&512&&r!==null&&fn(r,r.return),e.flags&32){var s=e.stateNode;try{xs(s,"")}catch(b){ve(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Kd(s,i),No(l,o);var u=No(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Zd(s,h):d==="dangerouslySetInnerHTML"?Qd(s,h):d==="children"?xs(s,h):Cl(s,d,h,u)}switch(l){case"input":bo(s,i);break;case"textarea":Gd(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?gn(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?gn(s,!!i.multiple,i.defaultValue,!0):gn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cs]=i}catch(b){ve(e,e.return,b)}}break;case 6:if(wt(t,e),$t(e),n&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){ve(e,e.return,b)}}break;case 3:if(wt(t,e),$t(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(b){ve(e,e.return,b)}break;case 4:wt(t,e),$t(e);break;case 13:wt(t,e),$t(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ic=we())),n&4&&Tu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ie=(u=Ie)||d,wt(t,e),Ie=u):wt(t,e),$t(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(h=W=d;W!==null;){switch(g=W,y=g.child,g.tag){case 0:case 11:case 14:case 15:ls(4,g,g.return);break;case 1:fn(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){ve(n,r,b)}}break;case 5:fn(g,g.return);break;case 22:if(g.memoizedState!==null){Lu(h);continue}}y!==null?(y.return=g,W=y):Lu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xd("display",o))}catch(b){ve(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){ve(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(t,e),$t(e),n&4&&Tu(e);break;case 21:break;default:wt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_0(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(xs(s,""),n.flags&=-33);var i=Pu(e);tl(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Pu(e);el(e,l,o);break;default:throw Error(U(161))}}catch(c){ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function up(e,t,r){W=e,C0(e)}function C0(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ia;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ie;l=ia;var u=Ie;if(ia=o,(Ie=c)&&!u)for(W=s;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?Ou(s):c!==null?(c.return=o,W=c):Ou(s);for(;i!==null;)W=i,C0(i),i=i.sibling;W=s,ia=l,Ie=u}$u(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):$u(e)}}function $u(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||hi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ie)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:kt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ks(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ie||t.flags&512&&Zo(t)}catch(g){ve(t,t.return,g)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Lu(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function Ou(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hi(4,t)}catch(c){ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ve(t,s,c)}}var i=t.return;try{Zo(t)}catch(c){ve(t,i,c)}break;case 5:var o=t.return;try{Zo(t)}catch(c){ve(t,o,c)}}}catch(c){ve(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var dp=Math.ceil,Ya=Jt.ReactCurrentDispatcher,sc=Jt.ReactCurrentOwner,ft=Jt.ReactCurrentBatchConfig,ee=0,$e=null,_e=null,Oe=0,nt=0,mn=Cr(0),Ce=0,Os=null,qr=0,fi=0,ac=0,cs=null,Ge=null,ic=0,Pn=1/0,Ft=null,Ka=!1,rl=null,vr=null,oa=!1,hr=null,Ga=0,us=0,nl=null,_a=-1,Na=0;function Ve(){return ee&6?we():_a!==-1?_a:_a=we()}function br(e){return e.mode&1?ee&2&&Oe!==0?Oe&-Oe:Kg.transition!==null?(Na===0&&(Na=dh()),Na):(e=ne,e!==0||(e=window.event,e=e===void 0?16:xh(e.type)),e):1}function Ct(e,t,r,n){if(50<us)throw us=0,nl=null,Error(U(185));zs(e,r,n),(!(ee&2)||e!==$e)&&(e===$e&&(!(ee&2)&&(fi|=r),Ce===4&&lr(e,Oe)),et(e,n),r===1&&ee===0&&!(t.mode&1)&&(Pn=we()+500,ci&&Er()))}function et(e,t){var r=e.callbackNode;Km(e,t);var n=La(e,e===$e?Oe:0);if(n===0)r!==null&&Bc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Bc(r),t===1)e.tag===0?Yg(Ru.bind(null,e)):Dh(Ru.bind(null,e)),Vg(function(){!(ee&6)&&Er()}),r=null;else{switch(hh(n)){case 1:r=Ll;break;case 4:r=ch;break;case 16:r=$a;break;case 536870912:r=uh;break;default:r=$a}r=A0(r,E0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function E0(e,t){if(_a=-1,Na=0,ee&6)throw Error(U(327));var r=e.callbackNode;if(bn()&&e.callbackNode!==r)return null;var n=La(e,e===$e?Oe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ja(e,n);else{t=n;var s=ee;ee|=2;var i=T0();($e!==e||Oe!==t)&&(Ft=null,Pn=we()+500,zr(e,t));do try{mp();break}catch(l){P0(e,l)}while(!0);Hl(),Ya.current=i,ee=s,_e!==null?t=0:($e=null,Oe=0,t=Ce)}if(t!==0){if(t===2&&(s=To(e),s!==0&&(n=s,t=sl(e,s))),t===1)throw r=Os,zr(e,0),lr(e,n),et(e,we()),r;if(t===6)lr(e,n);else{if(s=e.current.alternate,!(n&30)&&!hp(s)&&(t=Ja(e,n),t===2&&(i=To(e),i!==0&&(n=i,t=sl(e,i))),t===1))throw r=Os,zr(e,0),lr(e,n),et(e,we()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(U(345));case 2:Or(e,Ge,Ft);break;case 3:if(lr(e,n),(n&130023424)===n&&(t=ic+500-we(),10<t)){if(La(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Io(Or.bind(null,e,Ge,Ft),t);break}Or(e,Ge,Ft);break;case 4:if(lr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-St(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=we()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dp(n/1960))-n,10<n){e.timeoutHandle=Io(Or.bind(null,e,Ge,Ft),n);break}Or(e,Ge,Ft);break;case 5:Or(e,Ge,Ft);break;default:throw Error(U(329))}}}return et(e,we()),e.callbackNode===r?E0.bind(null,e):null}function sl(e,t){var r=cs;return e.current.memoizedState.isDehydrated&&(zr(e,t).flags|=256),e=Ja(e,t),e!==2&&(t=Ge,Ge=r,t!==null&&al(t)),e}function al(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function hp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Et(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~ac,t&=~fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-St(t),n=1<<r;e[r]=-1,t&=~n}}function Ru(e){if(ee&6)throw Error(U(327));bn();var t=La(e,0);if(!(t&1))return et(e,we()),null;var r=Ja(e,t);if(e.tag!==0&&r===2){var n=To(e);n!==0&&(t=n,r=sl(e,n))}if(r===1)throw r=Os,zr(e,0),lr(e,t),et(e,we()),r;if(r===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Or(e,Ge,Ft),et(e,we()),null}function oc(e,t){var r=ee;ee|=1;try{return e(t)}finally{ee=r,ee===0&&(Pn=we()+500,ci&&Er())}}function Hr(e){hr!==null&&hr.tag===0&&!(ee&6)&&bn();var t=ee;ee|=1;var r=ft.transition,n=ne;try{if(ft.transition=null,ne=1,e)return e()}finally{ne=n,ft.transition=r,ee=t,!(ee&6)&&Er()}}function lc(){nt=mn.current,ce(mn)}function zr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Bg(r)),_e!==null)for(r=_e.return;r!==null;){var n=r;switch(Bl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Da();break;case 3:Cn(),ce(Xe),ce(ze),Ql();break;case 5:Jl(n);break;case 4:Cn();break;case 13:ce(ge);break;case 19:ce(ge);break;case 10:Wl(n.type._context);break;case 22:case 23:lc()}r=r.return}if($e=e,_e=e=wr(e.current,null),Oe=nt=t,Ce=0,Os=null,ac=fi=qr=0,Ge=cs=null,Dr!==null){for(t=0;t<Dr.length;t++)if(r=Dr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Dr=null}return e}function P0(e,t){do{var r=_e;try{if(Hl(),wa.current=Wa,Ha){for(var n=pe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ha=!1}if(Vr=0,Te=Se=pe=null,os=!1,Ts=0,sc.current=null,r===null||r.return===null){Ce=1,Os=t,_e=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Oe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=wu(o);if(y!==null){y.flags&=-257,ku(y,o,l,i,t),y.mode&1&&bu(i,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var b=new Set;b.add(c),t.updateQueue=b}else v.add(c);break e}else{if(!(t&1)){bu(i,u,t),cc();break e}c=Error(U(426))}}else if(me&&l.mode&1){var k=wu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),ku(k,o,l,i,t),Vl(En(c,l));break e}}i=c=En(c,l),Ce!==4&&(Ce=2),cs===null?cs=[i]:cs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=h0(i,c,t);mu(i,m);break e;case 1:l=c;var f=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vr===null||!vr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=f0(i,l,t);mu(i,w);break e}}i=i.return}while(i!==null)}L0(r)}catch(C){t=C,_e===r&&r!==null&&(_e=r=r.return);continue}break}while(!0)}function T0(){var e=Ya.current;return Ya.current=Wa,e===null?Wa:e}function cc(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),$e===null||!(qr&268435455)&&!(fi&268435455)||lr($e,Oe)}function Ja(e,t){var r=ee;ee|=2;var n=T0();($e!==e||Oe!==t)&&(Ft=null,zr(e,t));do try{fp();break}catch(s){P0(e,s)}while(!0);if(Hl(),ee=r,Ya.current=n,_e!==null)throw Error(U(261));return $e=null,Oe=0,Ce}function fp(){for(;_e!==null;)$0(_e)}function mp(){for(;_e!==null&&!zm();)$0(_e)}function $0(e){var t=R0(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?L0(e):_e=t,sc.current=null}function L0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=op(r,t),r!==null){r.flags&=32767,_e=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,_e=null;return}}else if(r=ip(r,t,nt),r!==null){_e=r;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ce===0&&(Ce=5)}function Or(e,t,r){var n=ne,s=ft.transition;try{ft.transition=null,ne=1,gp(e,t,r,n)}finally{ft.transition=s,ne=n}return null}function gp(e,t,r,n){do bn();while(hr!==null);if(ee&6)throw Error(U(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Gm(e,i),e===$e&&(_e=$e=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oa||(oa=!0,A0($a,function(){return bn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ft.transition,ft.transition=null;var o=ne;ne=1;var l=ee;ee|=4,sc.current=null,cp(e,r),S0(r,e),Ag(Mo),Oa=!!Ao,Mo=Ao=null,e.current=r,up(r),Fm(),ee=l,ne=o,ft.transition=i}else e.current=r;if(oa&&(oa=!1,hr=e,Ga=s),i=e.pendingLanes,i===0&&(vr=null),Vm(r.stateNode),et(e,we()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ka)throw Ka=!1,e=rl,rl=null,e;return Ga&1&&e.tag!==0&&bn(),i=e.pendingLanes,i&1?e===nl?us++:(us=0,nl=e):us=0,Er(),null}function bn(){if(hr!==null){var e=hh(Ga),t=ft.transition,r=ne;try{if(ft.transition=null,ne=16>e?16:e,hr===null)var n=!1;else{if(e=hr,hr=null,Ga=0,ee&6)throw Error(U(331));var s=ee;for(ee|=4,W=e.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:ls(8,d,i)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var g=d.sibling,y=d.return;if(j0(d),d===u){W=null;break}if(g!==null){g.return=y,W=g;break}W=y}}}var v=i.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ls(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,W=m;break e}W=i.return}}var f=e.current;for(W=f;W!==null;){o=W;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,W=x;else e:for(o=f;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hi(9,l)}}catch(C){ve(l,l.return,C)}if(l===o){W=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,W=w;break e}W=l.return}}if(ee=s,Er(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(si,e)}catch{}n=!0}return n}finally{ne=r,ft.transition=t}}return!1}function Au(e,t,r){t=En(r,t),t=h0(e,t,1),e=xr(e,t,1),t=Ve(),e!==null&&(zs(e,1,t),et(e,t))}function ve(e,t,r){if(e.tag===3)Au(e,e,r);else for(;t!==null;){if(t.tag===3){Au(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vr===null||!vr.has(n))){e=En(r,e),e=f0(t,e,1),t=xr(t,e,1),e=Ve(),t!==null&&(zs(t,1,e),et(t,e));break}}t=t.return}}function pp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(Oe&r)===r&&(Ce===4||Ce===3&&(Oe&130023424)===Oe&&500>we()-ic?zr(e,0):ac|=r),et(e,t)}function O0(e,t){t===0&&(e.mode&1?(t=Qs,Qs<<=1,!(Qs&130023424)&&(Qs=4194304)):t=1);var r=Ve();e=Kt(e,t),e!==null&&(zs(e,t,r),et(e,r))}function yp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),O0(e,r)}function xp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(t),O0(e,r)}var R0;R0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Qe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qe=!1,ap(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,me&&t.flags&1048576&&Ih(t,Fa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ja(e,t),e=t.pendingProps;var s=_n(t,ze.current);vn(t,r),s=Zl(null,t,n,e,s,r);var i=ec();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(n)?(i=!0,Ia(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kl(t),s.updater=di,t.stateNode=s,s._reactInternals=t,Ho(t,n,e,r),t=Ko(null,t,n,!0,i,r)):(t.tag=0,me&&i&&Ul(t),Be(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=bp(n),e=kt(n,e),s){case 0:t=Yo(null,t,n,e,r);break e;case 1:t=Nu(null,t,n,e,r);break e;case 11:t=ju(null,t,n,e,r);break e;case 14:t=_u(null,t,n,kt(n.type,e),r);break e}throw Error(U(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Yo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),Nu(e,t,n,s,r);case 3:e:{if(y0(t),e===null)throw Error(U(387));n=t.pendingProps,i=t.memoizedState,s=i.element,qh(e,t),Va(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=En(Error(U(423)),t),t=Su(e,t,n,r,s);break e}else if(n!==s){s=En(Error(U(424)),t),t=Su(e,t,n,r,s);break e}else for(st=yr(t.stateNode.containerInfo.firstChild),at=t,me=!0,Nt=null,r=Bh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nn(),n===s){t=Gt(e,t,r);break e}Be(e,t,n,r)}t=t.child}return t;case 5:return Hh(t),e===null&&Bo(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Do(n,s)?o=null:i!==null&&Do(n,i)&&(t.flags|=32),p0(e,t),Be(e,t,o,r),t.child;case 6:return e===null&&Bo(t),null;case 13:return x0(e,t,r);case 4:return Gl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Sn(t,null,n,r):Be(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),ju(e,t,n,s,r);case 7:return Be(e,t,t.pendingProps,r),t.child;case 8:return Be(e,t,t.pendingProps.children,r),t.child;case 12:return Be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,oe(Ua,n._currentValue),n._currentValue=o,i!==null)if(Et(i.value,o)){if(i.children===s.children&&!Xe.current){t=Gt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ht(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Vo(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Vo(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Be(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,vn(t,r),s=mt(s),n=n(s),t.flags|=1,Be(e,t,n,r),t.child;case 14:return n=t.type,s=kt(n,t.pendingProps),s=kt(n.type,s),_u(e,t,n,s,r);case 15:return m0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kt(n,s),ja(e,t),t.tag=1,Ze(n)?(e=!0,Ia(t)):e=!1,vn(t,r),d0(t,n,s),Ho(t,n,s,r),Ko(null,t,n,!0,e,r);case 19:return v0(e,t,r);case 22:return g0(e,t,r)}throw Error(U(156,t.tag))};function A0(e,t){return lh(e,t)}function vp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,r,n){return new vp(e,t,r,n)}function uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bp(e){if(typeof e=="function")return uc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pl)return 11;if(e===Tl)return 14}return 2}function wr(e,t){var r=e.alternate;return r===null?(r=ht(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sa(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")uc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nn:return Fr(r.children,s,i,t);case El:o=8,s|=8;break;case go:return e=ht(12,r,t,s|2),e.elementType=go,e.lanes=i,e;case po:return e=ht(13,r,t,s),e.elementType=po,e.lanes=i,e;case yo:return e=ht(19,r,t,s),e.elementType=yo,e.lanes=i,e;case Hd:return mi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vd:o=10;break e;case qd:o=9;break e;case Pl:o=11;break e;case Tl:o=14;break e;case sr:o=16,n=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=ht(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Fr(e,t,r,n){return e=ht(7,e,n,t),e.lanes=r,e}function mi(e,t,r,n){return e=ht(22,e,n,t),e.elementType=Hd,e.lanes=r,e.stateNode={isHidden:!1},e}function no(e,t,r){return e=ht(6,e,null,t),e.lanes=r,e}function so(e,t,r){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wp(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ii(0),this.expirationTimes=Ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dc(e,t,r,n,s,i,o,l,c){return e=new wp(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ht(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kl(i),e}function kp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function M0(e){if(!e)return Nr;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var r=e.type;if(Ze(r))return Mh(e,r,t)}return t}function D0(e,t,r,n,s,i,o,l,c){return e=dc(r,n,!0,e,s,i,o,l,c),e.context=M0(null),r=e.current,n=Ve(),s=br(r),i=Ht(n,s),i.callback=t??null,xr(r,i,s),e.current.lanes=s,zs(e,s,n),et(e,n),e}function gi(e,t,r,n){var s=t.current,i=Ve(),o=br(s);return r=M0(r),t.context===null?t.context=r:t.pendingContext=r,t=Ht(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xr(s,t,o),e!==null&&(Ct(e,s,o,i),ba(e,s,o)),o}function Qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hc(e,t){Mu(e,t),(e=e.alternate)&&Mu(e,t)}function jp(){return null}var I0=typeof reportError=="function"?reportError:function(e){console.error(e)};function fc(e){this._internalRoot=e}pi.prototype.render=fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));gi(e,t,null,null)};pi.prototype.unmount=fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){gi(null,e,null,null)}),t[Yt]=null}};function pi(e){this._internalRoot=e}pi.prototype.unstable_scheduleHydration=function(e){if(e){var t=gh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<or.length&&t!==0&&t<or[r].priority;r++);or.splice(r,0,e),r===0&&yh(e)}};function mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Du(){}function _p(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Qa(o);i.call(u)}}var o=D0(t,n,e,0,null,!1,!1,"",Du);return e._reactRootContainer=o,e[Yt]=o.current,Ns(e.nodeType===8?e.parentNode:e),Hr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Qa(c);l.call(u)}}var c=dc(e,0,!1,null,null,!1,!1,"",Du);return e._reactRootContainer=c,e[Yt]=c.current,Ns(e.nodeType===8?e.parentNode:e),Hr(function(){gi(t,c,r,n)}),c}function xi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Qa(o);l.call(c)}}gi(t,o,e,s)}else o=_p(r,t,e,s,n);return Qa(o)}fh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zn(t.pendingLanes);r!==0&&(Ol(t,r|1),et(t,we()),!(ee&6)&&(Pn=we()+500,Er()))}break;case 13:Hr(function(){var n=Kt(e,1);if(n!==null){var s=Ve();Ct(n,e,1,s)}}),hc(e,1)}};Rl=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var r=Ve();Ct(t,e,134217728,r)}hc(e,134217728)}};mh=function(e){if(e.tag===13){var t=br(e),r=Kt(e,t);if(r!==null){var n=Ve();Ct(r,e,t,n)}hc(e,t)}};gh=function(){return ne};ph=function(e,t){var r=ne;try{return ne=e,t()}finally{ne=r}};Co=function(e,t,r){switch(t){case"input":if(bo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=li(n);if(!s)throw Error(U(90));Yd(n),bo(n,s)}}}break;case"textarea":Gd(e,r);break;case"select":t=r.value,t!=null&&gn(e,!!r.multiple,t,!1)}};rh=oc;nh=Hr;var Np={usingClientEntryPoint:!1,Events:[Us,ln,li,eh,th,oc]},Kn={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sp={bundleType:Kn.bundleType,version:Kn.version,rendererPackageName:Kn.rendererPackageName,rendererConfig:Kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ih(e),e===null?null:e.stateNode},findFiberByHostInstance:Kn.findFiberByHostInstance||jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{si=la.inject(Sp),Mt=la}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np;ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mc(t))throw Error(U(200));return kp(e,t,null,r)};ot.createRoot=function(e,t){if(!mc(e))throw Error(U(299));var r=!1,n="",s=I0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=dc(e,1,!1,null,null,r,!1,n,s),e[Yt]=t.current,Ns(e.nodeType===8?e.parentNode:e),new fc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=ih(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return Hr(e)};ot.hydrate=function(e,t,r){if(!yi(t))throw Error(U(200));return xi(null,e,t,!0,r)};ot.hydrateRoot=function(e,t,r){if(!mc(e))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=I0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=D0(t,null,e,1,r??null,s,!1,i,o),e[Yt]=t.current,Ns(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new pi(t)};ot.render=function(e,t,r){if(!yi(t))throw Error(U(200));return xi(null,e,t,!1,r)};ot.unmountComponentAtNode=function(e){if(!yi(e))throw Error(U(40));return e._reactRootContainer?(Hr(function(){xi(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};ot.unstable_batchedUpdates=oc;ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yi(r))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return xi(e,t,r,!1,n)};ot.version="18.3.1-next-f1338f8080-20240426";function z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z0)}catch(e){console.error(e)}}z0(),zd.exports=ot;var Cp=zd.exports,Iu=Cp;Ca.createRoot=Iu.createRoot,Ca.hydrateRoot=Iu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rs.apply(this,arguments)}var fr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fr||(fr={}));const zu="popstate";function Ep(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:c=""}=Kr(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),il("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Xa(i))}function n(s,i){gc(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Tp(t,r,n,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pp(){return Math.random().toString(36).substr(2,8)}function Fu(e,t){return{usr:e.state,key:e.key,idx:t}}function il(e,t,r,n){return r===void 0&&(r=null),Rs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kr(t):t,{state:r,key:t&&t.key||n||Pp()})}function Xa(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Tp(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=fr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Rs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=fr.Pop;let k=d(),m=k==null?null:k-u;u=k,c&&c({action:l,location:b.location,delta:m})}function g(k,m){l=fr.Push;let f=il(b.location,k,m);r&&r(f,k),u=d()+1;let x=Fu(f,u),w=b.createHref(f);try{o.pushState(x,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(w)}i&&c&&c({action:l,location:b.location,delta:1})}function y(k,m){l=fr.Replace;let f=il(b.location,k,m);r&&r(f,k),u=d();let x=Fu(f,u),w=b.createHref(f);o.replaceState(x,"",w),i&&c&&c({action:l,location:b.location,delta:0})}function v(k){let m=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof k=="string"?k:Xa(k);return f=f.replace(/ $/,"%20"),ye(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let b={get action(){return l},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zu,h),c=k,()=>{s.removeEventListener(zu,h),c=null}},createHref(k){return t(s,k)},createURL:v,encodeLocation(k){let m=v(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:g,replace:y,go(k){return o.go(k)}};return b}var Uu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Uu||(Uu={}));function $p(e,t,r){return r===void 0&&(r="/"),Lp(e,t,r)}function Lp(e,t,r,n){let s=typeof t=="string"?Kr(t):t,i=Tn(s.pathname||"/",r);if(i==null)return null;let o=F0(e);Op(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=qp(i);l=Bp(o[c],u)}return l}function F0(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=kr([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),F0(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Fp(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of U0(i.path))s(i,o,c)}),t}function U0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=U0(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Op(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Up(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Rp=/^:[\w-]+$/,Ap=3,Mp=2,Dp=1,Ip=10,zp=-2,Bu=e=>e==="*";function Fp(e,t){let r=e.split("/"),n=r.length;return r.some(Bu)&&(n+=zp),t&&(n+=Mp),r.filter(s=>!Bu(s)).reduce((s,i)=>s+(Rp.test(i)?Ap:i===""?Dp:Ip),n)}function Up(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Bp(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=ol({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:kr([i,h.pathname]),pathnameBase:Kp(kr([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=kr([i,h.pathnameBase]))}return o}function ol(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Vp(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let b=l[h]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[h];return y&&!v?u[g]=void 0:u[g]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Vp(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function qp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Hp(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Kr(e):e;return{pathname:r?r.startsWith("/")?r:Wp(r,t):t,search:Gp(n),hash:Jp(s)}}function Wp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ao(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yp(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pc(e,t){let r=Yp(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yc(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Kr(e):(s=Rs({},e),ye(!s.pathname||!s.pathname.includes("?"),ao("?","pathname","search",s)),ye(!s.pathname||!s.pathname.includes("#"),ao("#","pathname","hash",s)),ye(!s.search||!s.search.includes("#"),ao("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}l=h>=0?t[h]:"/"}let c=Hp(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const kr=e=>e.join("/").replace(/\/\/+/g,"/"),Kp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Gp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Qp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const B0=["post","put","patch","delete"];new Set(B0);const Xp=["get",...B0];new Set(Xp);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(this,arguments)}const vi=p.createContext(null),V0=p.createContext(null),Qt=p.createContext(null),bi=p.createContext(null),zt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),q0=p.createContext(null);function Zp(e,t){let{relative:r}=t===void 0?{}:t;Dn()||ye(!1);let{basename:n,navigator:s}=p.useContext(Qt),{hash:i,pathname:o,search:l}=wi(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:kr([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Dn(){return p.useContext(bi)!=null}function Pr(){return Dn()||ye(!1),p.useContext(bi).location}function H0(e){p.useContext(Qt).static||p.useLayoutEffect(e)}function Ue(){let{isDataRoute:e}=p.useContext(zt);return e?my():ey()}function ey(){Dn()||ye(!1);let e=p.useContext(vi),{basename:t,future:r,navigator:n}=p.useContext(Qt),{matches:s}=p.useContext(zt),{pathname:i}=Pr(),o=JSON.stringify(pc(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return H0(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=yc(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:kr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const ty=p.createContext(null);function ry(e){let t=p.useContext(zt).outlet;return t&&p.createElement(ty.Provider,{value:e},t)}function Vs(){let{matches:e}=p.useContext(zt),t=e[e.length-1];return t?t.params:{}}function wi(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(Qt),{matches:s}=p.useContext(zt),{pathname:i}=Pr(),o=JSON.stringify(pc(s,n.v7_relativeSplatPath));return p.useMemo(()=>yc(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function ny(e,t){return sy(e,t)}function sy(e,t,r,n){Dn()||ye(!1);let{navigator:s,static:i}=p.useContext(Qt),{matches:o}=p.useContext(zt),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=Pr(),h;if(t){var g;let m=typeof t=="string"?Kr(t):t;u==="/"||(g=m.pathname)!=null&&g.startsWith(u)||ye(!1),h=m}else h=d;let y=h.pathname||"/",v=y;if(u!=="/"){let m=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(m.length).join("/")}let b=$p(e,{pathname:v}),k=cy(b&&b.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:kr([u,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:kr([u,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,r,n);return t&&k?p.createElement(bi.Provider,{value:{location:As({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:fr.Pop}},k):k}function ay(){let e=fy(),t=Qp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const iy=p.createElement(ay,null);class oy extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(zt.Provider,{value:this.props.routeContext},p.createElement(q0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ly(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(vi);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(zt.Provider,{value:t},n)}function cy(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:y}=r,v=h.route.loader&&g[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,g)=>{let y,v=!1,b=null,k=null;r&&(y=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||iy,c&&(u<0&&g===0?(gy("route-fallback"),v=!0,k=null):u===g&&(v=!0,k=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,g+1)),f=()=>{let x;return y?x=b:v?x=k:h.route.Component?x=p.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,p.createElement(ly,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?p.createElement(oy,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var W0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(W0||{}),Y0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Y0||{});function uy(e){let t=p.useContext(vi);return t||ye(!1),t}function dy(e){let t=p.useContext(V0);return t||ye(!1),t}function hy(e){let t=p.useContext(zt);return t||ye(!1),t}function K0(e){let t=hy(),r=t.matches[t.matches.length-1];return r.route.id||ye(!1),r.route.id}function fy(){var e;let t=p.useContext(q0),r=dy(),n=K0();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function my(){let{router:e}=uy(W0.UseNavigateStable),t=K0(Y0.UseNavigateStable),r=p.useRef(!1);return H0(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,As({fromRouteId:t},i)))},[e,t])}const Vu={};function gy(e,t,r){Vu[e]||(Vu[e]=!0)}function py(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function G0(e){let{to:t,replace:r,state:n,relative:s}=e;Dn()||ye(!1);let{future:i,static:o}=p.useContext(Qt),{matches:l}=p.useContext(zt),{pathname:c}=Pr(),u=Ue(),d=yc(t,pc(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function yy(e){return ry(e.context)}function he(e){ye(!1)}function xy(e){let{basename:t="/",children:r=null,location:n,navigationType:s=fr.Pop,navigator:i,static:o=!1,future:l}=e;Dn()&&ye(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:As({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Kr(n));let{pathname:d="/",search:h="",hash:g="",state:y=null,key:v="default"}=n,b=p.useMemo(()=>{let k=Tn(d,c);return k==null?null:{location:{pathname:k,search:h,hash:g,state:y,key:v},navigationType:s}},[c,d,h,g,y,v,s]);return b==null?null:p.createElement(Qt.Provider,{value:u},p.createElement(bi.Provider,{children:r,value:b}))}function vy(e){let{children:t,location:r}=e;return ny(ll(t),r)}new Promise(()=>{});function ll(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let i=[...t,s];if(n.type===p.Fragment){r.push.apply(r,ll(n.props.children,i));return}n.type!==he&&ye(!1),!n.props.index||!n.props.children||ye(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ll(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(this,arguments)}function J0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function by(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wy(e,t){return e.button===0&&(!t||t==="_self")&&!by(e)}const ky=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jy=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_y="6";try{window.__reactRouterVersion=_y}catch{}const Ny=p.createContext({isTransitioning:!1}),Sy="startTransition",qu=pm[Sy];function Cy(e){let{basename:t,children:r,future:n,window:s}=e,i=p.useRef();i.current==null&&(i.current=Ep({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(h=>{u&&qu?qu(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>py(n),[n]),p.createElement(xy,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,g=J0(t,ky),{basename:y}=p.useContext(Qt),v,b=!1;if(typeof u=="string"&&Py.test(u)&&(v=u,Ey))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),C=Tn(w.pathname,y);w.origin===x.origin&&C!=null?u=C+w.search+w.hash:b=!0}catch{}let k=Zp(u,{relative:s}),m=$y(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function f(x){n&&n(x),x.defaultPrevented||m(x)}return p.createElement("a",Za({},g,{href:v||k,onClick:b||i?n:f,ref:r,target:c}))}),Hu=p.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=J0(t,jy),g=wi(c,{relative:h.relative}),y=Pr(),v=p.useContext(V0),{navigator:b,basename:k}=p.useContext(Qt),m=v!=null&&Ly(g)&&u===!0,f=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,x=y.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(x=x.toLowerCase(),w=w?w.toLowerCase():null,f=f.toLowerCase()),w&&k&&(w=Tn(w,k)||w);const C=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let N=x===f||!o&&x.startsWith(f)&&x.charAt(C)==="/",S=w!=null&&(w===f||!o&&w.startsWith(f)&&w.charAt(f.length)==="/"),T={isActive:N,isPending:S,isTransitioning:m},O=N?n:void 0,E;typeof i=="function"?E=i(T):E=[i,N?"active":null,S?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(T):l;return p.createElement(ie,Za({},h,{"aria-current":O,className:E,ref:r,style:L,to:c,viewTransition:u}),typeof d=="function"?d(T):d)});var cl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cl||(cl={}));var Wu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wu||(Wu={}));function Ty(e){let t=p.useContext(vi);return t||ye(!1),t}function $y(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ue(),u=Pr(),d=wi(e,{relative:o});return p.useCallback(h=>{if(wy(h,r)){h.preventDefault();let g=n!==void 0?n:Xa(u)===Xa(d);c(e,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function Ly(e,t){t===void 0&&(t={});let r=p.useContext(Ny);r==null&&ye(!1);let{basename:n}=Ty(cl.useViewTransitionState),s=wi(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Tn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Tn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ol(s.pathname,o)!=null||ol(s.pathname,i)!=null}const Oy="modulepreload",Ry=function(e){return"/church-connect/"+e},Yu={},$n=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Ry(c),c in Yu)return;Yu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Oy,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((g,y)=>{h.addEventListener("load",g),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Ay=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$n(async()=>{const{default:n}=await Promise.resolve().then(()=>In);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class xc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class My extends xc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Dy extends xc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Iy extends xc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ul;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ul||(ul={}));var zy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Fy{constructor(t,{headers:r={},customFetch:n,region:s=ul.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Ay(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return zy(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new My(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Dy(d);if(!d.ok)throw new Iy(d);let g=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield d.json():g==="application/octet-stream"?y=yield d.blob():g==="text/event-stream"?y=d:g==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Je={},vc={},ki={},qs={},ji={},_i={},Uy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ln=Uy();const By=Ln.fetch,Q0=Ln.fetch.bind(Ln),X0=Ln.Headers,Vy=Ln.Request,qy=Ln.Response,In=Object.freeze(Object.defineProperty({__proto__:null,Headers:X0,Request:Vy,Response:qy,default:Q0,fetch:By},Symbol.toStringTag,{value:"Module"})),Hy=em(In);var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});let Wy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ni.default=Wy;var Z0=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_i,"__esModule",{value:!0});const Yy=Z0(Hy),Ky=Z0(Ni);let Gy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Yy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,g=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,g=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,y="OK")}catch{i.status===404&&b===""?(g=204,y="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,g=200,y="OK"),u&&this.shouldThrowOnError)throw new Ky.default(u)}return{error:u,data:d,count:h,status:g,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};_i.default=Gy;var Jy=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ji,"__esModule",{value:!0});const Qy=Jy(_i);let Xy=class extends Qy.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ji.default=Xy;var Zy=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qs,"__esModule",{value:!0});const ex=Zy(ji);let tx=class extends ex.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};qs.default=tx;var rx=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ki,"__esModule",{value:!0});const Gn=rx(qs);let nx=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Gn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Gn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Gn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Gn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Gn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ki.default=nx;var Si={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.version=void 0;Ci.version="0.0.0-automated";Object.defineProperty(Si,"__esModule",{value:!0});Si.DEFAULT_HEADERS=void 0;const sx=Ci;Si.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sx.version}`};var ef=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vc,"__esModule",{value:!0});const ax=ef(ki),ix=ef(qs),ox=Si;let lx=class tf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ox.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new ax.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new ix.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};vc.default=lx;var zn=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Je,"__esModule",{value:!0});Je.PostgrestError=Je.PostgrestBuilder=Je.PostgrestTransformBuilder=Je.PostgrestFilterBuilder=Je.PostgrestQueryBuilder=Je.PostgrestClient=void 0;const rf=zn(vc);Je.PostgrestClient=rf.default;const nf=zn(ki);Je.PostgrestQueryBuilder=nf.default;const sf=zn(qs);Je.PostgrestFilterBuilder=sf.default;const af=zn(ji);Je.PostgrestTransformBuilder=af.default;const of=zn(_i);Je.PostgrestBuilder=of.default;const lf=zn(Ni);Je.PostgrestError=lf.default;var cx=Je.default={PostgrestClient:rf.default,PostgrestQueryBuilder:nf.default,PostgrestFilterBuilder:sf.default,PostgrestTransformBuilder:af.default,PostgrestBuilder:of.default,PostgrestError:lf.default};const{PostgrestClient:ux,PostgrestQueryBuilder:O2,PostgrestFilterBuilder:R2,PostgrestTransformBuilder:A2,PostgrestBuilder:M2,PostgrestError:D2}=cx,dx="2.11.2",hx={"X-Client-Info":`realtime-js/${dx}`},fx="1.0.0",cf=1e4,mx=1e3;var wn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wn||(wn={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var _t;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_t||(_t={}));var dl;(function(e){e.websocket="websocket"})(dl||(dl={}));var Ar;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ar||(Ar={}));class gx{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class uf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ae||(ae={}));const Ku=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=px(o,e,t,s),i),{})},px=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?df(i,o):hl(o)},df=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return bx(t,r)}switch(e){case ae.bool:return yx(t);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return xx(t);case ae.json:case ae.jsonb:return vx(t);case ae.timestamp:return wx(t);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return hl(t);default:return hl(t)}},hl=e=>e,yx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},vx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},bx=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>df(t,l))}return e},wx=e=>typeof e=="string"?e.replace(" ","T"):e,hf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class io{constructor(t,r,n={},s=cf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gu||(Gu={}));class ds{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ds.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ds.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ds.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const g=d.map(k=>k.presence_ref),y=h.map(k=>k.presence_ref),v=d.filter(k=>y.indexOf(k.presence_ref)<0),b=h.filter(k=>g.indexOf(k.presence_ref)<0);v.length>0&&(l[u]=v),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(y=>y.presence_ref),g=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...g)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ju;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ju||(Ju={}));var Qu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qu||(Qu={}));var Ut;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ut||(Ut={}));class bc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new io(this,_t.join,this.params,this.timeout),this.rejoinTimer=new uf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_t.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ds(this),this.broadcastEndpointURL=hf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ut.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ut.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Ut.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,v=[];for(let b=0;b<y;b++){const k=g[b],{filter:{event:m,schema:f,table:x,filter:w}}=k,C=d&&d[b];if(C&&C.event===m&&C.schema===f&&C.table===x&&C.filter===w)v.push(Object.assign(Object.assign({},k),{id:C.id}));else{this.unsubscribe(),t==null||t(Ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Ut.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_t.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new io(this,_t.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new io(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=_t;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,b,k;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(b=y.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(y=>y.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,b,k,m,f,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,C=(v=y.filter)===null||v===void 0?void 0:v.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const w=(f=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:b,table:k,commit_timestamp:m,type:f,errors:x}=v;g=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:m,eventType:f,new:{},old:{},errors:x}),this._getPayloadRecords(v))}y.callback(g,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&bc.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_t.close,{},t)}_onError(t){this._on(_t.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ku(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ku(t.columns,t.old_record)),r}}const kx=()=>{},jx=typeof WebSocket<"u",_x=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Nx{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=hx,this.params={},this.timeout=cf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=kx,this.conn=null,this.sendBuffer=[],this.serializer=new gx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>$n(async()=>{const{default:c}=await Promise.resolve().then(()=>In);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${dl.websocket}`,this.httpEndpoint=hf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new uf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(jx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Sx(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),$n(async()=>{const{default:t}=await import("./browser-CcLjB7NW.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fx}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wn.connecting:return Ar.Connecting;case wn.open:return Ar.Open;case wn.closing:return Ar.Closing;default:return Ar.Closed}}isConnected(){return this.connectionState()===Ar.Open}channel(t,r={config:{}}){const n=new bc(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(_t.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(mx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(_t.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([_x],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Sx{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class wc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Cx extends wc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fl extends wc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ex=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ff=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$n(async()=>{const{default:n}=await Promise.resolve().then(()=>In);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Px=()=>Ex(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $n(()=>Promise.resolve().then(()=>In),void 0)).Response:Response}),ml=e=>{if(Array.isArray(e))return e.map(r=>ml(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ml(n)}),t};var Gr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const oo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tx=(e,t,r)=>Gr(void 0,void 0,void 0,function*(){const n=yield Px();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Cx(oo(s),e.status||500))}).catch(s=>{t(new fl(oo(s),s))}):t(new fl(oo(e),e))}),$x=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Hs(e,t,r,n,s,i){return Gr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,$x(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Tx(c,l,n))})})}function ei(e,t,r,n){return Gr(this,void 0,void 0,function*(){return Hs(e,"GET",t,r,n)})}function ir(e,t,r,n,s){return Gr(this,void 0,void 0,function*(){return Hs(e,"POST",t,n,s,r)})}function Lx(e,t,r,n,s){return Gr(this,void 0,void 0,function*(){return Hs(e,"PUT",t,n,s,r)})}function Ox(e,t,r,n){return Gr(this,void 0,void 0,function*(){return Hs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mf(e,t,r,n,s){return Gr(this,void 0,void 0,function*(){return Hs(e,"DELETE",t,n,s,r)})}var Ke=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Rx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ax{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=ff(s)}uploadOrUpdate(t,r,n,s){return Ke(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Xu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield h.json();return h.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(Pe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Xu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),g=yield h.json();return h.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(c){if(Pe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ir(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new wc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ke(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ir(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ke(this,void 0,void 0,function*(){try{const s=yield ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}download(t,r){return Ke(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ei(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Pe(l))return{data:null,error:l};throw l}})}info(t){return Ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ei(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ml(n),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}exists(t){return Ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ox(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pe(n)&&n instanceof fl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Rx),r),{prefix:t||""});return{data:yield ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Mx="2.7.1",Dx={"X-Client-Info":`storage-js/${Mx}`};var Qr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Ix{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Dx),r),this.fetch=ff(n)}listBuckets(){return Qr(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}getBucket(t){return Qr(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Qr(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Qr(this,void 0,void 0,function*(){try{return{data:yield Lx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Qr(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Qr(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}}class zx extends Ix{constructor(t,r={},n){super(t,r,n)}from(t){return new Ax(this.url,this.headers,t,this.fetch)}}const Fx="2.49.4";let ts="";typeof Deno<"u"?ts="deno":typeof document<"u"?ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ts="react-native":ts="node";const Ux={"X-Client-Info":`supabase-js-${ts}/${Fx}`},Bx={headers:Ux},Vx={schema:"public"},qx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hx={};var Wx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Yx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Q0:t=fetch,(...r)=>t(...r)},Kx=()=>typeof Headers>"u"?X0:Headers,Gx=(e,t,r)=>{const n=Yx(r),s=Kx();return(i,o)=>Wx(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Jx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Qx(e){return e.replace(/\/$/,"")}function Xx(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Jx(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const gf="2.69.1",tn=30*1e3,gl=3,lo=gl*tn,Zx="http://localhost:9999",e1="supabase.auth.token",t1={"X-Client-Info":`gotrue-js/${gf}`},pl="X-Supabase-Api-Version",pf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},r1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n1=6e5;class kc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class s1 extends kc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function a1(e){return Q(e)&&e.name==="AuthApiError"}class yf extends kc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tr extends kc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class rr extends Tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i1(e){return Q(e)&&e.name==="AuthSessionMissingError"}class co extends Tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ca extends Tr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ua extends Tr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function o1(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zu extends Tr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yl extends Tr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function uo(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class ed extends Tr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hs extends Tr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const td="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rd=` 	
\r=`.split(""),l1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rd.length;t+=1)e[rd[t].charCodeAt(0)]=-2;for(let t=0;t<td.length;t+=1)e[td[t].charCodeAt(0)]=t;return e})();function xf(e,t,r){const n=l1[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nd(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{d1(o,n,r)};for(let o=0;o<e.length;o+=1)xf(e.charCodeAt(o),s,i);return t.join("")}function c1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function u1(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}c1(n,t)}}function d1(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function h1(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)xf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function f1(e){const t=[];return u1(e,r=>t.push(r)),new Uint8Array(t)}function m1(e){return Math.round(Date.now()/1e3)+e}function g1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",$r={tested:!1,writable:!1},fs=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($r.tested)return $r.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$r.tested=!0,$r.writable=!0}catch{$r.tested=!0,$r.writable=!1}return $r.writable};function p1(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const vf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$n(async()=>{const{default:n}=await Promise.resolve().then(()=>In);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},y1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},da=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ha=async(e,t)=>{await e.removeItem(t)};class Ei{constructor(){this.promise=new Ei.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ei.promiseConstructor=Promise;function ho(e){const t=e.split(".");if(t.length!==3)throw new hs("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!r1.test(t[n]))throw new hs("JWT not in base64url format");return{header:JSON.parse(nd(t[0])),payload:JSON.parse(nd(t[1])),signature:h1(t[2]),raw:{header:t[0],payload:t[1]}}}async function x1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function v1(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function b1(e){return("0"+e.toString(16)).substr(-2)}function w1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,b1).join("")}async function k1(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function j1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await k1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xr(e,t,r=!1){const n=w1();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await bf(e,`${t}-code-verifier`,s);const i=await j1(n);return[i,n===i?"plain":"s256"]}const _1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N1(e){const t=e.headers.get(pl);if(!t||!t.match(_1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function S1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function C1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var E1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),P1=[502,503,504];async function sd(e){var t;if(!y1(e))throw new yl(Rr(e),0);if(P1.includes(e.status))throw new yl(Rr(e),e.status);let r;try{r=await e.json()}catch(i){throw new yf(Rr(i),i)}let n;const s=N1(e);if(s&&s.getTime()>=pf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ed(Rr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new rr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ed(Rr(r),e.status,r.weak_password.reasons);throw new s1(Rr(r),e.status||500,n)}const T1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Z(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[pl]||(i[pl]=pf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await $1(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function $1(e,t,r,n,s,i){const o=T1(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new yl(Rr(c),0)}if(l.ok||await sd(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await sd(c)}}function nr(e){var t;let r=null;A1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=m1(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ad(e){const t=nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function L1(e){return{data:e,error:null}}function O1(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=E1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function R1(e){return e}function A1(e){return e.access_token&&e.refresh_token&&e.expires_in}var M1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class D1{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=vf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=M1(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:O1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:R1});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:cr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:cr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}const I1={getItem:e=>fs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{fs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{fs()&&globalThis.localStorage.removeItem(e)}};function id(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function z1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zr={debug:!!(globalThis&&fs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class F1 extends wf{}async function U1(e,t,r){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new F1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}z1();const B1={url:Zx,storageKey:e1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:t1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function od(e,t,r){return await r()}class Ms{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ms.nextInstanceID,Ms.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},B1),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new D1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vf(s.fetch),this.lock=s.lock||od,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=U1:this.lock=od,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:fs()?this.storage=I1:(this.memoryStorage={},this.storage=id(this.memoryStorage)):(this.memoryStorage={},this.storage=id(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=p1(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),o1(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new yf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:nr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:g}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Xr(this.storage,this.storageKey)),i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:v},xform:nr})}else if("phone"in t){const{phone:d,password:h,options:g}=t;i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:nr})}else throw new ca("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ad})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ad})}else throw new ca("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await da(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:nr});if(await ha(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new co}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new co}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Xr(this.storage,this.storageKey));const{error:h}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ca("You must provide either an email or phone number.")}catch(l){if(Q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Xr(this.storage,this.storageKey)),await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:L1})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new rr;const{error:s}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ca("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<lo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rr}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:cr})})}catch(r){if(Q(r))return i1(r)&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new rr;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Xr(this.storage,this.storageKey));const{data:u,error:d}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:cr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ho(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new rr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Lt())throw new ua("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ua(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ua("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zu("No code detected.");const{data:f,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ua("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let g=d+h;c&&(g=parseInt(c));const y=g-d;y*1e3<=tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=g-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,d);const{data:b,error:k}=await this._getUser(i);if(k)throw k;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(Q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await da(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(a1(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=g1(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Xr(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:g}=i;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Lt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await v1(async s=>(s>0&&await x1(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&uo(i)&&Date.now()+o-n<tn})}catch(n){if(this._debug(r,"error",n),Q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await da(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<lo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${lo}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),uo(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ei;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new rr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Q(i)){const o={session:null,error:i};return uo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ha(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${tn}ms, refresh threshold is ${gl} ticks`),s<=gl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Xr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ho(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+n1>Date.now()))return n;const{data:s,error:i}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new hs("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new hs("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ho(n);if(S1(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=C1(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,f1(`${l}.${c}`)))throw new hs("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}Ms.nextInstanceID=0;const V1=Ms;class q1 extends V1{constructor(t){super(t)}}var H1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class W1{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Qx(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Vx,realtime:Hx,auth:Object.assign(Object.assign({},qx),{storageKey:c}),global:Bx},d=Xx(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Gx(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ux(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Fy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return H1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q1({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Nx(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y1=(e,t,r)=>new W1(e,t,r),Pi=()=>"/church-connect/",ur=e=>{const t=Pi(),r=e.startsWith("/")?e.substring(1):e,n=t.startsWith("/")?t.substring(1):t;return r.startsWith(n)?"/"+r:t+r},kf=()=>{const e=window.location.hash;return e.includes("access_token=")||e.includes("refresh_token=")||e.includes("type=recovery")||e.includes("type=signup")},ld=()=>{const e=Pi(),t=window.location.pathname;if(kf()){const r=window.location.hash;if(!t.startsWith(e)){const n=t.startsWith("/")?t.substring(1):t,s=e+n;return window.location.href=`${window.location.origin}${s}${r}`,!0}return!1}if(t==="/"&&e!=="/")return window.location.pathname=e,!0;if(!t.startsWith(e)&&!t.includes("/auth/callback")){const r=t.startsWith("/")?t.substring(1):t,n=e+r;return window.location.pathname=n,!0}return!1},K1=()=>{const e=window.location.origin,t=Pi();return`${e}${t}#/auth/callback`},G1="https://xlsazndxtgqlsyohzjhp.supabase.co",J1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhsc2F6bmR4dGdxbHN5b2h6amhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM4Nzc3MTIsImV4cCI6MjA1OTQ1MzcxMn0.N1oXEwBKFjmiP0zacqY6HTHr-50-PZZjTBUzkkIyub4",Q1=()=>{if(!(typeof window>"u"))return K1()},A=Y1(G1,J1,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,redirectTo:Q1()}}),jf=p.createContext(),fa=()=>{const e=window.location.origin,t=Pi();return window.location.hostname==="bajejosh.github.io"||t.startsWith("/church-connect")?`${e}${t}#`:`${e}${t}`},X1=({children:e})=>{const[t,r]=p.useState(null),[n,s]=p.useState(!0),[i,o]=p.useState(null);p.useEffect(()=>{(async()=>{var k;try{const{data:m,error:f}=await A.auth.getSession();if(f)throw f;r(((k=m==null?void 0:m.session)==null?void 0:k.user)||null)}catch(m){o(m.message)}finally{s(!1)}})();const{data:{subscription:b}}=A.auth.onAuthStateChange((k,m)=>{r((m==null?void 0:m.user)||null),s(!1)});return()=>b.unsubscribe()},[]);const y={user:t,loading:n,error:i,signUp:async(v,b,k={})=>{try{const{data:m,error:f}=await A.auth.signUp({email:v,password:b,options:{data:k,emailRedirectTo:`${fa()}/auth/callback`}});if(f)throw f;return m}catch(m){throw o(m.message),m}},signIn:async(v,b)=>{try{const{data:k,error:m}=await A.auth.signInWithPassword({email:v,password:b,options:{redirectTo:`${fa()}/auth/callback`}});if(m)throw m;return k}catch(k){throw o(k.message),k}},signOut:async()=>{try{r(null),localStorage.removeItem("userFullName"),localStorage.removeItem("userAvatarUrl");const{error:v}=await A.auth.signOut();v&&(console.warn("Warning during sign out process:",v.message),v.message.includes("Auth session missing")&&console.log("Session was already expired or invalid")),window.location.href=`${window.location.origin}${ur("login")}`}catch(v){console.warn("Error in sign out process:",v.message),window.location.href=`${window.location.origin}${ur("login")}`}},resetPassword:async v=>{try{const{error:b}=await A.auth.resetPasswordForEmail(v,{redirectTo:`${fa()}/auth/callback?reset=true`});if(b)throw b}catch(b){throw o(b.message),b}},updatePassword:async v=>{try{const{error:b}=await A.auth.updateUser({password:v});if(b)throw b}catch(b){throw o(b.message),b}},updateProfile:async v=>{try{if(v.email){const{error:k}=await A.auth.updateUser({email:v.email,options:{emailRedirectTo:`${fa()}/auth/callback`}});if(k)throw k}const{error:b}=await A.from("profiles").update({full_name:v.fullName,updated_at:new Date}).eq("id",t.id);if(b)throw b}catch(b){throw o(b.message),b}},isAuthenticated:!!t};return a.jsx(jf.Provider,{value:y,children:e})},We=()=>{const e=p.useContext(jf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},_f=p.createContext(),Z1=({children:e})=>{const[t,r]=p.useState(()=>{const s=localStorage.getItem("theme");return s?s==="dark":!0});p.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(s=>!s)};return a.jsx(_f.Provider,{value:{darkMode:t,toggleDarkMode:n},children:e})},Nf=()=>{const e=p.useContext(_f);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Sf=p.createContext(),ev=({children:e})=>{const[t,r]=p.useState(!1),n=()=>{r(i=>!i)},s=()=>{r(!1)};return a.jsx(Sf.Provider,{value:{isSidebarOpen:t,toggleSidebar:n,closeSidebar:s},children:e})},Cf=()=>{const e=p.useContext(Sf);if(e===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return e};var Ef={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cd=At.createContext&&At.createContext(Ef),jr=function(){return jr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},jr.apply(this,arguments)},tv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function Pf(e){return e&&e.map(function(t,r){return At.createElement(t.tag,jr({key:r},t.attr),Pf(t.child))})}function Y(e){return function(t){return At.createElement(rv,jr({attr:jr({},e.attr)},t),Pf(e.child))}}function rv(e){var t=function(r){var n=e.attr,s=e.size,i=e.title,o=tv(e,["attr","size","title"]),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),At.createElement("svg",jr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:jr(jr({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&At.createElement("title",null,i),e.children)};return cd!==void 0?At.createElement(cd.Consumer,null,function(r){return t(r)}):t(Ef)}function fo(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(e)}function nv(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"}}]})(e)}function ms(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function sv(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(e)}function av(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function iv(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function jc(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"}}]})(e)}function Xt(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function ov(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"}}]})(e)}function ud(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function lv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function kn(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function cv(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function Tf(e){return Y({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function $f(e){return Y({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function uv(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function Zt(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M464.46 246.68L352 179.2V128h48c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-48V16c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v48h-48c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h48v51.2l-112.46 67.48A31.997 31.997 0 0 0 160 274.12V512h96v-96c0-35.35 28.65-64 64-64s64 28.65 64 64v96h96V274.12c0-11.24-5.9-21.66-15.54-27.44zM0 395.96V496c0 8.84 7.16 16 16 16h112V320L19.39 366.54A32.024 32.024 0 0 0 0 395.96zm620.61-29.42L512 320v192h112c8.84 0 16-7.16 16-16V395.96c0-12.8-7.63-24.37-19.39-29.42z"}}]})(e)}function dv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function hv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function dd(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 352h-40V109.25l59.31-59.31c6.25-6.25 6.25-16.38 0-22.63L484.69 4.69c-6.25-6.25-16.38-6.25-22.63 0L402.75 64H192v96h114.75L160 306.75V24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v264c0 13.25 10.75 24 24 24h232v-96H205.25L352 205.25V488c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24z"}}]})(e)}function fv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Fn(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function mv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"}}]})(e)}function Ti(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function gv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"}}]})(e)}function Lf(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function pv(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function _c(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function Jn(e){return Y({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function hd(e){return Y({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-64 268c0 10.7-12.9 16-20.5 8.5L104 376H76c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h28l35.5-36.5c7.6-7.6 20.5-2.2 20.5 8.5v136zm33.2-47.6c9.1-9.3 9.1-24.1 0-33.4-22.1-22.8 12.2-56.2 34.4-33.5 27.2 27.9 27.2 72.4 0 100.4-21.8 22.3-56.9-10.4-34.4-33.5zm86-117.1c54.4 55.9 54.4 144.8 0 200.8-21.8 22.4-57-10.3-34.4-33.5 36.2-37.2 36.3-96.5 0-133.8-22.1-22.8 12.3-56.3 34.4-33.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function yv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function xv(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"}}]})(e)}function Of(e){return Y({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function fd(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function Rf(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function Af(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function vv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function bv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(e)}function Ds(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function wv(e){return Y({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function kv(e){return Y({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"}}]})(e)}function Nc(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(e)}function Pt(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"}}]})(e)}function jv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function _v(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"}}]})(e)}function Fe(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function pt(e){return Y({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M256 128c35.35 0 64-28.65 64-64S291.35 0 256 0s-64 28.65-64 64 28.65 64 64 64zm-30.63 169.75c14.06 16.72 39 19.09 55.97 5.22l88-72.02c17.09-13.98 19.59-39.19 5.62-56.28-13.97-17.11-39.19-19.59-56.31-5.62l-57.44 47-38.91-46.31c-15.44-18.39-39.22-27.92-64-25.33-24.19 2.48-45.25 16.27-56.37 36.92l-49.37 92.03c-23.4 43.64-8.69 96.37 34.19 123.75L131.56 432H40c-22.09 0-40 17.91-40 40s17.91 40 40 40h208c34.08 0 53.77-42.79 28.28-68.28L166.42 333.86l34.8-64.87 24.15 28.76z"}}]})(e)}function Nv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(e)}function Sc(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function $i(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function Sv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}}]})(e)}function Mf(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function gs(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function Cc(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(e)}function Df(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"}}]})(e)}function md(e){return Y({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"}}]})(e)}function It(e){return Y({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Li(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function Cv(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208H432c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function If(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Tt(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function zf(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function Ff(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}}]})(e)}function Ev(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"}}]})(e)}function Pv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"}}]})(e)}function Tv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"}}]})(e)}const $v=({className:e=""})=>{const{darkMode:t,toggleDarkMode:r}=Nf();return a.jsx("button",{onClick:r,className:`p-2 rounded-full transition-colors duration-200 ${t?"bg-gray-800 text-yellow-300 hover:bg-gray-700":"bg-blue-100 text-blue-800 hover:bg-blue-200"} ${e}`,"aria-label":t?"Switch to light mode":"Switch to dark mode",title:t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(Cc,{className:"w-5 h-5"}):a.jsx(Nc,{className:"w-5 h-5"})})},Lv=()=>{var c,u,d;const{user:e,signOut:t}=We(),{darkMode:r}=Nf(),{toggleSidebar:n}=Cf(),[s,i]=p.useState(!1),o=Ue(),l=async()=>{try{await t(),o("/login")}catch(h){console.error("Error signing out:",h),o("/login")}};return a.jsx("header",{className:"bg-white shadow-sm dark:bg-dark-secondary sticky top-0 z-30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{className:"mr-2 md:hidden text-gray-600 dark:text-gray-300",onClick:n,children:a.jsx(av,{className:"text-xl"})}),a.jsx(ie,{to:"/dashboard",className:"flex items-center",children:a.jsx("span",{className:"text-xl font-bold text-blue-600",children:"Church Connect"})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx($v,{}),a.jsx("button",{className:"text-gray-600 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400",children:a.jsx(iv,{className:"text-xl"})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{className:"flex items-center",onClick:()=>i(!s),children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:((u=(c=e==null?void 0:e.user_metadata)==null?void 0:c.full_name)==null?void 0:u.charAt(0))||((d=e==null?void 0:e.email)==null?void 0:d.charAt(0))||"U"})}),s&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-10",children:[a.jsx(ie,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>i(!1),children:"Your Profile"}),a.jsx(ie,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>i(!1),children:"Settings"}),a.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:l,children:[a.jsx(Mf,{className:"mr-2"}),"Sign out"]})]})]})]})]})})},Ov=()=>{const e=Pr(),t=r=>e.pathname===r;return a.jsx("nav",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 py-2 md:hidden dark:bg-dark-secondary dark:border-gray-800",children:a.jsxs("div",{className:"flex justify-around items-center",children:[a.jsxs(ie,{to:"/dashboard",className:`flex flex-col items-center p-2 text-xs ${t("/dashboard")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(Rf,{className:"text-xl mb-1"}),a.jsx("span",{children:"Home"})]}),a.jsxs(ie,{to:"/calendar",className:`flex flex-col items-center p-2 text-xs ${t("/calendar")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(Xt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Calendar"})]}),a.jsxs(ie,{to:"/songs",className:`flex flex-col items-center p-2 text-xs ${t("/songs")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(Pt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Songs"})]}),a.jsxs(ie,{to:"/prayer-requests",className:`flex flex-col items-center p-2 text-xs ${t("/prayer-requests")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(pt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Prayer"})]}),a.jsxs(ie,{to:"/churches",className:`flex flex-col items-center p-2 text-xs ${t("/churches")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(Zt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Churches"})]}),a.jsxs(ie,{to:"/profile",className:`flex flex-col items-center p-2 text-xs ${t("/profile")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(Tt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Profile"})]})]})})},gd=({className:e})=>{var s,i,o,l;const{user:t}=We(),r=[{path:"/dashboard",icon:a.jsx(Rf,{}),label:"Dashboard"},{path:"/calendar",icon:a.jsx(Xt,{}),label:"Calendar"},{path:"/services",icon:a.jsx(kv,{}),label:"Services"},{path:"/songs",icon:a.jsx(Pt,{}),label:"Songs"},{path:"/teams",icon:a.jsx(zf,{}),label:"Teams"},{path:"/prayer-requests",icon:a.jsx(pt,{}),label:"Prayer Requests"},{path:"/churches",icon:a.jsx(Zt,{}),label:"Churches"}],n=[{path:"/profile",icon:a.jsx(Tt,{}),label:"Profile"},{path:"/settings",icon:a.jsx(hv,{}),label:"Settings"}];return a.jsxs("aside",{className:`${e} flex flex-col h-full w-full bg-white dark:bg-dark-secondary shadow-lg border-r border-gray-200 dark:border-gray-700`,children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-blue-50 dark:bg-blue-900/20 w-full",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:((i=(s=t==null?void 0:t.user_metadata)==null?void 0:s.full_name)==null?void 0:i.charAt(0))||((o=t==null?void 0:t.email)==null?void 0:o.charAt(0))||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:((l=t==null?void 0:t.user_metadata)==null?void 0:l.full_name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(t==null?void 0:t.email)||"No email"})]})]})}),a.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 bg-white dark:bg-dark-secondary w-full",children:r.map(c=>a.jsxs(Hu,{to:c.path,className:({isActive:u})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 shadow-sm":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 hover:shadow-sm"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:c.icon}),c.label]},c.path))}),a.jsx("div",{className:"px-4 py-4 space-y-2 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-dark-secondary w-full",children:n.map(c=>a.jsxs(Hu,{to:c.path,className:({isActive:u})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 shadow-sm":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 hover:shadow-sm"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:c.icon}),c.label]},c.path))})]})},Rv=({children:e})=>{const[t,r]=p.useState(window.innerWidth<768),{isSidebarOpen:n,closeSidebar:s}=Cf();return p.useEffect(()=>{const i=()=>{r(window.innerWidth<768)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),p.useEffect(()=>{!t&&n&&s()},[t,n,s]),a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gradient-dark",children:[a.jsx(Lv,{}),a.jsxs("div",{className:"flex flex-1 relative",children:[!t&&a.jsx("div",{className:"w-64 fixed top-[3.25rem] bottom-0 left-0 z-20",children:a.jsx(gd,{className:"h-full"})}),t&&n&&a.jsxs("div",{className:"fixed inset-0 z-40 flex",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity",onClick:s,"aria-hidden":"true"}),a.jsx("div",{className:"relative flex-1 flex flex-col max-w-xs w-full transform transition ease-in-out duration-300",children:a.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-full",children:a.jsx(gd,{className:"h-full"})})})]}),a.jsx("main",{className:"flex-1 px-4 md:px-6 pt-4 pb-[100px] md:ml-64",children:e})]}),t&&a.jsx(Ov,{})]})},Av=()=>{const{isAuthenticated:e,loading:t}=We();return t?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e?a.jsx(Rv,{children:a.jsx(yy,{})}):a.jsx(G0,{to:"/login",replace:!0})},Mv=()=>{const{signIn:e}=We(),t=Ue(),[r,n]=p.useState(""),[s,i]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,h]=p.useState(()=>{const v=localStorage.getItem("darkMode");return v===null?!0:v==="true"});p.useEffect(()=>{d?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",d),d?document.body.classList.add("dark","bg-gray-900"):document.body.classList.remove("dark","bg-gray-900")},[d]);const g=()=>{h(v=>!v)},y=async v=>{v.preventDefault();try{l(null),u(!0),await e(r,s),t("/dashboard")}catch(b){l(b.message||"Failed to sign in"),console.error("Login error:",b)}finally{u(!1)}};return a.jsx("div",{className:`min-h-screen flex items-center justify-center ${d?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"} px-4 py-12 sm:px-6 lg:px-8`,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("button",{onClick:g,className:`p-2 rounded-full ${d?"bg-gray-700 text-gray-200":"bg-gray-200 text-gray-700"}`,"aria-label":d?"Switch to light mode":"Switch to dark mode",children:d?a.jsx(Cc,{}):a.jsx(Nc,{})})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:`text-3xl font-bold ${d?"text-blue-400":"text-blue-600"}`,children:"Church Connect"}),a.jsx("h2",{className:`mt-6 text-2xl font-bold ${d?"text-white":"text-gray-900"}`,children:"Welcome back"}),a.jsx("p",{className:`mt-2 text-sm ${d?"text-gray-400":"text-gray-600"}`,children:"Sign in to your account"})]}),a.jsxs("div",{className:`${d?"bg-gray-800":"bg-white"} p-8 shadow rounded-lg`,children:[o&&a.jsx("div",{className:`mb-4 p-3 ${d?"bg-red-900 text-red-200":"bg-red-100 text-red-700"} rounded-md text-sm`,children:o}),a.jsxs("form",{className:"space-y-6",onSubmit:y,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:`block text-sm font-medium ${d?"text-gray-300":"text-gray-700"}`,children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ti,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${d?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"you@example.com",value:r,onChange:v=>n(v.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:`block text-sm font-medium ${d?"text-gray-300":"text-gray-700"}`,children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ds,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${d?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"••••••••",value:s,onChange:v=>i(v.target.value)})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${d?"border-gray-600":"border-gray-300"} rounded`}),a.jsx("label",{htmlFor:"remember-me",className:`ml-2 block text-sm ${d?"text-gray-300":"text-gray-700"}`,children:"Remember me"})]}),a.jsx("div",{className:"text-sm",children:a.jsx(ie,{to:"/forgot-password",className:`font-medium ${d?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(Sv,{className:"mr-2"}),"Sign in"]})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:`w-full border-t ${d?"border-gray-600":"border-gray-300"}`})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:`px-2 ${d?"bg-gray-800 text-gray-400":"bg-white text-gray-500"}`,children:"Or"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:["Don't have an account?"," ",a.jsx(ie,{to:"/register",className:`font-medium ${d?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:"Sign up"})]})})]})]})]})})},Dv=()=>{const{signUp:e}=We(),t=Ue(),[r,n]=p.useState({email:"",password:"",confirmPassword:"",fullName:"",churchName:""}),[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(()=>{const y=localStorage.getItem("darkMode");return y===null?!0:y==="true"});p.useEffect(()=>{c?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",c),c?document.body.classList.add("dark","bg-gray-900"):document.body.classList.remove("dark","bg-gray-900")},[c]);const d=()=>{u(y=>!y)},h=y=>{const{name:v,value:b}=y.target;n(k=>({...k,[v]:b}))},g=async y=>{if(y.preventDefault(),r.password!==r.confirmPassword){i("Passwords do not match");return}try{i(null),l(!0),await e(r.email,r.password,{full_name:r.fullName,church_name:r.churchName}),t("/verify-email")}catch(v){i(v.message||"Failed to sign up")}finally{l(!1)}};return a.jsx("div",{className:`min-h-screen flex items-center justify-center ${c?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"} px-4 py-12 sm:px-6 lg:px-8`,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("button",{onClick:d,className:`p-2 rounded-full ${c?"bg-gray-700 text-gray-200":"bg-gray-200 text-gray-700"}`,"aria-label":c?"Switch to light mode":"Switch to dark mode",children:c?a.jsx(Cc,{}):a.jsx(Nc,{})})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:`text-3xl font-bold ${c?"text-blue-400":"text-blue-600"}`,children:"Church Connect"}),a.jsx("h2",{className:`mt-6 text-2xl font-bold ${c?"text-white":"text-gray-900"}`,children:"Create an account"}),a.jsx("p",{className:`mt-2 text-sm ${c?"text-gray-400":"text-gray-600"}`,children:"Join the community today"})]}),a.jsxs("div",{className:`${c?"bg-gray-800":"bg-white"} p-8 shadow rounded-lg`,children:[s&&a.jsx("div",{className:`mb-4 p-3 ${c?"bg-red-900 text-red-200":"bg-red-100 text-red-700"} rounded-md text-sm`,children:s}),a.jsxs("form",{className:"space-y-4",onSubmit:g,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ti,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"you@example.com",value:r.email,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Full Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Tt,{className:"text-gray-400"})}),a.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"John Doe",value:r.fullName,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"churchName",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Church Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Zt,{className:"text-gray-400"})}),a.jsx("input",{id:"churchName",name:"churchName",type:"text",className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Grace Community Church",value:r.churchName,onChange:h})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional - You can join or create a church later"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ds,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"••••••••",value:r.password,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Confirm Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ds,{className:"text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"••••••••",value:r.confirmPassword,onChange:h})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:o,className:"mt-4 w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(If,{className:"mr-2"}),"Sign up"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:`text-sm ${c?"text-gray-400":"text-gray-600"}`,children:["Already have an account?"," ",a.jsx(ie,{to:"/login",className:`font-medium ${c?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:"Sign in"})]})})]})]})})},Iv=()=>{const{resetPassword:e}=We(),[t,r]=p.useState(""),[n,s]=p.useState(null),[i,o]=p.useState(!1),[l,c]=p.useState(""),u=async d=>{d.preventDefault();try{s(null),o(!0),c(""),await e(t),c("Password reset instructions have been sent to your email. Please check your inbox."),r("")}catch(h){s(h.message||"Failed to send password reset email")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address below and we'll send you a link to reset your password"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[n&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:n}),l&&a.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm",children:l}),a.jsxs("form",{className:"space-y-6",onSubmit:u,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ti,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",value:t,onChange:d=>r(d.target.value)})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(jv,{className:"mr-2"}),"Send Reset Link"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",a.jsx(ie,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to login"})]})})]})]})})},zv=()=>{const{updatePassword:e}=We(),t=Ue(),[r,n]=p.useState(""),[s,i]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,h]=p.useState(null);p.useEffect(()=>{const y=window.location.hash.substring(1);new URLSearchParams(y).get("access_token")?h(!0):l("Invalid reset link. Please request a new password reset link.")},[]);const g=async y=>{if(y.preventDefault(),r!==s){l("Passwords do not match");return}if(r.length<6){l("Password must be at least 6 characters");return}try{l(null),u(!0),await e(r),t("/login",{state:{message:"Password successfully reset. Please log in with your new password."}})}catch(v){l(v.message||"Failed to reset password")}finally{u(!1)}};return o&&!d?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsx("button",{onClick:()=>t("/forgot-password"),className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Request New Reset Link"})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Set new password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please enter a new password for your account"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[o&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ds,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",value:r,onChange:y=>n(y.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ds,{className:"text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",value:s,onChange:y=>i(y.target.value)})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(kn,{className:"mr-2"}),"Reset Password"]})})]})]})]})})},Fv=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Verify your email"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ti,{className:"text-2xl text-blue-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Check your inbox"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We sent a verification link to your email address. Please click the link to verify your account."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border border-gray-200 rounded-md bg-gray-50",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Next steps:"}),a.jsxs("ul",{className:"text-sm text-gray-600 text-left space-y-2",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(kn,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Check your email inbox (and spam folder)"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(kn,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Click the verification link in the email"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(kn,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Return to Church Connect and sign in"})]})]})]}),a.jsx(ie,{to:"/login",className:"block w-full py-3 px-4 text-center border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Login"})]}),a.jsxs("p",{className:"mt-6 text-sm text-gray-500",children:["Didn't receive an email? Check your spam folder or"," ",a.jsx(ie,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"try again"})]})]})]})}),Uv=()=>{const e=Ue(),[t,r]=p.useState(null),[n,s]=p.useState("Verifying your account...");return p.useEffect(()=>{(async()=>{try{s("Processing authentication...");const o=new URLSearchParams(window.location.hash.substring(1)),l=o.get("error_description");if(l)throw new Error(l);if(console.log("Auth hash found:",window.location.hash?"Yes (hash exists)":"No"),o.get("type")==="recovery"){s("Password reset confirmed"),e(ur("dashboard"),{replace:!0});return}const{data:u,error:d}=await A.auth.getSession();if(d)throw d;if(u!=null&&u.session)s("Authentication successful, redirecting to dashboard"),console.log("Authentication successful, redirecting to dashboard"),setTimeout(()=>{e(ur("dashboard"),{replace:!0})},100);else{const h=o.get("access_token"),g=o.get("refresh_token");if(h){s("Processing access token...");try{const{data:y,error:v}=await A.auth.setSession({access_token:h,refresh_token:g||""});if(v)throw v;if(y!=null&&y.session){s("Session established, redirecting to dashboard"),setTimeout(()=>{e(ur("dashboard"),{replace:!0})},100);return}}catch(y){console.error("Token processing error:",y)}}s("No session found, redirecting to login"),console.log("No session found, redirecting to login"),setTimeout(()=>{e(ur("login"),{replace:!0})},100)}}catch(o){console.error("Auth callback error:",o),r(o.message),s("Authentication error, redirecting to login"),setTimeout(()=>{e(ur("login"),{replace:!0})},1500)}})()},[e]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:t?"Authentication Error":"Verifying Your Account"}),t?a.jsx("div",{className:"text-red-500 mb-4",children:t}):a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:n})]}),t&&a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Redirecting you to the login page..."})]})})};var Uf={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(tt,function(){var r=1e3,n=6e4,s=36e5,i="millisecond",o="second",l="minute",c="hour",u="day",d="week",h="month",g="quarter",y="year",v="date",b="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var _=["th","st","nd","rd"],R=P%100;return"["+P+(_[(R-20)%10]||_[R]||_[0])+"]"}},x=function(P,_,R){var I=String(P);return!I||I.length>=_?P:""+Array(_+1-I.length).join(R)+P},w={s:x,z:function(P){var _=-P.utcOffset(),R=Math.abs(_),I=Math.floor(R/60),j=R%60;return(_<=0?"+":"-")+x(I,2,"0")+":"+x(j,2,"0")},m:function P(_,R){if(_.date()<R.date())return-P(R,_);var I=12*(R.year()-_.year())+(R.month()-_.month()),j=_.clone().add(I,h),M=R-j<0,$=_.clone().add(I+(M?-1:1),h);return+(-(I+(R-j)/(M?j-$:$-j))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:h,y,w:d,d:u,D:v,h:c,m:l,s:o,ms:i,Q:g}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},C="en",N={};N[C]=f;var S="$isDayjsObject",T=function(P){return P instanceof D||!(!P||!P[S])},O=function P(_,R,I){var j;if(!_)return C;if(typeof _=="string"){var M=_.toLowerCase();N[M]&&(j=M),R&&(N[M]=R,j=M);var $=_.split("-");if(!j&&$.length>1)return P($[0])}else{var F=_.name;N[F]=_,j=F}return!I&&j&&(C=j),j||!I&&C},E=function(P,_){if(T(P))return P.clone();var R=typeof _=="object"?_:{};return R.date=P,R.args=arguments,new D(R)},L=w;L.l=O,L.i=T,L.w=function(P,_){return E(P,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var D=function(){function P(R){this.$L=O(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[S]=!0}var _=P.prototype;return _.parse=function(R){this.$d=function(I){var j=I.date,M=I.utc;if(j===null)return new Date(NaN);if(L.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var $=j.match(k);if($){var F=$[2]-1||0,H=($[7]||"0").substring(0,3);return M?new Date(Date.UTC($[1],F,$[3]||1,$[4]||0,$[5]||0,$[6]||0,H)):new Date($[1],F,$[3]||1,$[4]||0,$[5]||0,$[6]||0,H)}}return new Date(j)}(R),this.init()},_.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},_.$utils=function(){return L},_.isValid=function(){return this.$d.toString()!==b},_.isSame=function(R,I){var j=E(R);return this.startOf(I)<=j&&j<=this.endOf(I)},_.isAfter=function(R,I){return E(R)<this.startOf(I)},_.isBefore=function(R,I){return this.endOf(I)<E(R)},_.$g=function(R,I,j){return L.u(R)?this[I]:this.set(j,R)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(R,I){var j=this,M=!!L.u(I)||I,$=L.p(R),F=function(xt,Ee){var ct=L.w(j.$u?Date.UTC(j.$y,Ee,xt):new Date(j.$y,Ee,xt),j);return M?ct:ct.endOf(u)},H=function(xt,Ee){return L.w(j.toDate()[xt].apply(j.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(Ee)),j)},q=this.$W,K=this.$M,te=this.$D,be="set"+(this.$u?"UTC":"");switch($){case y:return M?F(1,0):F(31,11);case h:return M?F(1,K):F(0,K+1);case d:var ke=this.$locale().weekStart||0,yt=(q<ke?q+7:q)-ke;return F(M?te-yt:te+(6-yt),K);case u:case v:return H(be+"Hours",0);case c:return H(be+"Minutes",1);case l:return H(be+"Seconds",2);case o:return H(be+"Milliseconds",3);default:return this.clone()}},_.endOf=function(R){return this.startOf(R,!1)},_.$set=function(R,I){var j,M=L.p(R),$="set"+(this.$u?"UTC":""),F=(j={},j[u]=$+"Date",j[v]=$+"Date",j[h]=$+"Month",j[y]=$+"FullYear",j[c]=$+"Hours",j[l]=$+"Minutes",j[o]=$+"Seconds",j[i]=$+"Milliseconds",j)[M],H=M===u?this.$D+(I-this.$W):I;if(M===h||M===y){var q=this.clone().set(v,1);q.$d[F](H),q.init(),this.$d=q.set(v,Math.min(this.$D,q.daysInMonth())).$d}else F&&this.$d[F](H);return this.init(),this},_.set=function(R,I){return this.clone().$set(R,I)},_.get=function(R){return this[L.p(R)]()},_.add=function(R,I){var j,M=this;R=Number(R);var $=L.p(I),F=function(K){var te=E(M);return L.w(te.date(te.date()+Math.round(K*R)),M)};if($===h)return this.set(h,this.$M+R);if($===y)return this.set(y,this.$y+R);if($===u)return F(1);if($===d)return F(7);var H=(j={},j[l]=n,j[c]=s,j[o]=r,j)[$]||1,q=this.$d.getTime()+R*H;return L.w(q,this)},_.subtract=function(R,I){return this.add(-1*R,I)},_.format=function(R){var I=this,j=this.$locale();if(!this.isValid())return j.invalidDate||b;var M=R||"YYYY-MM-DDTHH:mm:ssZ",$=L.z(this),F=this.$H,H=this.$m,q=this.$M,K=j.weekdays,te=j.months,be=j.meridiem,ke=function(Ee,ct,vt,B){return Ee&&(Ee[ct]||Ee(I,M))||vt[ct].slice(0,B)},yt=function(Ee){return L.s(F%12||12,Ee,"0")},xt=be||function(Ee,ct,vt){var B=Ee<12?"AM":"PM";return vt?B.toLowerCase():B};return M.replace(m,function(Ee,ct){return ct||function(vt){switch(vt){case"YY":return String(I.$y).slice(-2);case"YYYY":return L.s(I.$y,4,"0");case"M":return q+1;case"MM":return L.s(q+1,2,"0");case"MMM":return ke(j.monthsShort,q,te,3);case"MMMM":return ke(te,q);case"D":return I.$D;case"DD":return L.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return ke(j.weekdaysMin,I.$W,K,2);case"ddd":return ke(j.weekdaysShort,I.$W,K,3);case"dddd":return K[I.$W];case"H":return String(F);case"HH":return L.s(F,2,"0");case"h":return yt(1);case"hh":return yt(2);case"a":return xt(F,H,!0);case"A":return xt(F,H,!1);case"m":return String(H);case"mm":return L.s(H,2,"0");case"s":return String(I.$s);case"ss":return L.s(I.$s,2,"0");case"SSS":return L.s(I.$ms,3,"0");case"Z":return $}return null}(Ee)||$.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(R,I,j){var M,$=this,F=L.p(I),H=E(R),q=(H.utcOffset()-this.utcOffset())*n,K=this-H,te=function(){return L.m($,H)};switch(F){case y:M=te()/12;break;case h:M=te();break;case g:M=te()/3;break;case d:M=(K-q)/6048e5;break;case u:M=(K-q)/864e5;break;case c:M=K/s;break;case l:M=K/n;break;case o:M=K/r;break;default:M=K}return j?M:L.a(M)},_.daysInMonth=function(){return this.endOf(h).$D},_.$locale=function(){return N[this.$L]},_.locale=function(R,I){if(!R)return this.$L;var j=this.clone(),M=O(R,I,!0);return M&&(j.$L=M),j},_.clone=function(){return L.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},P}(),z=D.prototype;return E.prototype=z,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",u],["$M",h],["$y",y],["$D",v]].forEach(function(P){z[P[1]]=function(_){return this.$g(_,P[0],P[1])}}),E.extend=function(P,_){return P.$i||(P(_,D,E),P.$i=!0),E},E.locale=O,E.isDayjs=T,E.unix=function(P){return E(1e3*P)},E.en=N[C],E.Ls=N,E.p={},E})})(Uf);var Bv=Uf.exports;const fe=ri(Bv);var Bf={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(tt,function(){return function(r,n,s){r=r||{};var i=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(u,d,h,g){return i.fromToBase(u,d,h,g)}s.en.relativeTime=o,i.fromToBase=function(u,d,h,g,y){for(var v,b,k,m=h.$locale().relativeTime||o,f=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=f.length,w=0;w<x;w+=1){var C=f[w];C.d&&(v=g?s(u).diff(h,C.d,!0):h.diff(u,C.d,!0));var N=(r.rounding||Math.round)(Math.abs(v));if(k=v>0,N<=C.r||!C.r){N<=1&&w>0&&(C=f[w-1]);var S=m[C.l];y&&(N=y(""+N)),b=typeof S=="string"?S.replace("%d",N):S(N,d,C.l,k);break}}if(d)return b;var T=k?m.future:m.past;return typeof T=="function"?T(b):T.replace("%s",b)},i.to=function(u,d){return l(u,d,this,!0)},i.from=function(u,d){return l(u,d,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}})})(Bf);var Vv=Bf.exports;const Vf=ri(Vv),xl=({imageUrl:e,onClose:t,allImages:r=[]})=>{const[n,s]=p.useState(0),[i,o]=p.useState(0),[l,c]=p.useState(0),u=r.length>0?r:[e];p.useEffect(()=>{if(r.length>0&&e){const k=r.findIndex(m=>m===e);k>=0&&s(k)}},[e,r]);const d=k=>{k.stopPropagation()},h=k=>{k.stopPropagation(),u.length>1&&s(m=>m===0?u.length-1:m-1)},g=k=>{k.stopPropagation(),u.length>1&&s(m=>m===u.length-1?0:m+1)};p.useEffect(()=>{const k=m=>{m.key==="ArrowLeft"?h(m):m.key==="ArrowRight"?g(m):m.key==="Escape"&&t()};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[u.length]);const y=k=>{o(k.targetTouches[0].clientX)},v=k=>{c(k.targetTouches[0].clientX)},b=()=>{i-l>100?g({stopPropagation:()=>{}}):i-l<-100&&h({stopPropagation:()=>{}}),o(0),c(0)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:t,children:a.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full",children:[a.jsx("button",{className:"absolute top-4 right-4 bg-white rounded-full p-2 text-gray-800 hover:bg-gray-100 z-10",onClick:t,children:a.jsx(It,{})}),u.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 text-gray-800 hover:bg-gray-100 z-10",onClick:h,children:a.jsx(Tf,{})}),a.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 text-gray-800 hover:bg-gray-100 z-10",onClick:g,children:a.jsx($f,{})})]}),a.jsx("img",{src:u[n],alt:"Full size",className:"max-h-[90vh] max-w-full mx-auto object-contain rounded-lg",onClick:d,onTouchStart:y,onTouchMove:v,onTouchEnd:b}),u.length>1&&a.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-2 py-1 rounded-full text-sm",children:[n+1," / ",u.length]})]})})},qv=({post:e,authorInfo:t,relativeTime:r,formattedDate:n,isEvent:s,isPrayer:i,isAnnouncement:o})=>{const l=Ue(),[c,u]=p.useState(null);p.useEffect(()=>{if(e.is_anonymous||t&&t.full_name||e.full_name&&e.full_name!=="User"||!e.user_id)return;(async()=>{try{const{data:y,error:v}=await A.from("profiles").select("full_name, avatar_url").eq("id",e.user_id).single();if(v)throw v;y&&y.full_name&&u(y)}catch(y){console.error("Error fetching author info:",y)}})()},[e.user_id,e.is_anonymous,t]);const d=()=>{var g;if(e.is_anonymous)return"Anonymous";if(t!=null&&t.full_name&&t.full_name!=="User")return t.full_name;if(c!=null&&c.full_name&&c.full_name!=="User")return c.full_name;if(e.full_name&&e.full_name!=="User")return e.full_name;if((g=e.profile)!=null&&g.full_name&&e.profile.full_name!=="User")return e.profile.full_name;if(e.author_name&&e.author_name!=="User")return e.author_name;if(e.user_id===localStorage.getItem("userId")){const y=localStorage.getItem("userFullName");if(y)return y}return"User"},h=()=>{var g;return t!=null&&t.avatar_url?t.avatar_url:c!=null&&c.avatar_url?c.avatar_url:e.avatar_url?e.avatar_url:(g=e.profile)!=null&&g.avatar_url?e.profile.avatar_url:null};return a.jsx("div",{className:"flex items-center",children:e.is_anonymous?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3",children:a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(Tt,{className:"text-gray-400 dark:text-gray-500"})})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Anonymous"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r,e.church_name&&` • ${e.church_name}`]}),pd(s,i,o)]}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",title:n,children:n})]})]}):a.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>l(`/profile/${e.user_id}`),children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3",children:h()?a.jsx("img",{src:h(),alt:d(),className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(Tt,{className:"text-gray-400 dark:text-gray-500"})})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:d()}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r,e.church_name&&` • ${e.church_name}`]}),pd(s,i,o)]}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",title:n,children:n})]})]})})},pd=(e,t,r)=>!e&&!t&&!r?null:a.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full ${e?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300"}`,children:[e&&a.jsx(Xt,{className:"mr-1 text-xs"}),t&&a.jsx(pt,{className:"mr-1 text-xs"}),r&&a.jsx(jc,{className:"mr-1 text-xs"}),e?"Event":t?"Prayer":"Announcement"]}),vl=e=>{if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/|youtube\.com\/watch\?.*v=)([^&?\/\s]+)/,/youtube\.com\/shorts\/([^&?\/\s]+)/,/youtu\.be\/([^&?\/\s]+)/];for(const r of t){const n=e.match(r);if(n&&n[1])return n[1]}return null},bl=e=>{if(!e)return null;const t=/suno\.com\/song\/([^?\/\s]+)/,r=e.match(t);if(r&&r[1])return r[1];try{const n=new URL(e);if(e.includes("suno.com")&&n.searchParams.get("sh"))return n.searchParams.get("sh")}catch{}return null},Hv=e=>{try{return new URL(e),!0}catch{return!1}},yd=e=>!e||!Hv(e)?"text":vl(e)?"youtube":bl(e)||e.includes("suno.com")?"suno":"url",xd=e=>({type:"youtube",videoId:e,src:`https://www.youtube.com/embed/${e}`}),ma=e=>({type:"suno",songId:e,src:`https://suno.com/player/${e}`}),en=e=>({type:"url",url:e}),vd=e=>{if(!e)return[{type:"text",content:""}];const t=e.trim(),r=yd(t);if(r==="youtube"){const o=vl(t);if(o)return[xd(o)]}if(r==="suno"){const o=bl(t);if(o)return[ma(o)];if(t.includes("suno.com"))try{const c=new URL(t).searchParams.get("sh");if(c)return[ma(c)]}catch{}}if(r==="url")return[en(t)];const n=/(https?:\/\/[^\s]+)/g,s=e.split(n),i=[];return s.forEach((o,l)=>{if(n.test(o)){const c=yd(o);if(c==="youtube"){const u=vl(o);u?i.push(xd(u)):i.push(en(o))}else if(c==="suno"){const u=bl(o);if(u)i.push(ma(u));else if(o.includes("suno.com"))try{const h=new URL(o).searchParams.get("sh");h?i.push(ma(h)):i.push(en(o))}catch{i.push(en(o))}else i.push(en(o))}else i.push(en(o))}else o&&i.push({type:"text",content:o})}),i},Wv=({post:e,onPostUpdated:t,onCancel:r})=>{var D,z;const{user:n}=We(),[s,i]=p.useState((e==null?void 0:e.content)||""),[o,l]=p.useState((e==null?void 0:e.post_type)||"regular"),[c,u]=p.useState([]),[d,h]=p.useState([]),[g,y]=p.useState((e==null?void 0:e.media_urls)||[]),[v,b]=p.useState(!1),[k,m]=p.useState((e==null?void 0:e.is_anonymous)||!1),f=p.useRef();p.useEffect(()=>{e&&(i(e.content||""),l(e.post_type||"regular"),m(e.is_anonymous||!1),y(e.media_urls||[]))},[e]);const x=P=>{i(P.target.value)},w=P=>{const _=Array.from(P.target.files);if(_.length===0)return;const R=_.filter(j=>j.type.startsWith("image/")||j.type.startsWith("video/")),I=R.map(j=>({file:j,url:URL.createObjectURL(j),type:j.type.startsWith("image/")?"image":"video"}));u([...c,...R]),h([...d,...I])},C=P=>{URL.revokeObjectURL(d[P].url);const _=[...c];_.splice(P,1);const R=[...d];R.splice(P,1),u(_),h(R)},N=P=>{const _=[...g];_.splice(P,1),y(_)},S=P=>{l(P)},T=async P=>{if(P.preventDefault(),!(!s.trim()&&c.length===0&&g.length===0))try{b(!0);const _=[];if(c.length>0)for(const $ of c){const F=$.name.split(".").pop(),H=`${Date.now()}-${Math.random().toString(36).substring(2)}.${F}`,q=`posts/${n.id}/${H}`,{error:K}=await A.storage.from("media").upload(q,$);if(K)throw console.error("Media upload error:",K),K;const{data:te}=A.storage.from("media").getPublicUrl(q);_.push(te.publicUrl)}const R=[...g,..._],I={content:s.trim(),media_urls:R,post_type:o,is_anonymous:o==="prayer"&&k,updated_at:new Date().toISOString()},{data:j,error:M}=await A.from("posts").update(I).eq("id",e.id).select().single();if(M)throw console.error("Post update error:",M),M;console.log("Post updated successfully:",j),d.forEach($=>URL.revokeObjectURL($.url)),t&&t(j)}catch(_){console.error("Error updating post:",_),alert("Failed to update post. Please try again: "+_.message)}finally{b(!1)}},O=({type:P,icon:_,label:R,active:I})=>a.jsxs("button",{type:"button",className:`flex items-center px-3 py-1.5 rounded-full text-sm ${I?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>S(P),children:[_,a.jsx("span",{className:"ml-1",children:R})]}),{avatar_url:E,full_name:L}=(n==null?void 0:n.user_metadata)||{};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Edit Post"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:a.jsx(It,{})})]}),a.jsxs("form",{onSubmit:T,children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200",children:E?a.jsx("img",{src:E,alt:L,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(Tt,{className:"text-gray-400"})})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{placeholder:"What's on your mind?",className:"w-full border rounded-lg p-3 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-lg text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-800 dark:border-gray-700 resize-none",rows:4,value:s,onChange:x}),g.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Media"}),a.jsx("div",{className:`grid gap-2 ${g.length>1?"grid-cols-2":"grid-cols-1"}`,children:g.map((P,_)=>{const R=P.match(/\.(mp4|webm|ogg)$/i);return a.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100",children:[R?a.jsx("video",{src:P,className:"w-full h-48 object-cover",controls:!0}):a.jsx("img",{src:P,alt:`Media ${_+1}`,className:"w-full h-48 object-cover"}),a.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white rounded-full p-1",onClick:()=>N(_),children:a.jsx(It,{})})]},_)})})]}),d.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Media"}),a.jsx("div",{className:`grid gap-2 ${d.length>1?"grid-cols-2":"grid-cols-1"}`,children:d.map((P,_)=>a.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100",children:[P.type==="image"?a.jsx("img",{src:P.url,alt:`Upload preview ${_+1}`,className:"w-full h-48 object-cover"}):a.jsx("video",{src:P.url,className:"w-full h-48 object-cover",controls:!0}),a.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white rounded-full p-1",onClick:()=>C(_),children:a.jsx(It,{})})]},_))})]})]})]})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto pb-1",children:[a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap",children:"Post type:"}),a.jsx(O,{type:"regular",icon:a.jsx(Tt,{className:"text-blue-500"}),label:"Regular",active:o==="regular"}),a.jsx(O,{type:"prayer",icon:a.jsx(pt,{className:"text-purple-500"}),label:"Prayer Request",active:o==="prayer"}),a.jsx(O,{type:"event",icon:a.jsx(Xt,{className:"text-green-500"}),label:"Event",active:o==="event"}),(((D=n==null?void 0:n.user_metadata)==null?void 0:D.role)==="admin"||((z=n==null?void 0:n.user_metadata)==null?void 0:z.role)==="worship_leader")&&a.jsx(O,{type:"announcement",icon:a.jsx(jc,{className:"text-yellow-500"}),label:"Announcement",active:o==="announcement"})]})}),o==="prayer"&&a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 dark:text-gray-300 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:k,onChange:P=>m(P.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("span",{children:"Post anonymously"})]})}),a.jsxs("div",{className:"px-4 py-2 flex items-center justify-between border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-3 py-1.5",onClick:()=>f.current.click(),children:[a.jsx(Af,{className:"text-green-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Add Photo"})]}),a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-3 py-1.5",onClick:()=>f.current.click(),children:[a.jsx(Ff,{className:"text-red-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Add Video"})]}),a.jsx("input",{type:"file",multiple:!0,ref:f,className:"hidden",onChange:w,accept:"image/*,video/*"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",className:"px-4 py-1.5 text-sm border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",onClick:r,children:"Cancel"}),a.jsx("button",{type:"submit",disabled:v||!s.trim()&&c.length===0&&g.length===0,className:"px-4 py-1.5 text-sm font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:v?a.jsxs(a.Fragment,{children:[a.jsx(gs,{className:"animate-spin mr-1.5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Sc,{className:"mr-1.5"}),"Save Changes"]})})]})]})]})]})},Yv=({title:e="Confirm Delete",message:t="Are you sure you want to delete this item? This action cannot be undone.",confirmText:r="Delete",cancelText:n="Cancel",isDeleting:s=!1,onConfirm:i,onCancel:o})=>a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 dark:bg-gray-800 dark:bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:o}),a.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:a.jsxs("div",{className:"sm:flex sm:items-start",children:[a.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900 sm:mx-0 sm:h-10 sm:w-10",children:a.jsx(Lf,{className:"h-6 w-6 text-red-600 dark:text-red-300"})}),a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[a.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",id:"modal-title",children:e}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})})]})]})}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm ${s?"opacity-75 cursor-not-allowed":""}`,onClick:i,disabled:s,children:s?"Deleting...":r}),a.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:o,disabled:s,children:n})]})]})]})}),qf=({post:e,currentUserId:t,onPostUpdated:r,onPostDeleted:n})=>{var Ye;const[s,i]=p.useState(!1),[o,l]=p.useState(""),[c,u]=p.useState([]),[d,h]=p.useState(!1),[g,y]=p.useState(!1),[v,b]=p.useState(e.userReactions||{}),[k,m]=p.useState(null),[f,x]=p.useState(!1),[w,C]=p.useState(!1),[N,S]=p.useState(!1),[T,O]=p.useState(!1),[E,L]=p.useState(null),[D,z]=p.useState(e.is_pinned||!1),[P,_]=p.useState(!1);p.useEffect(()=>{e.userReactions&&b(e.userReactions)},[e.userReactions]),p.useEffect(()=>{var V,G;if(!e.is_anonymous){if((V=e.profile)!=null&&V.full_name&&((G=e.profile)==null?void 0:G.full_name)!=="User"){m(e.profile);return}if(e.user_id)try{(async()=>{const{data:se,error:je}=await A.from("profiles").select("full_name, avatar_url").eq("id",e.user_id).single();if(je)throw je;se&&m(se)})()}catch(de){console.error("Error fetching author info:",de)}}},[e.user_id,e.is_anonymous,e.profile]);const R=V=>{const G=new Date(V),se=Math.floor((new Date-G)/1e3);if(se<60)return"just now";if(se<3600){const je=Math.floor(se/60);return`${je} ${je===1?"minute":"minutes"} ago`}else if(se<86400){const je=Math.floor(se/3600);return`${je} ${je===1?"hour":"hours"} ago`}else if(se<604800){const je=Math.floor(se/86400);return`${je} ${je===1?"day":"days"} ago`}else return new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},I=R(e.created_at),j=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),M=e.post_type==="event",$=e.post_type==="prayer",F=e.post_type==="announcement",H=V=>{var de;const G=(de=e.reactions)==null?void 0:de.find(se=>se.reaction_type===V);return G?parseInt(G.count):0},q=H("like"),K=H("pray"),te=async V=>{if(t)try{const{data:G,error:de}=await A.rpc("toggle_post_reaction",{post_id_param:e.id,user_id_param:t,reaction_type_param:V});if(de)throw de;b(se=>({...se,[V]:G}))}catch(G){console.error("Error toggling reaction:",G)}},be=async()=>{if(!(!t||t!==e.user_id))try{_(!0);try{const{data:V,error:G}=await A.rpc("toggle_post_pin",{post_id_param:e.id,user_id_param:t});if(G)throw G;z(V),e.is_pinned=V,r&&r({...e,is_pinned:V})}catch(V){console.warn("Function toggle_post_pin not found. Falling back to direct update.",V);const G=!D,{error:de}=await A.from("posts").update({is_pinned:G}).eq("id",e.id).eq("user_id",t);if(de)throw de;z(G),e.is_pinned=G,r&&r({...e,is_pinned:G})}}catch(V){console.error("Error toggling pin status:",V)}finally{_(!1),x(!1)}};p.useEffect(()=>{s&&J()},[s]);const ke=()=>{C(!0),x(!1)},yt=V=>{if(C(!1),r)r(V);else{const G=JSON.parse(JSON.stringify(V));Object.assign(e,G)}},xt=()=>{S(!0),x(!1)},Ee=async()=>{try{O(!0);const{error:V}=await A.from("posts").delete().eq("id",e.id);if(V)throw V;S(!1),n&&n(e.id)}catch(V){console.error("Error deleting post:",V),alert("Failed to delete post: "+V.message)}finally{O(!1)}},ct=()=>{S(!1)},vt=()=>{C(!1)},B=V=>{var G;return V?V.user_id===t?localStorage.getItem("userFullName")||"You":(G=V.profiles)!=null&&G.full_name&&V.profiles.full_name!=="User"?V.profiles.full_name:"User":"User"},J=async()=>{if(e.id)try{h(!0);const{data:V,error:G}=await A.from("comments").select("*").eq("post_id",e.id).order("created_at",{ascending:!0});if(G)throw G;if(!V||V.length===0){u([]);return}const de=await Promise.all(V.map(async se=>{if(!se.user_id)return{...se,profiles:null};try{const{data:je}=await A.from("profiles").select("full_name, avatar_url").eq("id",se.user_id).single();return{...se,profiles:je}}catch(je){return console.error("Error fetching commenter profile:",je),{...se,profiles:null}}}));u(de)}catch(V){console.error("Error fetching comments:",V)}finally{h(!1)}},Ne=async V=>{if(V.preventDefault(),!(!o.trim()||!t))try{y(!0);const{data:G,error:de}=await A.from("comments").insert({post_id:e.id,user_id:t,content:o.trim()}).select();if(de)throw de;if(G&&G.length>0){const se={...G[0],profiles:{full_name:localStorage.getItem("userFullName")||"You",avatar_url:localStorage.getItem("userAvatarUrl")||null}};u(je=>[...je,se])}l("")}catch(G){console.error("Error submitting comment:",G)}finally{y(!1)}},ue=(V,G)=>{switch(V.type){case"youtube":return a.jsx("div",{className:"aspect-w-16 aspect-h-9 mt-3 rounded-lg overflow-hidden",children:a.jsx("iframe",{src:V.src,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full border-0"})},`youtube-${G}`);case"suno":return a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:a.jsx("iframe",{src:V.src,title:"Suno music player",allow:"autoplay",className:"w-full h-24 border-0"})},`suno-${G}`);case"url":return a.jsx("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:V.url},`url-${G}`);case"text":default:return a.jsx("span",{children:V.content},`text-${G}`)}},re=()=>vd(e.content).map((G,de)=>ue(G,de)),Ae=(V,G)=>vd(V).map((se,je)=>ue(se,`comment-${G}-${je}`));return a.jsxs(a.Fragment,{children:[E&&a.jsx(xl,{imageUrl:E,onClose:()=>L(null),allImages:((Ye=e.media_urls)==null?void 0:Ye.filter(V=>!V.match(/\.(mp4|webm|ogg)$/i)))||[]}),N&&a.jsx(Yv,{title:"Delete Post",message:"Are you sure you want to delete this post? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",isDeleting:T,onConfirm:Ee,onCancel:ct}),w?a.jsx(Wv,{post:e,onPostUpdated:yt,onCancel:vt}):a.jsxs("div",{className:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden mb-4 ${D?"border-l-4 border-blue-500":""}`,children:[a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(qv,{post:e,authorInfo:k,relativeTime:I,formattedDate:j,isEvent:M,isPrayer:$,isAnnouncement:F}),D&&a.jsxs("div",{className:"ml-2 flex items-center bg-blue-100 dark:bg-blue-900/30 px-2 py-0.5 rounded-full",title:"Pinned post",children:[a.jsx(md,{className:"text-blue-500 mr-1"}),a.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Pinned"})]})]}),a.jsxs("div",{className:"relative ml-auto",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>x(!f),children:a.jsx(mv,{})}),f&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center",onClick:()=>x(!1),children:"Save post"}),t===e.user_id&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center",onClick:ke,children:[a.jsx(Fn,{className:"mr-2"})," Edit post"]}),a.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center",onClick:be,disabled:P,children:[a.jsx(md,{className:"mr-2"})," ",D?"Unpin post":"Pin to top"]}),a.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center",onClick:xt,children:[a.jsx(Li,{className:"mr-2"})," Delete post"]})]})]})})]})]}),a.jsxs("div",{className:"p-4 pt-0",children:[a.jsx("div",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-line",children:re()}),e.media_urls&&e.media_urls.length>0&&a.jsx("div",{className:`mt-3 grid ${e.media_urls.length>1?"grid-cols-2 gap-2":"grid-cols-1"}`,children:e.media_urls.map((V,G)=>V.match(/\.(mp4|webm|ogg)$/i)?a.jsx("video",{src:V,className:"w-full h-auto rounded-md object-cover",controls:!0},G):a.jsx("img",{src:V,alt:`Post media ${G+1}`,className:"w-full h-auto rounded-md object-cover cursor-pointer",onClick:()=>L(V)},G))})]}),(q>0||K>0||e.commentsCount>0)&&a.jsxs("div",{className:"px-4 py-2 flex justify-between text-sm text-gray-500 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center",children:[q>0&&a.jsxs("span",{className:"inline-flex items-center mr-3",children:[a.jsx(fd,{className:"text-red-500 mr-1"})," ",q]}),K>0&&a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(pt,{className:"text-purple-500 mr-1"})," ",K]})]}),e.commentsCount>0&&a.jsxs("button",{className:"hover:underline",onClick:()=>i(!s),children:[e.commentsCount," ",e.commentsCount===1?"comment":"comments"]})]}),a.jsxs("div",{className:"px-2 py-2 grid grid-cols-3 gap-2 border-t border-gray-100 dark:border-gray-700",children:[a.jsx("button",{className:`flex items-center justify-center p-2 rounded-md ${v.like?"text-red-500 font-medium":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>te("like"),children:a.jsxs("span",{className:"inline-flex items-center",children:[v.like?a.jsx(fd,{className:"mr-2"}):a.jsx(Tv,{className:"mr-2"}),"Like"]})}),a.jsx("button",{className:"flex items-center justify-center p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",onClick:()=>i(!s),children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Pv,{className:"mr-2"}),"Comment"]})}),a.jsx("button",{className:`flex items-center justify-center p-2 rounded-md ${v.pray?"text-purple-500 font-medium":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>te("pray"),children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(pt,{className:"mr-2"}),"Pray"]})})]}),s&&a.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-900 border-t border-gray-100 dark:border-gray-700",children:[t&&a.jsxs("form",{onSubmit:Ne,className:"mb-4 flex",children:[a.jsx("input",{type:"text",placeholder:"Write a comment...",className:"flex-1 p-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-l-md focus:outline-none focus:ring-1 focus:ring-blue-500",value:o,onChange:V=>l(V.target.value),disabled:g}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-r-md disabled:opacity-50",disabled:!o.trim()||g,children:g?"Sending...":"Post"})]}),d?a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2",children:"Loading comments..."}):c.length===0?a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2",children:"No comments yet. Be the first to comment!"}):a.jsx("div",{className:"space-y-4",children:c.map(V=>{var G;return a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 flex-shrink-0",children:(G=V.profiles)!=null&&G.avatar_url?a.jsx("img",{src:V.profiles.avatar_url,alt:B(V),className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(Tt,{className:"text-gray-400 dark:text-gray-500"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg px-3 py-2 shadow-sm",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-gray-100",children:B(V)}),a.jsx("div",{className:"text-gray-800 dark:text-gray-200",children:Ae(V.content,V.id)})]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-2",children:R(V.created_at)})]})]},V.id)})})]})]})]})},Kv=({onPostCreated:e,churchId:t})=>{var E,L;const{user:r}=We(),[n,s]=p.useState(""),[i,o]=p.useState("regular"),[l,c]=p.useState([]),[u,d]=p.useState([]),[h,g]=p.useState(!1),[y,v]=p.useState(!1),[b,k]=p.useState(!1),m=p.useRef(),f=D=>{s(D.target.value),!y&&D.target.value&&v(!0)},x=D=>{const z=Array.from(D.target.files);if(z.length===0)return;const P=z.filter(R=>R.type.startsWith("image/")||R.type.startsWith("video/")),_=P.map(R=>({file:R,url:URL.createObjectURL(R),type:R.type.startsWith("image/")?"image":"video"}));c([...l,...P]),d([...u,..._]),v(!0)},w=D=>{URL.revokeObjectURL(u[D].url);const z=[...l];z.splice(D,1);const P=[...u];P.splice(D,1),c(z),d(P)},C=D=>{o(D),v(!0)},N=async D=>{if(D.preventDefault(),!(!n.trim()&&l.length===0))try{g(!0);const z=[];if(l.length>0)for(const I of l){const j=I.name.split(".").pop(),M=`${Date.now()}-${Math.random().toString(36).substring(2)}.${j}`,$=`posts/${r.id}/${M}`,{error:F}=await A.storage.from("media").upload($,I);if(F)throw console.error("Media upload error:",F),F;const{data:H}=A.storage.from("media").getPublicUrl($);z.push(H.publicUrl)}const P={user_id:r.id,church_id:t,content:n.trim(),media_urls:z,post_type:i,is_anonymous:i==="prayer"&&b},{data:_,error:R}=await A.from("posts").insert(P).select().single();if(R)throw console.error("Post creation error:",R),R;console.log("Post created successfully:",_),s(""),c([]),d([]),o("regular"),k(!1),v(!1),e&&e(_)}catch(z){console.error("Error creating post:",z),alert("Failed to create post. Please try again: "+z.message)}finally{g(!1)}},S=({type:D,icon:z,label:P,active:_})=>a.jsxs("button",{type:"button",className:`flex items-center px-3 py-1.5 rounded-full text-sm ${_?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>C(D),children:[z,a.jsx("span",{className:"ml-1",children:P})]}),{avatar_url:T,full_name:O}=(r==null?void 0:r.user_metadata)||{};return a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:a.jsxs("form",{onSubmit:N,children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200",children:T?a.jsx("img",{src:T,alt:O,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(Tt,{className:"text-gray-400"})})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{placeholder:`What's on your mind, ${(O==null?void 0:O.split(" ")[0])||"there"}?`,className:"w-full border rounded-lg p-3 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-lg text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-800 dark:border-gray-700 resize-none",rows:y?4:2,value:n,onChange:f,onClick:()=>v(!0)}),u.length>0&&a.jsx("div",{className:`grid gap-2 mb-3 ${u.length>1?"grid-cols-2":"grid-cols-1"}`,children:u.map((D,z)=>a.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100",children:[D.type==="image"?a.jsx("img",{src:D.url,alt:`Upload preview ${z+1}`,className:"w-full h-48 object-cover"}):a.jsx("video",{src:D.url,className:"w-full h-48 object-cover",controls:!0}),a.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white rounded-full p-1",onClick:()=>w(z),children:a.jsx(It,{})})]},z))})]})]})}),y&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto pb-1",children:[a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap",children:"Post type:"}),a.jsx(S,{type:"regular",icon:a.jsx(Tt,{className:"text-blue-500"}),label:"Regular",active:i==="regular"}),a.jsx(S,{type:"prayer",icon:a.jsx(pt,{className:"text-purple-500"}),label:"Prayer Request",active:i==="prayer"}),a.jsx(S,{type:"event",icon:a.jsx(Xt,{className:"text-green-500"}),label:"Event",active:i==="event"}),(((E=r==null?void 0:r.user_metadata)==null?void 0:E.role)==="admin"||((L=r==null?void 0:r.user_metadata)==null?void 0:L.role)==="worship_leader")&&a.jsx(S,{type:"announcement",icon:a.jsx(jc,{className:"text-yellow-500"}),label:"Announcement",active:i==="announcement"})]})}),i==="prayer"&&a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 dark:text-gray-300 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b,onChange:D=>k(D.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("span",{children:"Post anonymously"})]})}),a.jsxs("div",{className:"px-4 py-2 flex items-center justify-between border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-3 py-1.5",onClick:()=>m.current.click(),children:[a.jsx(Af,{className:"text-green-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Photo"})]}),a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-3 py-1.5",onClick:()=>m.current.click(),children:[a.jsx(Ff,{className:"text-red-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Video"})]}),a.jsx("input",{type:"file",multiple:!0,ref:m,className:"hidden",onChange:x,accept:"image/*,video/*"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",className:"px-4 py-1.5 text-sm border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>{v(!1),s(""),c([]),d([]),o("regular"),k(!1)},children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h||!n.trim()&&l.length===0,className:"px-4 py-1.5 text-sm font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:h?a.jsxs(a.Fragment,{children:[a.jsx(gs,{className:"animate-spin mr-1.5"}),"Posting..."]}):"Post"})]})]})]})]})})},Gv=({currentUserId:e,churchId:t})=>{const{user:r}=We(),[n,s]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState("all"),[h,g]=p.useState(0),[y,v]=p.useState(!0),[b,k]=p.useState(0),m=10;p.useEffect(()=>{C()},[h,u,b,t]);const f=E=>(E.sort((L,D)=>{const z=L.is_pinned??!1,P=D.is_pinned??!1;return z&&!P?-1:!z&&P?1:new Date(D.created_at)-new Date(L.created_at)}),E);p.useEffect(()=>{e&&(r!=null&&r.user_metadata)&&(async()=>{try{const L=r.user_metadata.full_name,D=r.user_metadata.avatar_url;if(L)try{localStorage.setItem("userFullName",L),D&&localStorage.setItem("userAvatarUrl",D);const z=JSON.parse(localStorage.getItem("usernamesCache")||"{}");z[e]=L,localStorage.setItem("usernamesCache",JSON.stringify(z))}catch(z){console.error("Error updating localStorage cache:",z)}}catch(L){console.error("Error setting user metadata:",L)}})()},[e,r]);const x=E=>{s(L=>{const D=L.map(z=>z.id===E.id?E:z);return f(D)})},w=E=>{s(L=>L.filter(D=>D.id!==E))},C=async()=>{try{o(!0);let E=A.from("posts_with_authors").select("*").order("is_pinned",{ascending:!1}).order("created_at",{ascending:!1}).range(h*m,(h+1)*m-1);if(u==="following"&&e){const{data:P}=await A.from("follows").select("following_id").eq("follower_id",e),_=(P==null?void 0:P.map(R=>R.following_id))||[];if(_.length===0){v(!1),s([]),o(!1);return}else E=E.in("user_id",_)}else u==="church"&&t?E=E.eq("church_id",t):u!=="all"&&(E=E.eq("post_type",u));const{data:L,error:D}=await E;if(D){console.error("Error with posts_with_authors view:",D);let P=A.from("posts").select("*").order("is_pinned",{ascending:!1}).order("created_at",{ascending:!1}).range(h*m,(h+1)*m-1);if(u==="following"&&e){const j=(followingData==null?void 0:followingData.map(M=>M.following_id))||[];P=P.in("user_id",j)}else u==="church"&&t?P=P.eq("church_id",t):u!=="all"&&(P=P.eq("post_type",u));const{data:_,error:R}=await P;if(R)throw R;v(_.length===m);const I=await Promise.all(_.map(async j=>{var F,H;let M="User",$=null;if(j.user_id===e)M=((F=r==null?void 0:r.user_metadata)==null?void 0:F.full_name)||"You",$=(H=r==null?void 0:r.user_metadata)==null?void 0:H.avatar_url;else try{const q=JSON.parse(localStorage.getItem("usernamesCache")||"{}");if(q[j.user_id])M=q[j.user_id];else{const{data:K}=await A.rpc("get_user_full_name",{user_id_param:j.user_id});if(K){M=K;const te=JSON.parse(localStorage.getItem("usernamesCache")||"{}");te[j.user_id]=K,localStorage.setItem("usernamesCache",JSON.stringify(te))}}}catch(q){console.log("Error fetching user data:",q)}return N(j,M,$)}));S(I),o(!1);return}v(L.length===m);const z=await Promise.all(L.map(async P=>{const _=P.full_name||"User",R=P.avatar_url;if(_&&_!=="User"&&P.user_id)try{const I=JSON.parse(localStorage.getItem("usernamesCache")||"{}");I[P.user_id]=_,localStorage.setItem("usernamesCache",JSON.stringify(I))}catch(I){console.log("Error updating usernames cache:",I)}return N(P,_,R)}));S(z),f(n)}catch(E){console.error("Error fetching posts:",E),c(E.message)}finally{o(!1)}},N=async(E,L,D)=>{let z={full_name:L,avatar_url:D},P=null;if(E.church_id&&!E.church_name){const{data:F,error:H}=await A.from("churches").select("name").eq("id",E.church_id).single();H||(P=F)}else E.church_name&&(P={name:E.church_name});const{data:_,error:R}=await A.from("reactions").select("reaction_type").eq("post_id",E.id),I=_?Array.from(_.reduce((F,{reaction_type:H})=>(F.set(H,(F.get(H)||0)+1),F),new Map)).map(([F,H])=>({reaction_type:F,count:H})):[];R&&console.error("Error fetching reactions:",R);const{count:j,error:M}=await A.from("comments").select("id",{count:"exact"}).eq("post_id",E.id);M&&console.error("Error fetching comments count:",M);let $={};if(e){const{data:F,error:H}=await A.from("reactions").select("reaction_type").eq("post_id",E.id).eq("user_id",e);H&&console.error("Error fetching user reactions:",H),F==null||F.forEach(q=>{$[q.reaction_type]=!0})}return{...E,profile:z,church:P,reactions:I||[],commentsCount:j||0,userReactions:$,created_at:E.created_at||new Date().toISOString()}},S=E=>{const L=f([...E]);s(h===0?L:D=>{const z=[...D,...L];return f(z)})},T=E=>{var L,D;if(e){const z={...E,profile:{full_name:((L=r==null?void 0:r.user_metadata)==null?void 0:L.full_name)||"You",avatar_url:((D=r==null?void 0:r.user_metadata)==null?void 0:D.avatar_url)||null},reactions:[],commentsCount:0,userReactions:{}};s(P=>{const _=[z,...P];return f(_)})}else g(0),k(z=>z+1)},O=()=>{!i&&y&&g(E=>E+1)};return a.jsxs("div",{className:"space-y-4",children:[e&&a.jsx(Kv,{onPostCreated:T,churchId:t}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow flex items-center space-x-1 overflow-x-auto",children:[a.jsx(yv,{className:"text-gray-400 mr-2 flex-shrink-0"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="all"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("all"),children:"All"}),e&&a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${u==="following"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("following"),children:"Following"}),t&&a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${u==="church"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("church"),children:"My Church"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="event"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("event"),children:"Events"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="prayer"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("prayer"),children:"Prayer"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="announcement"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("announcement"),children:"Announcements"})]}),l?a.jsxs("div",{className:"bg-red-100 dark:bg-red-900 p-4 rounded-md text-red-800 dark:text-red-200",children:["Error loading posts: ",l]}):n.length===0&&!i?a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"No posts found"}),a.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:u==="following"?"You're not following anyone yet, or the people you follow haven't posted anything.":u==="church"?"Your church doesn't have any posts yet.":u!=="all"?`No ${u} posts found.`:"There are no posts yet. Be the first to share something!"})]}):a.jsxs("div",{className:"space-y-4",children:[n.map(E=>a.jsx(qf,{post:E,currentUserId:e,onPostUpdated:x,onPostDeleted:w},E.id)),i&&a.jsx("div",{className:"space-y-4",children:[1,2].map(E=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/6 animate-pulse"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 animate-pulse"})]}),a.jsx("div",{className:"h-40 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]},E))}),y&&!i&&a.jsx("button",{onClick:O,className:"w-full py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md",children:"Load more"})]})]})};fe.extend(Vf);const Jv=()=>{const{user:e}=We(),[t,r]=p.useState([]),[n,s]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(null),[h,g]=p.useState(null);return p.useEffect(()=>{(async()=>{try{c(!0);const v=localStorage.getItem("userChurchId");if(v)g(v);else try{const{data:b,error:k}=await A.from("profiles").select("church_id").eq("id",e.id).single();k?console.error("Profile error:",k):b!=null&&b.church_id&&(g(b.church_id),localStorage.setItem("userChurchId",b.church_id))}catch(b){console.error("Error querying profiles:",b)}if(h||v){const b=h||v,{data:k,error:m}=await A.from("churches").select("*").eq("id",b).single();m?console.error("Church error:",m):d(k);const f=fe().toISOString(),x=fe().add(7,"day").toISOString(),{data:w,error:C}=await A.from("events").select("*").eq("church_id",b).gte("start_time",f).lte("start_time",x).order("start_time",{ascending:!0}).limit(5);C?console.error("Event error:",C):r(w||[]);const{data:N,error:S}=await A.from("songs").select("*").eq("church_id",b).order("created_at",{ascending:!1}).limit(5);S?console.error("Song error:",S):s(N||[]);const{data:T,error:O}=await A.from("prayer_requests").select("*").eq("church_id",b).eq("is_private",!1).order("created_at",{ascending:!1}).limit(5);O?console.error("Prayer error:",O):o(T||[])}}catch(v){console.error("Error fetching dashboard data:",v)}finally{c(!1)}})()},[e==null?void 0:e.id]),l?a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((y,v)=>a.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},v))}),a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}):a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Feed"}),u&&a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:u.name}),!u&&a.jsxs("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[a.jsx("p",{className:"text-yellow-700",children:"You're not connected to a church yet. Join or create one to access all features."}),a.jsxs(ie,{to:"/churches",className:"mt-3 inline-flex items-center justify-center w-full sm:w-auto px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[a.jsx(Zt,{className:"mr-2"}),"Find or Create a Church"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(ie,{to:"/calendar",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(Xt,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Calendar"})]}),a.jsxs(ie,{to:"/songs",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(Pt,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Songs"})]}),a.jsxs(ie,{to:"/prayer-requests",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(pt,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Prayer"})]}),a.jsxs(ie,{to:"/teams",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(zf,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Teams"})]})]}),a.jsx(Gv,{currentUserId:e.id,churchId:h})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Upcoming Events"}),a.jsx(ie,{to:"/calendar",className:"text-sm text-blue-600 font-medium",children:"View all →"})]}),t.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No upcoming events in the next 7 days"}):a.jsx("div",{className:"space-y-3",children:t.map(y=>a.jsxs("div",{className:"flex items-start p-3 border border-gray-100 dark:border-gray-700 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsxs("div",{className:"min-w-[60px] text-center",children:[a.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:fe(y.start_time).format("MMM")}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:fe(y.start_time).format("DD")})]}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:y.title}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[fe(y.start_time).format("h:mm A")," - ",fe(y.end_time).format("h:mm A")]}),y.location&&a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:y.location})]})]},y.id))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Prayer Requests"}),a.jsx(ie,{to:"/prayer-requests",className:"text-sm text-blue-600 font-medium",children:"View all →"})]}),i.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No prayer requests yet"}):a.jsx("div",{className:"space-y-3",children:i.map(y=>a.jsxs("div",{className:"p-3 border-b last:border-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:y.title}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2",children:y.description}),a.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[y.is_anonymous?"Anonymous":"User"," • ",fe(y.created_at).fromNow()]})]},y.id))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Recent Songs"}),a.jsx(ie,{to:"/songs",className:"text-sm text-blue-600 font-medium",children:"View all →"})]}),n.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No songs added yet"}):a.jsx("div",{className:"space-y-3",children:n.map(y=>a.jsxs("div",{className:"flex items-center p-3 border-b last:border-0",children:[a.jsx(Pt,{className:"text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:y.title}),y.artist&&a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:y.artist})]})]},y.id))})]})]})]})]})},Qv=()=>{const e=Ue(),[t,r]=p.useState(fe()),[n,s]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState("month");p.useEffect(()=>{(async()=>{try{o(!0);const x=t.startOf("month").toISOString(),w=t.endOf("month").toISOString(),{data:C,error:N}=await A.from("events").select(`
            id,
            title,
            description,
            start_time,
            end_time,
            location,
            church_id,
            team_id,
            event_type,
            churches (name)
          `).gte("start_time",x).lte("start_time",w);if(N)throw N;s(C||[])}catch(x){console.error("Error fetching events:",x)}finally{o(!1)}})()},[t]);const u=()=>{l==="month"?r(t.subtract(1,"month")):l==="quarter"?r(t.subtract(3,"month")):l==="year"&&r(t.subtract(1,"year"))},d=()=>{l==="month"?r(t.add(1,"month")):l==="quarter"?r(t.add(3,"month")):l==="year"&&r(t.add(1,"year"))},h=()=>{const f=t.startOf("month"),x=t.endOf("month"),w=f.startOf("week"),C=x.endOf("week"),N=[];let S=w;for(;S.isBefore(C)||S.isSame(C,"day");)N.push(S),S=S.add(1,"day");return N},g=f=>n.filter(x=>fe(x.start_time).isSame(f,"day")),y=()=>{e("/services/new")},v=f=>{f.event_type==="service"?e(`/services/${f.id}`):e(`/events/${f.id}`)},b=()=>{const f=h(),x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 border-b dark:border-gray-700 p-2",children:x.map(w=>a.jsx("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:w},w))}),a.jsx("div",{className:"grid grid-cols-7 gap-1 p-2",children:f.map(w=>{const C=w.month()===t.month(),N=w.isSame(fe(),"day"),S=g(w);return a.jsxs("div",{className:`min-h-[80px] p-1 border rounded ${C?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900 text-gray-400 dark:text-gray-500"} ${N?"border-blue-500":"border-gray-200 dark:border-gray-700"}`,children:[a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`text-sm font-medium ${N?"bg-blue-500 text-white rounded-full w-6 h-6 inline-flex items-center justify-center":""}`,children:w.date()})}),a.jsxs("div",{className:"mt-1 space-y-1",children:[S.slice(0,3).map(T=>a.jsxs("div",{className:`truncate text-xs rounded p-1 cursor-pointer ${T.event_type==="service"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300"}`,title:T.title,onClick:()=>v(T),children:[T.event_type==="service"&&a.jsx(Pt,{className:"inline mr-1",size:10}),T.title]},T.id)),S.length>3&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",S.length-3," more"]})]})]},w.valueOf())})})]})},k=()=>a.jsx("div",{className:"text-center py-20 text-gray-500 dark:text-gray-400",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Quarterly view coming soon"})}),m=()=>a.jsx("div",{className:"text-center py-20 text-gray-500 dark:text-gray-400",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Yearly view coming soon"})});return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Calendar"}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded shadow-sm flex items-center",title:"Add new service",onClick:y,children:[a.jsx(Fe,{className:"mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Service"})]})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300","aria-label":"Previous",children:a.jsx(Tf,{})}),a.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:[l==="month"&&t.format("MMMM YYYY"),l==="quarter"&&`Q${Math.ceil((t.month()+1)/3)} ${t.year()}`,l==="year"&&t.format("YYYY")]}),a.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300","aria-label":"Next",children:a.jsx($f,{})})]}),a.jsxs("div",{className:"border dark:border-gray-700 rounded-md overflow-hidden",children:[a.jsx("button",{onClick:()=>c("month"),className:`px-3 py-1 text-sm ${l==="month"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Month"}),a.jsx("button",{onClick:()=>c("quarter"),className:`px-3 py-1 text-sm ${l==="quarter"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Quarter"}),a.jsx("button",{onClick:()=>c("year"),className:`px-3 py-1 text-sm ${l==="year"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Year"})]})]}),i&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!i&&a.jsxs(a.Fragment,{children:[l==="month"&&b(),l==="quarter"&&k(),l==="year"&&m()]}),a.jsxs("div",{className:"flex items-center justify-end space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-blue-100 rounded mr-1"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Services"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-green-100 rounded mr-1"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Other Events"})]})]})]})},Xv=()=>{const e=Ue(),[t,r]=p.useState([]),[n,s]=p.useState(!0),[i,o]=p.useState("");p.useEffect(()=>{(async()=>{try{s(!0);const{data:g,error:y}=await A.from("songs").select("*").order("title",{ascending:!0});if(y)throw y;r(g||[])}catch(g){console.error("Error fetching songs:",g)}finally{s(!1)}})()},[]);const l=t.filter(h=>h.title.toLowerCase().includes(i.toLowerCase())||h.artist&&h.artist.toLowerCase().includes(i.toLowerCase())),c=()=>{e("/songs/new")},u=h=>{e(`/songs/${h}`)},d=(h,g)=>{g.stopPropagation(),e(`/songs/edit/${h}`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Songs"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new song",onClick:c,children:a.jsx(Fe,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx($i,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search songs by title or artist...",value:i,onChange:h=>o(h.target.value)})]}),n&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!n&&a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:l.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Pt,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No songs found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i?"No songs match your search criteria.":"Get started by adding a new song."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx(Fe,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Song"]})})]}):a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.map(h=>a.jsx("li",{className:"px-4 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>u(h.id),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:h.title}),h.artist&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.artist})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[h.default_key&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",children:["Key: ",h.default_key]}),a.jsx("button",{onClick:g=>u(h.id),className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",title:"View song",children:a.jsx(_c,{})}),a.jsx("button",{onClick:g=>d(h.id,g),className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",title:"Edit song",children:a.jsx(Fn,{})})]})]})},h.id))})})]})},Zv=()=>{const e=Ue(),[t,r]=p.useState([]),[n,s]=p.useState(!0),[i,o]=p.useState("");p.useEffect(()=>{(async()=>{try{s(!0);const{data:g,error:y}=await A.from("events").select(`
            id,
            title,
            description,
            start_time,
            end_time,
            location,
            church_id,
            team_id,
            churches (name)
          `).eq("event_type","service").order("start_time",{ascending:!1});if(y)throw y;r(g||[])}catch(g){console.error("Error fetching services:",g)}finally{s(!1)}})()},[]);const l=t.filter(h=>{var g;return h.title.toLowerCase().includes(i.toLowerCase())||h.description&&h.description.toLowerCase().includes(i.toLowerCase())||((g=h.churches)==null?void 0:g.name)&&h.churches.name.toLowerCase().includes(i.toLowerCase())}),c=()=>{e("/services/new")},u=h=>{e(`/services/${h}`)},d=(h,g)=>{g.stopPropagation(),e(`/services/edit/${h}`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Services"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new service",onClick:c,children:a.jsx(Fe,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx($i,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search services by title, description, or church...",value:i,onChange:h=>o(h.target.value)})]}),n&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!n&&a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Xt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No services found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i?"No services match your search criteria.":"Get started by adding a new service."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx(Fe,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Service"]})})]}):a.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(h=>{var g;return a.jsx("li",{className:"px-4 py-4 hover:bg-gray-50 cursor-pointer",onClick:()=>u(h.id),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h.title}),a.jsx("p",{className:"text-sm text-gray-500",children:fe(h.start_time).format("dddd, MMMM D, YYYY • h:mm A")}),((g=h.churches)==null?void 0:g.name)&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.churches.name})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:y=>u(h.id),className:"text-gray-500 hover:text-blue-600",title:"View service",children:a.jsx(_c,{})}),a.jsx("button",{onClick:y=>d(h.id,y),className:"text-gray-500 hover:text-blue-600",title:"Edit service",children:a.jsx(Fn,{})})]})]})},h.id)})})})]})},bd=({imageUrl:e,onSave:t,onCancel:r,aspectRatio:n=1,initialPosition:s={x:50,y:50}})=>{const[i,o]=p.useState(s),[l,c]=p.useState(!1),[u,d]=p.useState({x:0,y:0}),h=p.useRef(null),g=p.useRef(null),y=m=>{m.preventDefault(),c(!0);const f=m.touches?m.touches[0].clientX:m.clientX,x=m.touches?m.touches[0].clientY:m.clientY;d({x:f,y:x})},v=m=>{if(!l||!h.current||!g.current)return;const f=m.touches?m.touches[0].clientX:m.clientX,x=m.touches?m.touches[0].clientY:m.clientY,w=f-u.x,C=x-u.y,N=h.current.offsetWidth,S=h.current.offsetHeight,T=Math.max(0,Math.min(100,i.x-w/N*100)),O=Math.max(0,Math.min(100,i.y-C/S*100));o({x:T,y:O}),d({x:f,y:x})},b=()=>{c(!1)};p.useEffect(()=>(l&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),document.addEventListener("touchmove",v),document.addEventListener("touchend",b)),()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",b)}),[l,i,u]);const k=()=>{t(i)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden max-w-3xl w-full",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Adjust Image Position"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:a.jsx(It,{})})]}),a.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[a.jsxs("div",{ref:h,className:"relative w-full overflow-hidden cursor-move",style:{height:n!==1?"240px":"300px",borderRadius:n!==1?"0.5rem":"50%"},onMouseDown:y,onTouchStart:y,children:[e&&a.jsx("img",{ref:g,src:e,alt:"Adjust position",className:"absolute w-full h-full object-cover select-none",style:{objectPosition:`${i.x}% ${i.y}%`,userSelect:"none",touchAction:"none"},draggable:"false"}),a.jsx("div",{className:"absolute inset-0 border-2 border-white border-dashed pointer-events-none"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Horizontal Position: ",Math.round(i.x),"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:i.x,onChange:m=>o({...i,x:parseInt(m.target.value)}),className:"w-full"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Vertical Position: ",Math.round(i.y),"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:i.y,onChange:m=>o({...i,y:parseInt(m.target.value)}),className:"w-full"})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Drag the image to position it, or use the sliders to fine-tune."})]}),a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),a.jsxs("button",{type:"button",onClick:k,className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 flex items-center",children:[a.jsx(Sc,{className:"mr-2"})," Save Position"]})]})]})})},wd=()=>{const{userId:e}=Vs(),{user:t,updateProfile:r}=We(),n=t==null?void 0:t.id,s=e||n,i=s===n,[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,h]=p.useState(null),[g,y]=p.useState("profile"),[v,b]=p.useState(!1),[k,m]=p.useState(!1),[f,x]=p.useState([]),[w,C]=p.useState([]),[N,S]=p.useState([]),[T,O]=p.useState(!1),[E,L]=p.useState(!1),[D,z]=p.useState(!1),[P,_]=p.useState(!1),[R,I]=p.useState(!1),[j,M]=p.useState(!1),[$,F]=p.useState({fullName:"",email:"",churchName:"",role:"",avatarUrl:"",coverUrl:"",bio:"",avatarPosition:{x:50,y:50},coverPosition:{x:50,y:50}});p.useEffect(()=>{H(),n&&s&&!i&&te()},[s,n]);const H=async()=>{try{l(!0);const{data:B,error:J}=await A.from("profiles").select("*").eq("id",s).single();if(J)throw J;let Ne="";if(B!=null&&B.church_id){const{data:Ae,error:Ye}=await A.from("churches").select("name").eq("id",B.church_id).single();!Ye&&Ae&&(Ne=Ae.name)}console.log("Profile data from DB:",B);let ue=B==null?void 0:B.avatar_position,re=B==null?void 0:B.cover_position;if(typeof ue=="string")try{ue=JSON.parse(ue)}catch(Ae){console.error("Error parsing avatar_position:",Ae),ue=null}if(typeof re=="string")try{re=JSON.parse(re)}catch(Ae){console.error("Error parsing cover_position:",Ae),re=null}F({fullName:(B==null?void 0:B.full_name)||"",email:(B==null?void 0:B.email)||"",churchName:Ne,role:(B==null?void 0:B.user_role)||"member",avatarUrl:(B==null?void 0:B.avatar_url)||"",coverUrl:(B==null?void 0:B.cover_url)||"",bio:(B==null?void 0:B.bio)||"",avatarPosition:ue||{x:50,y:50},coverPosition:re||{x:50,y:50}}),q(s),K(s)}catch(B){console.error("Error fetching profile:",B),h({type:"error",text:"Failed to load profile data"})}finally{l(!1)}},q=async B=>{try{let{data:J,error:Ne}=await A.from("posts_with_authors").select("*").eq("user_id",B).order("created_at",{ascending:!1}).limit(10);if(Ne){console.error("Error fetching from posts_with_authors:",Ne);const{data:ue,error:re}=await A.from("posts").select("*").eq("user_id",B).order("created_at",{ascending:!1}).limit(10);if(re)throw re;J=ue}if(J&&J.length>0){const ue=await Promise.all(J.map(async re=>{let Ae={full_name:re.full_name||$.fullName,avatar_url:re.avatar_url||$.avatarUrl},Ye=null;if(re.church_id&&!re.church_name){const{data:bt,error:er}=await A.from("churches").select("name").eq("id",re.church_id).single();er||(Ye=bt)}else re.church_name&&(Ye={name:re.church_name});const{data:V,error:G}=await A.from("reactions").select("reaction_type").eq("post_id",re.id),de=V?Array.from(V.reduce((bt,{reaction_type:er})=>(bt.set(er,(bt.get(er)||0)+1),bt),new Map)).map(([bt,er])=>({reaction_type:bt,count:er})):[],{count:se,error:je}=await A.from("comments").select("id",{count:"exact"}).eq("post_id",re.id);let Pc={};if(n){const{data:bt}=await A.from("reactions").select("reaction_type").eq("post_id",re.id).eq("user_id",n);bt==null||bt.forEach(er=>{Pc[er.reaction_type]=!0})}return{...re,profile:Ae,church:Ye,reactions:de||[],commentsCount:se||0,userReactions:Pc,created_at:re.created_at||new Date().toISOString()}}));x(ue)}else x([])}catch(J){console.error("Error fetching posts:",J),x([])}},K=async B=>{try{const{data:J,error:Ne}=await A.from("follows").select("follower_id").eq("following_id",B);Ne||S(J||[]);const{data:ue,error:re}=await A.from("follows").select("following_id").eq("follower_id",B);re||C(ue||[])}catch(J){console.error("Error fetching follow counts:",J)}},te=async()=>{try{const{data:B,error:J}=await A.from("follows").select("id").eq("follower_id",n).eq("following_id",s).maybeSingle();J||O(!!B)}catch(B){console.error("Error checking follow status:",B)}},be=async B=>{B&&B.preventDefault();try{u(!0),h(null);const{error:J}=await A.from("profiles").update({full_name:$.fullName,bio:$.bio}).eq("id",n);if(J)throw J;r&&await r({fullName:$.fullName}),L(!1),h({type:"success",text:"Profile updated successfully"})}catch(J){console.error("Error updating profile:",J),h({type:"error",text:J.message||"Failed to update profile"})}finally{u(!1)}},ke=async B=>{try{b(!0);const J=B.target.files[0];if(!J)return;const Ne=J.name.split(".").pop(),ue=`${n}/${Math.random().toString(36).substring(2)}.${Ne}`,{error:re}=await A.storage.from("avatars").upload(ue,J);if(re)throw re;const{data:Ae}=A.storage.from("avatars").getPublicUrl(ue),{error:Ye}=await A.from("profiles").update({avatar_url:Ae.publicUrl}).eq("id",n);if(Ye)throw Ye;F(V=>({...V,avatarUrl:Ae.publicUrl})),h({type:"success",text:"Profile picture updated successfully"})}catch(J){console.error("Error uploading avatar:",J),h({type:"error",text:"Failed to upload avatar"})}finally{b(!1)}},yt=async B=>{try{m(!0);const J=B.target.files[0];if(!J)return;const Ne=J.name.split(".").pop(),ue=`covers/${n}/${Math.random().toString(36).substring(2)}.${Ne}`,{error:re}=await A.storage.from("avatars").upload(ue,J);if(re)throw re;const{data:Ae}=A.storage.from("avatars").getPublicUrl(ue),{error:Ye}=await A.from("profiles").update({cover_url:Ae.publicUrl}).eq("id",n);if(Ye)throw Ye;F(V=>({...V,coverUrl:Ae.publicUrl})),h({type:"success",text:"Cover image updated successfully"})}catch(J){console.error("Error uploading cover:",J),h({type:"error",text:"Failed to upload cover image"})}finally{m(!1)}},xt=async B=>{try{h(null);try{console.log("Saving avatar position:",B);const J={x:Math.round(B.x),y:Math.round(B.y)},{error:Ne}=await A.from("profiles").update({avatar_position:J}).eq("id",n);if(Ne)throw Ne;F(ue=>({...ue,avatarPosition:B})),h({type:"success",text:"Profile picture position updated"}),H()}catch(J){console.error("Position column may not exist yet:",J),h({type:"error",text:"Position update feature requires running the migrations. Check NEXT_STEPS.md."})}}catch(J){console.error("Error updating avatar position:",J),h({type:"error",text:"Failed to update profile picture position"})}finally{z(!1)}},Ee=async B=>{try{h(null);try{console.log("Saving cover position:",B);const J={x:Math.round(B.x),y:Math.round(B.y)},{error:Ne}=await A.from("profiles").update({cover_position:J}).eq("id",n);if(Ne)throw Ne;F(ue=>({...ue,coverPosition:B})),h({type:"success",text:"Cover image position updated"}),H()}catch(J){console.error("Position column may not exist yet:",J),h({type:"error",text:"Position update feature requires running the migrations. Check NEXT_STEPS.md."})}}catch(J){console.error("Error updating cover position:",J),h({type:"error",text:"Failed to update cover image position"})}finally{_(!1)}},ct=async()=>{try{if(T){const{error:B}=await A.from("follows").delete().eq("follower_id",n).eq("following_id",s);if(B)throw B;O(!1)}else{const{error:B}=await A.from("follows").insert({follower_id:n,following_id:s});if(B)throw B;O(!0)}K(s)}catch(B){console.error("Error toggling follow:",B),h({type:"error",text:"Failed to update follow status"})}};if(o)return a.jsxs("div",{className:"space-y-6 dark:bg-gray-900",children:[a.jsx("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]});const vt={posts:f.length,followers:N.length,following:w.length};return a.jsxs("div",{className:"space-y-6 pb-16 md:pb-0 dark:bg-gray-900 dark:text-white",children:[R&&$.avatarUrl&&a.jsx(xl,{imageUrl:$.avatarUrl,onClose:()=>I(!1)}),j&&$.coverUrl&&a.jsx(xl,{imageUrl:$.coverUrl,onClose:()=>M(!1)}),a.jsxs("div",{className:"relative h-48 bg-gray-200 dark:bg-gray-800 rounded-lg overflow-hidden",children:[$.coverUrl?a.jsx("img",{src:$.coverUrl,alt:"Cover",className:"w-full h-full object-cover cursor-pointer",style:{objectPosition:$.coverPosition?`${$.coverPosition.x}% ${$.coverPosition.y}%`:"50% 50%"},onClick:()=>M(!0)}):a.jsx("div",{className:"h-full w-full bg-gradient-to-r from-blue-500 to-purple-600"}),i&&E&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute bottom-2 right-2 flex space-x-2",children:[$.coverUrl&&a.jsx("button",{className:"bg-white dark:bg-gray-800 bg-opacity-70 p-2 rounded-full hover:bg-opacity-100 transition-all",onClick:()=>_(!0),disabled:k,title:"Adjust cover photo position",children:a.jsx(dd,{className:"text-gray-700 dark:text-gray-300"})}),a.jsx("button",{className:"bg-white dark:bg-gray-800 bg-opacity-70 p-2 rounded-full hover:bg-opacity-100 transition-all shadow-lg",onClick:()=>document.getElementById("cover-upload").click(),disabled:k,title:"Upload new cover photo",children:a.jsx(ud,{className:"text-gray-700 dark:text-gray-300"})})]}),a.jsx("input",{type:"file",id:"cover-upload",onChange:yt,className:"hidden",accept:"image/*"})]})]}),a.jsxs("div",{className:"relative flex flex-col md:flex-row gap-4 -mt-16 px-4",children:[a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"w-32 h-32 rounded-full bg-white dark:bg-gray-700 p-1 shadow-lg",children:[$.avatarUrl?a.jsx("img",{src:$.avatarUrl,alt:$.fullName,className:"w-full h-full rounded-full object-cover cursor-pointer",style:{objectPosition:$.avatarPosition?`${$.avatarPosition.x}% ${$.avatarPosition.y}%`:"50% 50%"},onClick:()=>I(!0)}):a.jsx("div",{className:"w-full h-full rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center",children:a.jsx(Tt,{className:"text-gray-400 dark:text-gray-300 text-4xl"})}),i&&E&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute -bottom-2 -right-2 flex space-x-1",children:[$.avatarUrl&&a.jsx("button",{className:"bg-white dark:bg-gray-700 p-2 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-all z-10",onClick:()=>z(!0),disabled:v,title:"Adjust profile picture position",children:a.jsx(dd,{className:"text-gray-700 dark:text-gray-300 text-sm"})}),a.jsx("button",{className:"bg-white dark:bg-gray-700 p-2 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-all z-10",onClick:()=>document.getElementById("avatar-upload").click(),disabled:v,title:"Upload new profile picture",children:a.jsx(ud,{className:"text-gray-700 dark:text-gray-300 text-sm"})})]}),a.jsx("input",{type:"file",id:"avatar-upload",onChange:ke,className:"hidden",accept:"image/*"})]})]})}),a.jsxs("div",{className:"flex-1 pt-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:$.fullName}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 flex items-center",children:[$.churchName?a.jsxs(a.Fragment,{children:[a.jsx(Zt,{className:"mr-1 text-gray-500 dark:text-gray-400"}),$.churchName," •"]}):"",$.role==="member"?"Member":$.role==="admin"?"Administrator":$.role==="worship_leader"?"Worship Leader":$.role]}),$.bio?a.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line mt-2",children:$.bio}):i&&a.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic mt-2",children:"Add a bio to tell people about yourself"})]}),a.jsx("div",{className:"mt-2 md:mt-0",children:i?a.jsxs("button",{className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 rounded-md flex items-center",onClick:()=>L(!E),children:[a.jsx(Fn,{className:"mr-1"})," ",E?"Cancel":"Edit"]}):a.jsx("button",{className:`px-4 py-2 ${T?"bg-gray-600 hover:bg-gray-700":"bg-blue-600 hover:bg-blue-700"} text-white rounded-md flex items-center`,onClick:ct,children:T?a.jsxs(a.Fragment,{children:[a.jsx(Cv,{className:"mr-2"})," Unfollow"]}):a.jsxs(a.Fragment,{children:[a.jsx(If,{className:"mr-2"})," Follow"]})})})]}),a.jsxs("div",{className:"flex mt-4 gap-4 text-center",children:[a.jsxs("div",{className:"flex-1 p-2 bg-white dark:bg-gray-800 rounded-md shadow-sm",children:[a.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:vt.posts}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Posts"})]}),a.jsxs("div",{className:"flex-1 p-2 bg-white dark:bg-gray-800 rounded-md shadow-sm",children:[a.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:vt.followers}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Followers"})]}),a.jsxs("div",{className:"flex-1 p-2 bg-white dark:bg-gray-800 rounded-md shadow-sm",children:[a.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:vt.following}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Following"})]})]})]})]}),D&&$.avatarUrl&&a.jsx(bd,{imageUrl:$.avatarUrl,onSave:xt,onCancel:()=>z(!1),aspectRatio:1,initialPosition:$.avatarPosition||{x:50,y:50}}),P&&$.coverUrl&&a.jsx(bd,{imageUrl:$.coverUrl,onSave:Ee,onCancel:()=>_(!1),aspectRatio:3,initialPosition:$.coverPosition||{x:50,y:50}}),d&&a.jsx("div",{className:`mb-4 p-3 rounded-md text-sm ${d.type==="success"?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"}`,children:d.text}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{className:`pb-4 px-1 ${g==="profile"?"border-b-2 border-blue-500 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>y("profile"),children:"Profile"}),a.jsx("button",{className:`pb-4 px-1 ${g==="posts"?"border-b-2 border-blue-500 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>y("posts"),children:"Posts"})]})}),g==="profile"&&a.jsx("div",{className:"space-y-6",children:i&&E?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Edit Profile"}),a.jsxs("form",{onSubmit:be,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),a.jsx("input",{type:"text",id:"fullName",value:$.fullName,onChange:B=>F({...$,fullName:B.target.value}),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Bio"}),a.jsx("textarea",{id:"bio",value:$.bio||"",onChange:B=>F({...$,bio:B.target.value}),rows:"4",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Tell others about yourself..."})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>L(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:c,children:c?"Updating...":"Save Changes"})]})]})]}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"About"}),a.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[$.fullName," is a ",$.role," at ",$.churchName||"a church","."]})]})}),g==="posts"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Posts"}),i&&a.jsx(ie,{to:"/dashboard",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go to Dashboard"})]}),f.length===0?a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No posts yet."})}):a.jsx("div",{className:"space-y-4",children:f.map(B=>a.jsx(qf,{post:B,currentUserId:n},B.id))})]})]})},e2=({tags:e=[],onTagsChange:t,options:r=[],allowCustom:n=!1,placeholder:s="Add a tag...",label:i="Tags",name:o="tags"})=>{const[l,c]=p.useState(""),[u,d]=p.useState(!1),h=r.filter(b=>!e.includes(b)).filter(b=>b.toLowerCase().includes(l.toLowerCase())),g=b=>{b&&(e.includes(b)||t([...e,b]),c(""),d(!1))},y=b=>{t(e.filter(k=>k!==b))},v=b=>{b.key==="Enter"&&l&&(b.preventDefault(),n||r.includes(l)?g(l):h.length>0&&g(h[0])),b.key==="Escape"&&d(!1)};return a.jsxs("div",{className:"space-y-2",children:[i&&a.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:i}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(b=>a.jsxs("div",{className:"flex items-center bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded-md text-sm",children:[a.jsx("span",{children:b}),a.jsx("button",{type:"button",onClick:()=>y(b),className:"ml-1 p-1 rounded-full hover:bg-blue-200 dark:hover:bg-blue-800","aria-label":`Remove ${b}`,children:a.jsx(It,{size:10})})]},b))}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",id:o,name:o,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:s,value:l,onChange:b=>{c(b.target.value),d(!0)},onFocus:()=>d(!0),onBlur:()=>{setTimeout(()=>d(!1),200)},onKeyDown:v}),u&&l&&h.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 max-h-60 overflow-auto",children:h.map(b=>a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center",onMouseDown:()=>g(b),children:[a.jsx(Fe,{className:"text-blue-500 mr-2",size:12}),a.jsx("span",{children:b})]},b))}),u&&l&&h.length===0&&n&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center",onMouseDown:()=>g(l),children:[a.jsx(Fe,{className:"text-blue-500 mr-2",size:12}),a.jsxs("span",{children:['Add "',l,'"']})]})})]})]})},t2=({isOpen:e,onClose:t,onAdd:r,categoryOptions:n,currentMainScope:s})=>{const[i,o]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(!1),[h,g]=p.useState(!1),[y,v]=p.useState(s==="global"),[b,k]=p.useState([]),[m,f]=p.useState(!1);p.useEffect(()=>{e&&v(s==="global")},[e,s]);const x=async w=>{if(w.preventDefault(),!i.trim()){alert("Please enter a title for your prayer request");return}f(!0);try{await r({title:i,description:l,isAnonymous:u,isPrivate:h,categories:b,isGlobal:y}),o(""),c(""),d(!1),g(!1),k([]),t()}catch(C){console.error("Error adding prayer request:",C),alert("Failed to add prayer request")}finally{f(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] flex flex-col overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"New Prayer Request"})}),a.jsxs("form",{onSubmit:x,className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto flex-1",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),a.jsx("input",{type:"text",id:"title",value:i,onChange:w=>o(w.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:"What would you like prayer for?",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Details"}),a.jsx("textarea",{id:"description",value:l,onChange:w=>c(w.target.value),rows:"4",className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:"Share more details about your prayer request..."})]}),a.jsx("div",{children:a.jsx(e2,{name:"categories",label:"Categories",tags:b,onTagsChange:k,options:n,allowCustom:!0,placeholder:"Add categories..."})}),a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-3 space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Share With:"}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("input",{id:"shareChurch",type:"radio",checked:!y,onChange:()=>v(!1),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600"}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shareChurch",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[a.jsx(Zt,{className:"mr-1"})," My Church Only"]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Only members of your church will see this prayer request"})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("input",{id:"shareGlobal",type:"radio",checked:y,onChange:()=>v(!0),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600"}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shareGlobal",className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[a.jsx(Of,{className:"mr-1"})," Share Globally"]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"All Church Connect users can see and pray for this request"})]})]})]}),a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"isAnonymous",type:"checkbox",checked:u,onChange:w=>d(w.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("label",{htmlFor:"isAnonymous",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Post anonymously"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"isPrivate",type:"checkbox",checked:h,onChange:w=>g(w.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("label",{htmlFor:"isPrivate",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Private (only visible to church staff)"})]})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-gray-50 dark:bg-gray-800",children:a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[m?a.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-t-2 border-white rounded-full"}):a.jsx(Fe,{className:"mr-2"}),"Add Prayer Request"]})]})})]})]})}):null},r2=({categories:e,activeCategories:t,onChange:r})=>{const[n,s]=p.useState(!1),i=o=>{t.includes(o)?r(t.filter(l=>l!==o)):r([...t,o])};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>s(!n),className:"inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Df,{className:"mr-1"}),"Categories"]}),n&&a.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-10 border border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"py-1",children:e.length===0?a.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No categories found"}):e.map(o=>a.jsxs("div",{className:"px-4 py-2 flex items-center",children:[a.jsx("input",{type:"checkbox",id:`category-${o}`,checked:t.includes(o),onChange:()=>i(o),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("label",{htmlFor:`category-${o}`,className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:o})]},o))})})]})};fe.extend(Vf);const n2=({prayer:e,onPray:t,currentUserId:r})=>(e.user_id,a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"w-full",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e.title}),a.jsx("div",{className:"flex justify-between items-center mt-1",children:a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.is_anonymous?"Anonymous":e.author_name||"User"," • ",fe(e.created_at).fromNow()]})}),(!e.is_anonymous&&e.church_name||e.is_global)&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:e.is_global?"Global Prayer Request":`From: ${e.church_name}`})]})}),a.jsx("div",{className:"mt-3",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:e.description})}),e.categories&&e.categories.length>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:e.categories.map(n=>a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",children:n},n))}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>t(e.id),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(pt,{className:"mr-1"}),"I Prayed"]}),a.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-sm",children:[a.jsx(pt,{className:"text-blue-500 dark:text-blue-400 mr-1"}),a.jsxs("span",{children:[e.prayer_count||0," ",e.prayer_count===1?"prayer":"prayers"]})]})]})]})})),s2=({prayers:e,loading:t,mainScope:r,subScope:n,activeCategories:s,currentUserId:i,onPray:o,onAddClick:l})=>t?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 text-center",children:[a.jsx(pt,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No prayer requests found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:r==="mine"?"You haven't created any prayer requests yet.":n==="others"?"No prayer requests from others found.":s.length>0?"No prayer requests matching selected categories.":r==="church"?"No prayer requests in your church community.":"No global prayer requests found."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",onClick:l,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Fe,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Prayer Request"]})})]}):a.jsx("div",{className:"space-y-4",children:e.map(c=>a.jsx(n2,{prayer:c,onPray:o,currentUserId:i},c.id))}),a2=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState("global"),[o,l]=p.useState("all"),[c,u]=p.useState(!1),[d,h]=p.useState([]),[g,y]=p.useState([]),[v,b]=p.useState({}),{user:k}=We(),m=["Health","Family","Financial","Spiritual","Guidance","Healing","Relationships","Work","Education","Emotional"];p.useEffect(()=>{f()},[s,o]);const f=async()=>{try{n(!0);const{data:N}=await A.from("profiles").select("church_id").eq("id",k==null?void 0:k.id).single();let S;s==="mine"?S=A.from("prayer_requests").select("*, churches:church_id(name)").eq("user_id",k==null?void 0:k.id).order("created_at",{ascending:!1}):s==="church"&&(N!=null&&N.church_id)?(S=A.from("prayer_requests").select("*, churches:church_id(name)").eq("church_id",N.church_id).eq("is_private",!1),o==="others"&&(S=S.neq("user_id",k==null?void 0:k.id)),S=S.order("created_at",{ascending:!1})):(S=A.from("prayer_requests").select("*, churches:church_id(name)").eq("is_global",!0).eq("is_private",!1),o==="others"&&(S=S.neq("user_id",k==null?void 0:k.id)),S=S.order("created_at",{ascending:!1}));const{data:T,error:O}=await S;if(O)throw O;const E=T.map(_=>{var R;return{..._,church_name:(R=_.churches)==null?void 0:R.name}}),L=new Set;E.forEach(_=>{_.categories&&Array.isArray(_.categories)&&_.categories.forEach(R=>L.add(R))});const D=[...new Set(E.filter(_=>!_.is_anonymous).map(_=>_.user_id))];let z={...v};if(D.length>0){const{data:_,error:R}=await A.from("profiles").select("id, full_name, avatar_url").in("id",D);!R&&_&&(_.forEach(I=>{z[I.id]=I}),b(z))}const P=E.map(_=>{const R=!_.is_anonymous&&z[_.user_id]?z[_.user_id].full_name:null;return{..._,author_name:R}});t(P||[]),h([...new Set([...m,...L])])}catch(N){console.error("Error fetching prayer requests:",N)}finally{n(!1)}},x=async N=>{try{const{data:S}=await A.from("profiles").select("church_id, full_name").eq("id",k==null?void 0:k.id).single(),{data:T,error:O}=await A.from("prayer_requests").insert({title:N.title,description:N.description,is_anonymous:N.isAnonymous,is_private:N.isPrivate,categories:N.categories,church_id:N.isGlobal?null:S==null?void 0:S.church_id,is_global:N.isGlobal,user_id:k==null?void 0:k.id,prayer_count:0}).select().single();if(O)throw O;if(!N.isPrivate){const{error:E}=await A.from("posts").insert({content:`${N.title}

${N.description}`,user_id:k==null?void 0:k.id,is_anonymous:N.isAnonymous,post_type:"prayer",church_id:N.isGlobal?null:S==null?void 0:S.church_id,is_global:N.isGlobal,categories:N.categories});E&&console.error("Error creating feed post for prayer request:",E)}f()}catch(S){throw console.error("Error adding prayer request:",S),S}},w=async N=>{try{const{data:S,error:T}=await A.from("prayer_requests").select("prayer_count").eq("id",N).single();if(T)throw T;const{error:O}=await A.from("prayer_requests").update({prayer_count:(S.prayer_count||0)+1}).eq("id",N);if(O)throw O;t(E=>E.map(L=>L.id===N?{...L,prayer_count:(L.prayer_count||0)+1}:L))}catch(S){console.error("Error recording prayer:",S),alert("Failed to record your prayer")}},C=e.filter(N=>g.length===0?!0:N.categories&&Array.isArray(N.categories)?N.categories.some(S=>g.includes(S)):!1);return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Prayer Requests"}),a.jsx("button",{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new prayer request",children:a.jsx(Fe,{})})]}),a.jsxs("div",{className:"flex items-start rounded-md bg-blue-50 dark:bg-blue-900/20 p-3 mb-3",children:[a.jsx(vv,{className:"text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),a.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:a.jsxs("p",{children:["You can create prayer requests that are ",a.jsx("strong",{children:"shared globally"})," with all Church Connect users or ",a.jsx("strong",{children:"only with members of your church"}),"."]})})]}),a.jsx("div",{className:"flex justify-between items-center mb-2",children:a.jsxs("nav",{className:"flex w-full border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("button",{onClick:()=>{i("global"),l("all")},className:`flex-1 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm flex items-center justify-center ${s==="global"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[a.jsx(Of,{className:"mr-2"})," Global"]}),a.jsxs("button",{onClick:()=>{i("church"),l("all")},className:`flex-1 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm flex items-center justify-center ${s==="church"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[a.jsx(Zt,{className:"mr-2"})," My Church"]}),a.jsxs("button",{onClick:()=>{i("mine"),l("all")},className:`flex-1 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm flex items-center justify-center ${s==="mine"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[a.jsx(pt,{className:"mr-2"})," My Requests"]})]})}),s!=="mine"&&a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("nav",{className:"flex w-full",children:[a.jsx("button",{onClick:()=>l("all"),className:`flex-1 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${o==="all"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"All Requests"}),a.jsx("button",{onClick:()=>l("others"),className:`flex-1 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${o==="others"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"Others' Requests"})]})}),d.length>0&&a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsx(r2,{categories:d,activeCategories:g,onChange:y})}),a.jsx(s2,{prayers:C,loading:r,mainScope:s,subScope:o,activeCategories:g,currentUserId:k==null?void 0:k.id,onPray:w,onAddClick:()=>u(!0)}),a.jsx(t2,{isOpen:c,onClose:()=>u(!1),onAdd:x,categoryOptions:[...d],currentMainScope:s})]})},i2=()=>{const{user:e,loading:t,isAuthenticated:r}=We(),n=Ue(),[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(""),[d,h]=p.useState([]),[g,y]=p.useState(!1),[v,b]=p.useState(!1),[k,m]=p.useState(!1),[f,x]=p.useState(!1),[w,C]=p.useState(null),[N,S]=p.useState(!1),[T,O]=p.useState({name:"",location:"",description:""}),[E,L]=p.useState(!1);p.useEffect(()=>{!t&&!r&&(console.log("Churches page: User not authenticated, redirecting to login"),n("/login"))},[r,t,n]),p.useEffect(()=>{r&&e&&(async()=>{if(!(!e||o)){console.log("Churches page: Checking if user has a church");try{const j=localStorage.getItem("userChurchId");if(j){console.log("Churches page: Found church ID in localStorage:",j);const{data:F}=await A.from("churches").select("*").eq("id",j).single();if(F){console.log("Churches page: Confirmed church in database:",F.name),i(F),l(!0);return}else console.log("Churches page: Church not found in database, removing from localStorage"),localStorage.removeItem("userChurchId")}console.log("Churches page: Checking profile for church_id");const{data:M,error:$}=await A.from("profiles").select("church_id").eq("id",e.id).single();if(!$&&(M!=null&&M.church_id)){console.log("Churches page: Found church_id in profile:",M.church_id),localStorage.setItem("userChurchId",M.church_id);const{data:F}=await A.from("churches").select("*").eq("id",M.church_id).single();F&&i(F)}l(!0)}catch(j){console.error("Error checking user church:",j),l(!0)}}})()},[e,n,r,o]);const D=async()=>{if(!(!e||!s||!window.confirm(`Are you sure you want to leave ${s.name}?`))){x(!0),C(null);try{const{error:j}=await A.from("profiles").update({church_id:null}).eq("id",e.id);if(j)throw j;localStorage.removeItem("userChurchId"),alert(`You've successfully left ${s.name}.`),i(null)}catch(j){console.error("Error leaving church:",j),C("Failed to leave church. Please try again.")}finally{x(!1)}}},z=async I=>{if(I.preventDefault(),!!c.trim()){y(!0),C(null);try{let j=A.from("churches").select("*");c&&(j=j.ilike("name",`%${c}%`));const{data:M,error:$}=await j;if($)throw $;h(M||[]),b(!0)}catch(j){console.error("Error searching churches:",j),C("Failed to search churches. Please try again.")}finally{y(!1)}}},P=async I=>{if(!e){C("You need to be logged in to join a church.");return}m(!0),C(null);try{const{data:j,error:M}=await A.from("churches").select("name").eq("id",I).single();if(M)throw M;if(s&&!window.confirm(`You're currently a member of ${s.name}. Do you want to switch to ${j.name}?`)){m(!1);return}const{error:$}=await A.from("profiles").update({church_id:I}).eq("id",e.id);if($)throw $;localStorage.setItem("userChurchId",I),C(null),alert(`You've successfully joined ${j.name}!`),n("/dashboard")}catch(j){console.error("Error joining church:",j),C("Failed to join church. Please try again."),m(!1)}},_=I=>{const{name:j,value:M}=I.target;O({...T,[j]:M})},R=async I=>{if(I.preventDefault(),!e){C("You need to be logged in to create a church.");return}if(!T.name){C("Church name is required");return}if(!(s&&!window.confirm(`You're currently a member of ${s.name}. Do you want to create and join a new church?`))){L(!0),C(null);try{const j="admin",{data:M,error:$}=await A.from("churches").insert([{name:T.name,location:T.location,description:T.description,created_by:e.id}]).select().single();if($)throw $;const{error:F}=await A.from("profiles").update({church_id:M.id,user_role:j}).eq("id",e.id);if(F)throw F;localStorage.setItem("userChurchId",M.id),C(null),alert(`You've successfully created ${M.name}!`),n("/dashboard")}catch(j){console.error("Error creating church:",j),C("Failed to create church. Please try again.")}finally{L(!1)}}};return t||!r?a.jsx("div",{className:"flex justify-center items-center h-screen dark:bg-gray-900",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):!o&&e?a.jsxs("div",{className:"flex flex-col justify-center items-center h-screen dark:bg-gray-900",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Checking church membership..."})]}):a.jsxs("div",{className:"max-w-4xl mx-auto p-4 dark:text-white",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold dark:text-white",children:"Find or Create a Church"}),a.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white",children:[a.jsx(ms,{className:"mr-1"}),"Back to Dashboard"]})]}),w&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 dark:bg-red-900 dark:border-red-700 dark:text-red-200",children:w}),s&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:"Your Current Church"}),a.jsx("p",{className:"text-blue-600 dark:text-blue-200 font-medium",children:s.name}),s.location&&a.jsx("p",{className:"text-blue-600 dark:text-blue-200 text-sm",children:s.location})]}),a.jsxs("button",{onClick:D,disabled:f,className:"flex items-center px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",children:[f?a.jsx(gs,{className:"animate-spin mr-2"}):a.jsx(Mf,{className:"mr-2"}),"Leave Church"]})]}),a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-200 mt-2",children:"You can browse other churches below if you'd like to switch churches."})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6 dark:bg-gray-800 dark:border-gray-700",children:[a.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[a.jsx("h2",{className:"text-xl font-semibold dark:text-white",children:"Search for your church"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1 dark:text-gray-300",children:"Enter the name of your church to find and join it"})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("form",{onSubmit:z,className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx($i,{className:"text-gray-400 dark:text-gray-500"})}),a.jsx("input",{type:"text",placeholder:"Search by church name",className:"pl-10 pr-4 py-2 border rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:placeholder-gray-400",value:c,onChange:I=>u(I.target.value)})]}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center justify-center",disabled:g,children:g?a.jsx(gs,{className:"animate-spin"}):"Search"})]}),v&&a.jsx("div",{className:"mt-4",children:d.length===0?a.jsxs("div",{className:"text-center py-6",children:[a.jsx(Zt,{className:"text-gray-400 dark:text-gray-500 text-4xl mx-auto mb-2"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:['No churches found matching "',c,'"']}),a.jsxs("button",{className:"mt-4 text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center mx-auto dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>S(!0),children:[a.jsx(Fe,{className:"mr-1"}),"Create your church"]})]}):a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-gray-700 mb-2 dark:text-gray-300",children:[d.length," ",d.length===1?"church":"churches"," found"]}),a.jsx("div",{className:"space-y-3",children:d.map(I=>a.jsxs("div",{className:"border rounded-md p-3 hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:I.name}),I.location&&a.jsx("div",{className:"text-gray-600 text-sm dark:text-gray-400",children:I.location})]}),a.jsx("button",{className:`px-3 py-1 text-white text-sm rounded focus:outline-none focus:ring-2 disabled:opacity-50 ${s&&s.id===I.id?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,onClick:()=>P(I.id),disabled:k||s&&s.id===I.id,children:k?"Joining...":s&&s.id===I.id?"Current Church":"Join"})]}),I.description&&a.jsx("div",{className:"mt-1 text-sm text-gray-500 line-clamp-2 dark:text-gray-400",children:I.description})]},I.id))}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("p",{className:"text-gray-600 text-sm dark:text-gray-300",children:"Don't see your church?"}),a.jsxs("button",{className:"mt-1 text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center mx-auto dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>S(!0),children:[a.jsx(Fe,{className:"mr-1"}),"Create your church"]})]})]})})]})]}),N&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden dark:bg-gray-800 dark:border-gray-700",children:[a.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[a.jsx("h2",{className:"text-xl font-semibold dark:text-white",children:"Create a new church"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1 dark:text-gray-300",children:"Fill out the form below to create your church"})]}),a.jsx("div",{className:"p-4",children:a.jsx("form",{onSubmit:R,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Church Name ",a.jsx("span",{className:"text-red-500 dark:text-red-400",children:"*"})]}),a.jsx("input",{type:"text",id:"name",name:"name",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:T.name,onChange:_,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Location"}),a.jsx("input",{type:"text",id:"location",name:"location",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:placeholder-gray-400",value:T.location,onChange:_,placeholder:"City, State or full address"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",rows:"3",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:placeholder-gray-400",value:T.description,onChange:_,placeholder:"Brief description of your church"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",onClick:()=>S(!1),children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center",disabled:E,children:E?a.jsxs(a.Fragment,{children:[a.jsx(gs,{className:"animate-spin mr-2"}),"Creating..."]}):"Create Church"})]})]})})})]})]})},On=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],ti={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#","C#":"C#","D#":"D#","F#":"F#","G#":"G#","A#":"A#"},o2=(e,t)=>{if(!e||t===0)return e;const r=/^([A-G][#b]?)(.*)$/,n=e.match(r);if(!n)return e;const[s,i,o]=n;let l=i;ti[i]&&(l=ti[i]);const c=On.indexOf(l);if(c===-1)return e;const u=(c+t)%12,d=u<0?u+12:u;return On[d]+o},l2=(e,t)=>{const r=e.replace("m",""),n=t.replace("m",""),s=ti[r]||r,i=ti[n]||n,o=On.indexOf(s),l=On.indexOf(i);return o===-1||l===-1?0:(l-o+12)%12},c2=(e,t,r)=>{const n=l2(t,r);return o2(e,n)},kd=(e,t,r)=>{if(!e||!t||!r||t===r)return e;const n=/\b([A-G][#b]?(?:m|maj|min|aug|dim|sus|add|maj7|m7|7|9|11|13|6|5)?(?:\/[A-G][#b]?)?)\b/g;return e.replace(n,s=>c2(s,t,r))},Hf=()=>{const e=On.map(r=>r),t=On.map(r=>`${r}m`);return[...e,...t]},Wf=async e=>{try{const{data:t,error:r}=await A.from("songs").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Song not found");t.tags=[];try{const{error:n}=await A.from("song_tag_assignments").select("id").limit(1);if(!n){const{data:s}=await A.from("song_tag_assignments").select("tag_id").eq("song_id",e);if(s&&s.length>0){const i=s.map(l=>l.tag_id),{data:o}=await A.from("song_tags").select("id, name, color").in("id",i);o&&o.length>0&&(t.tags=o)}}}catch(n){console.warn("Could not fetch song tags:",n)}return t}catch(t){throw console.error("Error in fetchSongById:",t),t}},u2=async e=>{var c;const{data:t}=await A.auth.getUser();if(!((c=t==null?void 0:t.user)!=null&&c.id))throw new Error("User not authenticated");const{data:r,error:n}=await A.from("profiles").select("church_id").eq("id",t.user.id).single();if(n)throw n;if(!r.church_id)throw new Error("User not associated with a church");const s={...e,church_id:r.church_id,created_by:t.user.id},i=s.tags||[];delete s.tags;const{data:o,error:l}=await A.from("songs").insert(s).select().single();if(l)throw l;if(i.length>0&&o)try{await Yf(o.id,i)}catch(u){console.warn("Could not assign tags to song:",u)}return o},d2=async(e,t)=>{try{const r=t.tags||[],n={...t};delete n.tags,console.log("Updating song with data:",n);const{data:s,error:i}=await A.from("songs").update(n).eq("id",e).select().single();if(i)throw console.error("Error from supabase client update:",i),i;if(!s)throw new Error("No data returned from update operation");if(console.log("Song updated successfully:",s),r.length>0)try{const{error:o}=await A.from("song_tag_assignments").select("id").limit(1);o||(await A.from("song_tag_assignments").delete().eq("song_id",e),await Yf(e,r))}catch(o){console.warn("Could not update song tags:",o)}return s}catch(r){throw console.error("Error updating song:",r),r}},h2=async e=>{const{error:t}=await A.from("songs").delete().eq("id",e);if(t)throw t},f2=async()=>{try{const{error:e}=await A.from("song_tags").select("id").limit(1);if(e)return[];const{data:t,error:r}=await A.from("song_tags").select("*").order("name",{ascending:!0});if(r)throw r;return t||[]}catch(e){return console.warn("Could not fetch song tags:",e),[]}},m2=async e=>{var o;const{data:t}=await A.auth.getUser();if(!((o=t==null?void 0:t.user)!=null&&o.id))throw new Error("User not authenticated");const{data:r,error:n}=await A.from("profiles").select("church_id").eq("id",t.user.id).single();if(n)throw n;const{data:s,error:i}=await A.from("song_tags").insert({...e,church_id:r.church_id,created_by:t.user.id}).select().single();if(i)throw i;return s},Yf=async(e,t)=>{const n=t.map(i=>typeof i=="object"?i.id:i).map(i=>({song_id:e,tag_id:i}));if(n.length===0)return;const{error:s}=await A.from("song_tag_assignments").insert(n);if(s)throw s},g2=async(e,t,r)=>{const n=["chord-charts","sheet-music","backing-tracks"];if(!n.includes(r))throw new Error(`Invalid attachment type. Must be one of: ${n.join(", ")}`);const{data:s,error:i}=await A.from("songs").select("church_id").eq("id",e).single();if(i)throw i;const o=s.church_id,l=`${Date.now()}_${t.name}`,c=`${o}/${e}/${r}/${l}`,{data:u,error:d}=await A.storage.from("song-attachments").upload(c,t,{cacheControl:"3600",upsert:!1});if(d)throw d;const{data:h}=A.storage.from("song-attachments").getPublicUrl(u.path);return h.publicUrl},jd=async e=>{try{const{data:t,error:r}=await A.from("songs").select("church_id").eq("id",e).single();if(r)throw r;const s=`${t.church_id}/${e}`,i=["chord-charts","sheet-music","backing-tracks"],o={};for(const l of i){const c=`${s}/${l}`,{data:u,error:d}=await A.storage.from("song-attachments").list(c);if(d&&d.message!=="The resource was not found")throw d;o[l]=(u||[]).map(h=>({...h,url:A.storage.from("song-attachments").getPublicUrl(`${c}/${h.name}`).data.publicUrl}))}return o}catch(t){return console.warn("Could not list song attachments:",t),{"chord-charts":[],"sheet-music":[],"backing-tracks":[]}}},p2=async(e,t,r)=>{try{const{data:n,error:s}=await A.from("songs").select("church_id").eq("id",e).single();if(s)throw s;const o=`${n.church_id}/${e}/${t}/${r}`,{error:l}=await A.storage.from("song-attachments").remove([o]);if(l)throw l}catch(n){throw console.warn("Could not delete song attachment:",n),n}};var Kf={exports:{}},y2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x2=y2,v2=x2;function Gf(){}function Jf(){}Jf.resetWarningCache=Gf;var b2=function(){function e(n,s,i,o,l,c){if(c!==v2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Jf,resetWarningCache:Gf};return r.PropTypes=r,r};Kf.exports=b2();var w2=Kf.exports;const ps=ri(w2),Ec=({content:e,className:t=""})=>{if(!e)return null;const r=k2(e);return a.jsx("div",{className:`font-mono text-sm ${t}`,children:r.map((n,s)=>a.jsxs("div",{className:"chord-section mb-6",children:[n.title&&a.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-600 dark:text-blue-400",children:n.title}),a.jsx("div",{className:"chord-section-content pl-0 md:pl-2",children:n.lines.map((i,o)=>i.type==="chord-lyric-pair"?a.jsxs("div",{className:"mb-1",children:[a.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-bold whitespace-pre",children:i.chords}),a.jsx("div",{className:"whitespace-pre text-gray-900 dark:text-gray-100",children:i.lyrics})]},`line-${s}-${o}`):i.content.trim()===""?a.jsx("div",{className:"h-4"},`line-${s}-${o}`):a.jsx("div",{className:"whitespace-pre mb-1 text-gray-900 dark:text-gray-100",children:i.content},`line-${s}-${o}`))})]},`section-${s}`))})};function k2(e){if(!e)return[];const t=e.split(`
`),r=[];let n={lines:[]};for(let s=0;s<t.length;s++){const i=t[s],o=s+1<t.length?t[s+1]:null,l=i.trim().match(/^\[(.*?)\]$/);if(l){n.lines.length>0&&r.push(n),n={title:l[0],lines:[]};continue}_d(i)&&o&&!_d(o)?(n.lines.push({type:"chord-lyric-pair",chords:i,lyrics:o}),s++):n.lines.push({type:"text",content:i})}return n.lines.length>0&&r.push(n),r}function _d(e){if(!e||e.trim()===""||!/\s{2,}/.test(e))return!1;const r=/^[A-G][#b]?(m|maj|min|aug|dim|sus|add|2|4|5|6|7|9|11|13|-|\+|\/)*/,s=e.split(/\s{2,}/).filter(o=>o.trim()!=="");return s.length===0?!1:s.filter(o=>r.test(o.trim())).length>=s.length/2}Ec.propTypes={content:ps.string,className:ps.string};const Qf=({selectedTags:e=[],onChange:t,readOnly:r=!1})=>{const[n,s]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState(!1),[h,g]=p.useState(""),[y,v]=p.useState("#3B82F6");p.useEffect(()=>{(async()=>{try{o(!0);const f=await f2();s(f)}catch(f){console.error("Error loading tags:",f),c("Failed to load tags")}finally{o(!1)}})()},[]);const b=m=>{if(r)return;const f=e.some(w=>w.id===m.id);let x;f?x=e.filter(w=>w.id!==m.id):x=[...e,m],t(x)},k=async m=>{if(m.preventDefault(),!!h.trim())try{o(!0);const f=await m2({name:h.trim(),color:y});s([...n,f]),g(""),v("#3B82F6"),d(!1),t([...e,f])}catch(f){console.error("Error creating tag:",f),c("Failed to create tag")}finally{o(!1)}};return i&&n.length===0?a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading tags..."}):l&&n.length===0?a.jsx("div",{className:"text-red-500 dark:text-red-400 text-sm",children:l}):a.jsxs("div",{className:"song-tags",children:[e.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1 flex items-center",children:[a.jsx(Df,{className:"mr-1"})," Selected Tags:"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(m=>a.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${m.color}20`,color:m.color,borderColor:m.color},children:[m.name,!r&&a.jsx("button",{type:"button",onClick:()=>b(m),className:"ml-1 focus:outline-none",children:a.jsx(It,{size:10})})]},m.id))})]}),!r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Available Tags:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.map(m=>{const f=e.some(x=>x.id===m.id);return a.jsx("button",{type:"button",onClick:()=>b(m),className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-colors ${f?"bg-opacity-80 text-white":"bg-opacity-20"}`,style:{backgroundColor:f?m.color:`${m.color}20`,color:f?"white":m.color},children:m.name},m.id)}),a.jsxs("button",{type:"button",onClick:()=>d(!0),className:`inline-flex items-center px-2 py-1 border border-dashed border-gray-300 dark:border-gray-600 
                         rounded-full text-xs font-medium text-gray-500 dark:text-gray-400 
                         hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500`,children:[a.jsx(Fe,{className:"mr-1",size:10}),"New Tag"]})]})]}),u&&a.jsxs("div",{className:"mt-4 p-3 border border-gray-200 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-700",children:[a.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Create New Tag"}),a.jsxs("form",{onSubmit:k,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagName",className:"block text-xs text-gray-500 dark:text-gray-400",children:"Tag Name"}),a.jsx("input",{type:"text",id:"tagName",value:h,onChange:m=>g(m.target.value),className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-1 px-2 
                             bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                             text-sm focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"Enter tag name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagColor",className:"block text-xs text-gray-500 dark:text-gray-400",children:"Tag Color"}),a.jsxs("div",{className:"flex mt-1",children:[a.jsx("input",{type:"color",id:"tagColor",value:y,onChange:m=>v(m.target.value),className:"h-8 w-8 border border-gray-300 dark:border-gray-600 rounded"}),a.jsx("input",{type:"text",value:y,onChange:m=>v(m.target.value),className:`ml-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-1 px-2 
                               bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                               text-sm focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"#HEX"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:`px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm 
                             text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800
                             hover:bg-gray-50 dark:hover:bg-gray-700 
                             focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400`,children:"Cancel"}),a.jsx("button",{type:"submit",className:`px-3 py-1 border border-transparent rounded-md text-sm text-white 
                             bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600
                             focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400`,disabled:i||!h.trim(),children:"Create"})]})]})]})]})]})},j2=({songId:e,readOnly:t=!1})=>{const[r,n]=p.useState({"chord-charts":[],"sheet-music":[],"backing-tracks":[],"youtube-links":[]}),[s,i]=p.useState(!0),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,h]=p.useState(""),[g,y]=p.useState(!1),v=p.useRef(null),[b,k]=p.useState(null),m=[{value:"chord-charts",label:"Chord Charts",icon:a.jsx(Jn,{})},{value:"sheet-music",label:"Sheet Music",icon:a.jsx(Pt,{})},{value:"backing-tracks",label:"Backing Tracks",icon:a.jsx(hd,{})},{value:"youtube-links",label:"YouTube Links",icon:a.jsx(fo,{})}];p.useEffect(()=>{(async()=>{if(e)try{i(!0);const E=await jd(e);try{const{data:L,error:D}=await A.from("song_youtube_links").select("*").eq("song_id",e);if(D&&D.code==="42P01")console.log("YouTube links table not yet created"),n({...E,"youtube-links":[]});else{if(D)throw D;{const P={...E,"youtube-links":(L||[]).map(_=>({name:_.title||"YouTube Video",url:_.url,id:_.id}))};n(P)}}}catch(L){console.log("Could not fetch YouTube links:",L),n({...E,"youtube-links":[]})}}catch(E){console.error("Error loading attachments:",E),u("Failed to load attachments")}finally{i(!1)}})()},[e]);const f=async O=>{const E=O.target.files[0];if(!(!E||!b))try{l(!0),await g2(e,E,b);const L=await jd(e);n(D=>({...D,...L})),v.current&&(v.current.value="")}catch(L){console.error("Error uploading file:",L),u("Failed to upload file")}finally{l(!1),k(null)}},x=O=>{if(!O)return null;const E=[/(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([^&\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtu\.be\/([^\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([^\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/v\/([^\s?]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/shorts\/([^\s?]+)/];for(const L of E){const D=O.match(L);if(D&&D[1])return D[1].substring(0,11)}return null},w=async()=>{if(!d.trim())return;const O=x(d);if(!O){u("Invalid YouTube URL");return}try{l(!0);let E="YouTube Video";try{const P=await(await fetch(`https://www.youtube.com/oembed?url=${d}&format=json`)).json();P.title&&(E=P.title)}catch{console.log("Could not fetch video title, using default")}const{data:L,error:D}=await A.from("song_youtube_links").insert({song_id:e,url:d,title:E,video_id:O}).select().single();if(D)throw D;n(z=>({...z,"youtube-links":[...z["youtube-links"]||[],{name:E,url:d,id:L.id}]})),h(""),y(!1)}catch(E){console.error("Error adding YouTube link:",E),u("Failed to add YouTube link")}finally{l(!1)}},C=async(O,E,L)=>{try{if(O==="youtube-links"){const{error:D}=await A.from("song_youtube_links").delete().eq("id",L);if(D)throw D}else await p2(e,O,E);n(D=>({...D,[O]:D[O].filter(z=>O==="youtube-links"?z.id!==L:z.name!==E)}))}catch(D){console.error("Error deleting item:",D),u("Failed to delete item")}},N=O=>{if(O==="youtube-links"){y(!0);return}k(O),setTimeout(()=>{v.current&&v.current.click()},100)},S=O=>{switch(O.split(".").pop().toLowerCase()){case"pdf":return a.jsx(Jn,{className:"text-red-500"});case"doc":case"docx":return a.jsx(Jn,{className:"text-blue-500"});case"png":case"jpg":case"jpeg":return a.jsx(Jn,{className:"text-green-500"});case"mp3":case"wav":case"m4a":return a.jsx(hd,{className:"text-purple-500"});default:return a.jsx(Jn,{className:"text-gray-500"})}};if(s)return a.jsx("div",{className:"text-gray-500 text-sm",children:"Loading attachments..."});const T=Object.values(r).some(O=>O&&O.length>0);return a.jsxs("div",{className:"song-attachments",children:[c&&a.jsx("div",{className:"mb-3 text-sm text-red-500",children:c}),a.jsx("input",{type:"file",ref:v,className:"hidden",onChange:f,disabled:o}),g&&a.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(fo,{className:"text-red-600 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Add YouTube Link"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Paste YouTube URL here",value:d,onChange:O=>h(O.target.value),className:"flex-1 p-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:w,disabled:o||!d.trim(),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Add"}),a.jsx("button",{onClick:()=>{y(!1),h("")},className:"px-3 py-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 text-sm rounded-md hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"})]})]})]}),!t&&!g&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Add Attachment:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(O=>a.jsxs("button",{type:"button",onClick:()=>N(O.value),disabled:o,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o&&b===O.value?a.jsx("span",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-gray-500 rounded-full"}):a.jsxs(a.Fragment,{children:[O.icon,a.jsx(Fe,{className:"ml-1 mr-1",size:10})]}),O.label]},O.value))})]}),T?a.jsx("div",{className:"space-y-4",children:m.map(O=>{const E=r[O.value]||[];return E.length===0?null:a.jsxs("div",{className:"attachment-section",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[O.icon,a.jsx("span",{className:"ml-2",children:O.label}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",E.length,")"]})]}),a.jsx("ul",{className:"divide-y divide-gray-200 border border-gray-200 rounded-md overflow-hidden",children:E.map(L=>a.jsxs("li",{className:"px-4 py-3 bg-white flex items-center justify-between hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center",children:[O.value==="youtube-links"?a.jsx(fo,{className:"text-red-600"}):S(L.name),a.jsx("span",{className:"ml-2 text-sm text-gray-600 truncate max-w-xs",children:L.name})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",title:O.value==="youtube-links"?"View on YouTube":"Download",children:O.value==="youtube-links"?a.jsx(bv,{}):a.jsx(fv,{})}),!t&&a.jsx("button",{type:"button",onClick:()=>C(O.value,L.name,L.id),className:"text-red-500 hover:text-red-700",title:"Delete",children:a.jsx(Li,{})})]})]},L.id||L.name))})]},O.value)})}):a.jsxs("div",{className:"text-sm text-gray-500 p-4 bg-gray-50 text-center rounded-md",children:["No attachments available for this song.",!t&&a.jsx("p",{className:"mt-1 text-xs",children:"Use the buttons above to add chord charts, sheet music, backing tracks, or YouTube links."})]})]})},_2=({lyrics:e})=>{const r=(n=>{var l;if(!n)return[];const s=/\[(.*?)\]/g,i=n.split(s).filter(c=>c.trim()),o=[];for(let c=0;c<i.length;c+=2){const u=i[c],d=((l=i[c+1])==null?void 0:l.trim())||"";u&&d?o.push({title:u,content:d}):u&&!d&&o.push({title:"",content:u})}return o})(e);return a.jsx("div",{className:"lyrics-display",children:r.length>0?a.jsx("div",{className:"space-y-6",children:r.map((n,s)=>a.jsxs("div",{className:"verse-container",children:[n.title&&a.jsxs("h3",{className:"text-lg font-semibold mb-2 text-blue-600 dark:text-blue-400",children:["[",n.title,"]"]}),a.jsx("div",{className:"verse-content whitespace-pre-line text-gray-800 dark:text-gray-200 leading-relaxed",children:n.content})]},s))}):a.jsx("div",{className:"text-gray-500 dark:text-gray-400 italic",children:"No lyrics available for this song."})})},N2=()=>{const{id:e}=Vs(),t=Ue(),r=Pr(),n=new URLSearchParams(r.search),s=n.get("serviceKey"),i=n.get("eventId"),o=n.get("eventSongId");n.get("notes");const l=n.get("isDone"),[c,u]=p.useState(null),[d,h]=p.useState(null),[g,y]=p.useState(!0),[v,b]=p.useState(""),[k,m]=p.useState(""),[f,x]=p.useState(null),[w,C]=p.useState("song"),[N,S]=p.useState(!1),[T,O]=p.useState(!1),[E,L]=p.useState(!1),[D,z]=p.useState(!1),[P,_]=p.useState(l==="true"),[R,I]=p.useState("text-base"),j=Hf(),M=[{value:"text-sm",label:"Small"},{value:"text-base",label:"Medium"},{value:"text-lg",label:"Large"},{value:"text-xl",label:"Extra Large"}];p.useEffect(()=>{(async()=>{if(i)try{const{data:K,error:te}=await A.from("events").select("title, start_time").eq("id",i).single();if(te)throw te;h(K)}catch(K){console.error("Error fetching service details:",K)}})()},[i]),p.useEffect(()=>{(async()=>{try{y(!0);const K=await Wf(e);u(K);const te=s||K.default_key||"C";if(b(te),s&&K.default_key&&s!==K.default_key&&K.chords){const ke=K.chords.split(`
`).map(yt=>kd(yt,K.default_key,s)).join(`
`);m(ke)}else m(K.chords||"")}catch(K){console.error("Error fetching song:",K),x("Could not load the song. Please try again.")}finally{y(!1)}})()},[e,s]);const $=q=>{if(!c||!c.chords)return;const K=c.default_key||"C";if(q===K){m(c.chords),b(q);return}const be=c.chords.split(`
`).map(ke=>kd(ke,K,q)).join(`
`);m(be),b(q)},F=()=>{t(i?`/services/${i}`:"/songs")},H=async()=>{if(!(!o||!i))try{z(!0),_(q=>!q);try{const{error:q}=await A.from("event_songs").update({is_done:!P}).eq("id",o);if(q)throw console.log("Could not update is_done in database:",q),q;t(`/services/${i}`)}catch(q){throw console.log("Error updating is_done field:",q),_(K=>!K),q}}catch(q){console.error("Error updating song status:",q),alert("Failed to update song status. Please try again.")}finally{z(!1)}};return g?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("p",{className:"text-red-500 dark:text-red-400",children:f}),a.jsxs("button",{onClick:F,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",children:[a.jsx(ms,{className:"mr-2"})," Back"]})]}):c?a.jsxs("div",{className:"pb-[100px] flex flex-col min-h-screen bg-white dark:bg-gray-800 px-4 md:px-6",children:[a.jsxs("div",{className:"py-2 border-b border-gray-200 dark:border-gray-700 flex justify-between",children:[a.jsxs("button",{onClick:F,className:"text-gray-600 dark:text-gray-400 flex items-center","aria-label":"Back",children:[a.jsx(ms,{className:"mr-2"}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Back to ",i?"Service":"Songs"]})]}),a.jsxs(ie,{to:`/songs/edit/${e}`,className:"text-blue-600 dark:text-blue-400 flex items-center","aria-label":"Edit Song",children:[a.jsx(Fn,{className:"mr-2"}),a.jsx("span",{className:"text-sm",children:"Edit Song"})]})]}),a.jsx("div",{className:"py-3 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.title})}),d&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900 py-2 border-b border-blue-100 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx(ov,{className:"text-blue-500 mr-2"}),a.jsx("span",{className:"dark:text-blue-200",children:"Viewing for service: "}),a.jsx("span",{className:"text-blue-600 dark:text-blue-400 ml-1 font-medium",children:d.title})]})}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"flex",children:[a.jsxs("button",{onClick:()=>C("song"),className:`flex-1 py-2 text-center border-b-2 font-medium text-sm ${w==="song"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400"}`,"aria-pressed":w==="song",children:[a.jsx(Pt,{className:"inline mr-1"}),"Song"]}),a.jsxs("button",{onClick:()=>C("attachments"),className:`flex-1 py-2 text-center border-b-2 font-medium text-sm ${w==="attachments"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400"}`,"aria-pressed":w==="attachments",children:[a.jsx(_v,{className:"inline mr-1"}),"Attachments"]})]})}),w==="song"?a.jsxs("div",{className:"flex-1",children:[c.chords&&a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center py-3",children:[a.jsxs("h2",{className:"text-base font-medium flex items-center text-gray-900 dark:text-white",children:[a.jsx(Pt,{className:"mr-2"}),"Chord Chart"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>L(!E),className:"text-blue-600 dark:text-blue-400 text-sm","aria-expanded":E,children:[a.jsx(xv,{className:"inline mr-1"}),"Font Size"]}),a.jsxs("button",{onClick:()=>O(!T),className:"text-blue-600 dark:text-blue-400 text-sm","aria-expanded":T,children:[a.jsx(gv,{className:"inline mr-1"}),"Transpose"]})]})]}),E&&a.jsx("div",{className:"py-3 bg-gray-50 dark:bg-gray-700 border-y border-gray-200 dark:border-gray-600",children:a.jsx("div",{className:"flex justify-between items-center px-2",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fontSizeSelect",className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Font Size:"}),a.jsx("select",{id:"fontSizeSelect",value:R,onChange:q=>I(q.target.value),className:"w-32 px-1 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:M.map(q=>a.jsx("option",{value:q.value,children:q.label},q.value))})]})})}),T&&a.jsx("div",{className:"py-3 bg-gray-50 dark:bg-gray-700 border-y border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex justify-between items-center px-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"keySelect",className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Transpose to:"}),a.jsx("select",{id:"keySelect",value:v,onChange:q=>$(q.target.value),className:"w-20 px-1 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:j.map(q=>a.jsx("option",{value:q,children:q},q))})]}),a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{children:["Original Key: ",a.jsx("span",{className:"font-medium",children:c.default_key||"Not set"})]}),v!==c.default_key&&a.jsx("button",{onClick:()=>$(c.default_key),className:"text-blue-600 dark:text-blue-400 underline",children:"Reset"})]})]})}),a.jsx("div",{className:"py-3 overflow-x-auto whitespace-nowrap",children:a.jsx(Ec,{content:k,className:R})})]}),c.lyrics&&a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-base font-medium py-3 border-b border-gray-200 dark:border-gray-700 dark:text-white",children:"Lyrics"}),a.jsx("div",{className:`py-3 ${R}`,children:a.jsx(_2,{lyrics:c.lyrics})})]}),a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("button",{onClick:()=>S(!N),className:"flex w-full items-center justify-between py-3 text-left text-gray-900 dark:text-gray-100","aria-expanded":N,children:[a.jsx("span",{className:"font-medium",children:"Song Information"}),N?a.jsx(uv,{}):a.jsx(cv,{})]}),N&&a.jsxs("div",{className:"py-3 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Artist"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.artist||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Original Key"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.default_key||"Not specified"})]}),c.tempo&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Tempo"}),a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[c.tempo," BPM"]})]})]}),c.tags&&c.tags.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Tags"}),a.jsx(Qf,{selectedTags:c.tags,readOnly:!0})]})]})]}),c.notes&&a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-base font-medium py-3 border-b border-gray-200 dark:border-gray-700 dark:text-white",children:"Notes"}),a.jsx("div",{className:`py-3 break-words text-gray-900 dark:text-gray-100 ${R}`,children:c.notes.split(`
`).map((q,K)=>a.jsx("div",{children:q||a.jsx("br",{})},K))})]})]}):a.jsx("div",{className:"py-3",children:a.jsx(j2,{songId:e})}),i&&o&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 flex justify-center z-20 mb-4",children:a.jsxs("button",{onClick:H,disabled:D,className:`flex items-center justify-center px-4 py-2 
                      ${P?"bg-gray-500 dark:bg-gray-600 hover:bg-gray-600 dark:hover:bg-gray-700":"bg-green-500 dark:bg-green-600 hover:bg-green-600 dark:hover:bg-green-700"} 
                      text-white font-medium rounded-full shadow-md transition-colors text-sm`,children:[a.jsx(kn,{className:"mr-2"}),"Mark as ",P?"Not Done":"Done"]})})]}):a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("p",{className:"dark:text-white",children:"Song not found."}),a.jsxs("button",{onClick:F,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",children:[a.jsx(ms,{className:"mr-2"})," Back"]})]})},Xf=({value:e,onChange:t,rows:r=10})=>{const[n,s]=p.useState(!1),[i,o]=p.useState(!1),l=["C","G","D","A","E","F","Am","Em","Dm","G7","C7","D7","Cmaj7","Fmaj7","Gsus4"],c=`[Verse 1]
C        G        Am       F
Here are some example chords above lyrics
C             G              Am  F
Words should be aligned with the chords above

[Chorus]
F         G       C
This is how a chorus might look
F         G       Am      G
With more chords and lyrics here

[Bridge]
Am   G   F   C
Simple progression
`,u=g=>{if(!e)t(g+"  ");else{const y=document.getElementById("chord-editor").selectionStart,v=e.substring(0,y),b=e.substring(y);t(v+g+"  "+b),o(!0)}},d=g=>{const y=`
[${g}]
`;if(!e)t(y);else{const v=document.getElementById("chord-editor").selectionStart,b=e.substring(0,v),k=e.substring(v);t(b+y+k)}o(!0)},h=g=>{t(g.target.value),i||o(!0)};return p.useEffect(()=>{},[e,i]),a.jsxs("div",{className:"chord-editor-container",children:[a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Quick Insert Chords:"}),a.jsxs("button",{type:"button",onClick:()=>s(!n),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm flex items-center",children:[a.jsx(Nv,{className:"mr-1"}),n?"Hide Help":"Show Help"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:l.map(g=>a.jsx("button",{type:"button",onClick:()=>u(g),className:`inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 
                       text-xs font-medium rounded shadow-sm text-gray-700 dark:text-gray-200 
                       bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 
                       focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400`,children:g},g))})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add Section:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:["Verse","Chorus","Bridge","Intro","Outro","Pre-Chorus"].map(g=>a.jsxs("button",{type:"button",onClick:()=>d(g),className:`inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 
                       text-xs font-medium rounded shadow-sm text-gray-700 dark:text-gray-200 
                       bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 
                       focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400`,children:[a.jsx(Fe,{className:"mr-1 h-3 w-3"}),g]},g))})]}),n&&a.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-800 rounded-md",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Chord Chart Formatting Help"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mb-2",children:"Format your chord chart by placing chords above lyrics with spaces between them. Use section markers like [Verse] or [Chorus] to organize your song."}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded text-xs font-mono",children:a.jsx("pre",{className:"whitespace-pre-wrap text-gray-900 dark:text-gray-200",children:c})}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-2",children:"Tip: Make sure to keep chord names short (C, G, Am, etc.) and use spaces to align them with lyrics."})]}),a.jsx("textarea",{id:"chord-editor",value:e,onChange:h,rows:r,className:`block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                 bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 
                 sm:text-sm font-mono`,placeholder:"Enter chords here..."}),a.jsx("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Use monospaced formatting for chords. Press Tab for indentation."})]})};Xf.propTypes={value:ps.string,onChange:ps.func.isRequired,rows:ps.number};const Nd=()=>{const e=Ue(),{id:t}=Vs(),r=!!t,[n,s]=p.useState(!1),[i,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState({title:"",artist:"",default_key:"C",tempo:"",lyrics:"",chords:"",notes:"",tags:[]}),[h,g]=p.useState(!1),[y,v]=p.useState({}),b=Hf();p.useEffect(()=>{r&&k()},[t]);const k=async()=>{try{s(!0);const T=await Wf(t);d({title:T.title||"",artist:T.artist||"",default_key:T.default_key||"C",tempo:T.tempo||"",lyrics:T.lyrics||"",chords:T.chords||"",notes:T.notes||"",tags:T.tags||[]}),T.chords&&g(!0)}catch(T){console.error("Error fetching song:",T),c("Could not load the song. Please try again.")}finally{s(!1)}},m=()=>{const T={};return u.title.trim()||(T.title="Song title is required"),u.chords&&!u.default_key&&(T.default_key="Default key is required when providing chords"),u.tempo&&(isNaN(u.tempo)||u.tempo<20||u.tempo>300)&&(T.tempo="Tempo must be a number between 20 and 300"),v(T),Object.keys(T).length===0},f=T=>{const{name:O,value:E}=T.target;d(L=>({...L,[O]:E})),y[O]&&v(L=>{const D={...L};return delete D[O],D})},x=T=>{d(O=>({...O,chords:T}))},w=T=>{d(O=>({...O,tags:T}))},C=()=>{g(!h)},N=async T=>{if(T.preventDefault(),!!m())try{o(!0);const O={...u,tempo:u.tempo===""?null:Number(u.tempo)};if(r)await d2(t,O),e(`/songs/${t}`);else{const E=await u2(O);e(`/songs/${E.id}`)}}catch(O){console.error("Error saving song:",O),c(O.message||"Failed to save the song. Please try again.")}finally{o(!1)}},S=async()=>{if(!(!r||!window.confirm("Are you sure you want to delete this song? This action cannot be undone.")))try{o(!0),await h2(t),e("/songs")}catch(O){console.error("Error deleting song:",O),c("Failed to delete the song. Please try again.")}finally{o(!1)}};return n?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>e(r?`/songs/${t}`:"/songs"),className:"inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300",children:[a.jsx(ms,{className:"mr-1"})," Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-center flex-1 mx-4 text-gray-900 dark:text-white",children:r?"Edit Song":"Add New Song"}),r&&a.jsx("button",{onClick:S,className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Delete song",disabled:i,children:a.jsx(Li,{size:20})})]}),l&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 dark:border-red-700 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Lf,{className:"h-5 w-5 text-red-400 dark:text-red-300"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:l})})]})}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:f,className:`mt-1 block w-full border ${y.title?"border-red-300 dark:border-red-700":"border-gray-300 dark:border-gray-600"} 
                          rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                          focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`}),y.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.title})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"artist",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Artist / Composer"}),a.jsx("input",{type:"text",id:"artist",name:"artist",value:u.artist,onChange:f,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                         focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"default_key",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Default Key ",u.chords&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"default_key",name:"default_key",value:u.default_key,onChange:f,className:`mt-1 block w-full pl-3 pr-10 py-2 text-base border 
                          ${y.default_key?"border-red-300 dark:border-red-700":"border-gray-300 dark:border-gray-600"} 
                          bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                          focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm rounded-md`,children:[a.jsx("option",{value:"",children:"Select a key"}),b.map(T=>a.jsx("option",{value:T,children:T},T))]}),y.default_key&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.default_key})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tempo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tempo (BPM)"}),a.jsx("input",{type:"number",id:"tempo",name:"tempo",value:u.tempo,onChange:f,min:"20",max:"300",className:`mt-1 block w-full border 
                          ${y.tempo?"border-red-300 dark:border-red-700":"border-gray-300 dark:border-gray-600"} 
                          rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                          focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`}),y.tempo?a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.tempo}):a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Typical range: 60-180 BPM"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Tags"}),a.jsx(Qf,{selectedTags:u.tags,onChange:w})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Chord Chart"}),u.chords&&a.jsx("button",{type:"button",onClick:C,className:"inline-flex items-center text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:h?a.jsxs(a.Fragment,{children:[a.jsx(pv,{className:"mr-1"})," Hide Preview"]}):a.jsxs(a.Fragment,{children:[a.jsx(_c,{className:"mr-1"})," Show Preview"]})})]}),h&&u.chords&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Preview:"}),a.jsx(Ec,{content:u.chords})]}),a.jsx(Xf,{value:u.chords,onChange:x,rows:10})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Lyrics"}),a.jsx("textarea",{id:"lyrics",name:"lyrics",value:u.lyrics,onChange:f,rows:15,className:`block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                     bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                     focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`,placeholder:"Enter lyrics here..."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Tip: Include section markers like [Verse], [Chorus], etc. for better organization."})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Additional Notes"}),a.jsx("textarea",{id:"notes",name:"notes",value:u.notes,onChange:f,rows:4,className:`block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                     bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                     focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`,placeholder:"Enter any additional notes, performance instructions, etc."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Include notes about song structure, performance tips, or arrangement details."})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:i,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md 
                     shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50`,children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Sc,{className:"mr-2"})," Save Song"]})})})]})]})},S2=()=>{const{id:e}=Vs(),t=Ue(),[r,n]=p.useState(null),[s,i]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(""),[d,h]=p.useState(""),[g,y]=p.useState(!1),[v,b]=p.useState(null),[k,m]=p.useState(new Set);p.useEffect(()=>{(async()=>{try{l(!0);const{data:S,error:T}=await A.from("events").select("*").eq("id",e).single();if(T)throw T;if(n(S),S!=null&&S.church_id){const{data:L,error:D}=await A.from("churches").select("name").eq("id",S.church_id).single();!D&&L&&u(L.name)}if(S!=null&&S.team_id){const{data:L,error:D}=await A.from("worship_teams").select("name").eq("id",S.team_id).single();!D&&L&&h(L.name)}const{data:O,error:E}=await A.from("event_songs").select(`
            id,
            song_order,
            key,
            notes,
            is_done,
            songs (
              id,
              title,
              artist,
              default_key
            )
          `).eq("event_id",e).order("song_order");if(E)throw console.error("Error fetching songs:",E),E;if(console.log("Songs data:",O),O){try{if(O.some(D=>"is_done"in D)){const D=new Set(O.filter(z=>z.is_done).map(z=>z.id));m(D)}}catch{console.log("No is_done field yet, using local state only")}i(O)}else i([])}catch(S){console.error("Error fetching service details:",S)}finally{l(!1)}})()},[e]);const f=N=>{if(!v)try{const S=s.find(O=>O.id===N);if(!S)return;const T=k.has(N);t(`/songs/${S.songs.id}?serviceKey=${encodeURIComponent(S.key||S.songs.default_key)}&eventId=${e}&eventSongId=${N}&notes=${encodeURIComponent(S.notes||"")}&isDone=${T}`)}catch(S){console.error("Error navigating to song details:",S),alert("Could not navigate to song details. Please try again.")}},x=()=>{t(`/services/edit/${e}`)},w=async(N,S)=>{S&&S.stopPropagation();try{b(N),m(T=>{const O=new Set(T);return O.has(N)?O.delete(N):O.add(N),O});try{const{error:T}=await A.from("event_songs").update({is_done:!k.has(N)}).eq("id",N);T&&console.log("Could not update is_done in database:",T)}catch(T){console.log("Error updating is_done field:",T)}}catch(T){console.error("Error updating song status:",T),alert("Failed to update song status. Please try again."),m(O=>{const E=new Set(O);return E.has(N)?E.delete(N):E.add(N),E})}finally{b(null)}},C=async()=>{if(window.confirm("Are you sure you want to delete this service? This action cannot be undone."))try{y(!0);const{error:N}=await A.from("event_songs").delete().eq("event_id",e);if(N)throw N;const{error:S}=await A.from("events").delete().eq("id",e);if(S)throw S;t("/calendar")}catch(N){console.error("Error deleting service:",N),alert("Error deleting service. Please try again.")}finally{y(!1)}};return o?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?a.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:x,className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 rounded-full",title:"Edit service",children:a.jsx(Fn,{size:20})}),a.jsx("button",{onClick:C,disabled:g,className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 rounded-full disabled:opacity-50",title:"Delete service",children:a.jsx(Li,{size:20})})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"space-y-4",children:[r.description&&a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.description}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Xt,{className:"mt-1 text-gray-500 dark:text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:fe(r.start_time).format("dddd, MMMM D, YYYY")}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:[a.jsx(dv,{className:"mr-1"}),fe(r.start_time).format("h:mm A")," - ",fe(r.end_time).format("h:mm A")]})]})]}),r.location&&a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(wv,{className:"mt-1 text-gray-500 dark:text-gray-400"}),a.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:r.location})]}),c&&a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Zt,{className:"mt-1 text-gray-500 dark:text-gray-400"}),a.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:c})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[a.jsx(Pt,{className:"mr-2"})," Service Songs"]}),s.length===0?a.jsx("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No songs have been added to this service."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 text-sm text-gray-600 dark:text-gray-400",children:["Total songs: ",s.length]}),a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map(N=>{var T,O;const S=k.has(N.id);return a.jsx("li",{className:`py-4 ${S?"bg-green-800 dark:bg-green-950 bg-opacity-10 dark:bg-opacity-20":""} hover:bg-gray-50 dark:hover:bg-gray-700`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"h-8 w-8 flex items-center justify-center bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-full mr-3 font-medium",children:N.song_order}),a.jsx("div",{className:"flex-grow cursor-pointer",onClick:()=>f(N.id),children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`font-medium ${S?"line-through text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-gray-100"}`,children:((T=N.songs)==null?void 0:T.title)||"Unknown Title"}),((O=N.songs)==null?void 0:O.artist)&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:N.songs.artist}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[N.key&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",children:["Key: ",N.key]}),N.notes&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300",children:["Notes: ",N.notes]}),S&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300",children:[a.jsx(kn,{className:"mr-1",size:10})," Completed"]})]})]}),a.jsx("button",{onClick:E=>w(N.id,E),disabled:v===N.id,className:`ml-2 p-2 rounded-full ${S?"text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900":"text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"} 
                            ${v===N.id?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,title:S?"Mark as incomplete":"Mark as complete",children:v===N.id?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-green-500 rounded-full border-t-transparent"}):S?a.jsx(lv,{size:20}):a.jsx(Ev,{size:20})})]})})]})},N.id)})})]})]})]}):a.jsxs("div",{className:"max-w-3xl mx-auto p-4 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Service Not Found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The service you're looking for doesn't exist or has been deleted."}),a.jsx("button",{onClick:()=>t("/calendar"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Calendar"})]})},C2=({selectedSongs:e=[],onSongsChange:t,churchId:r})=>{const[n,s]=p.useState([]),[i,o]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState(!1);p.useEffect(()=>{(async()=>{if(r)try{o(!0);const{data:x,error:w}=await A.from("songs").select("id, title, artist, default_key").eq("church_id",r).order("title");if(w)throw w;s(x||[])}catch(x){console.error("Error fetching songs:",x)}finally{o(!1)}})()},[r]);const h=n.filter(f=>!e.some(x=>x.songId===f.id)),g=h.filter(f=>f.title.toLowerCase().includes(l.toLowerCase())||f.artist&&f.artist.toLowerCase().includes(l.toLowerCase())),y=f=>{const x={songId:f.id,title:f.title,artist:f.artist,key:f.default_key||"",notes:"",order:e.length+1};t([...e,x]),c(""),d(!1)},v=f=>{const x=[...e];x.splice(f,1);const w=x.map((C,N)=>({...C,order:N+1}));t(w)},b=(f,x)=>{if(x==="up"&&f===0||x==="down"&&f===e.length-1)return;const w=[...e],C=x==="up"?f-1:f+1;[w[f],w[C]]=[w[C],w[f]];const N=w.map((S,T)=>({...S,order:T+1}));t(N)},k=(f,x)=>{const w=[...e];w[f].key=x,t(w)},m=(f,x)=>{const w=[...e];w[f].notes=x,t(w)};return a.jsxs("div",{children:[e.length>0?a.jsx("div",{className:"space-y-4 mb-4",children:e.map((f,x)=>a.jsxs("div",{className:"border rounded-md p-3 bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-medium dark:text-white",children:[x+1,". ",f.title]}),f.artist&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.artist})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{type:"button",onClick:()=>b(x,"up"),disabled:x===0,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-30 disabled:cursor-not-allowed dark:text-gray-300",title:"Move up",children:a.jsx(sv,{size:14})}),a.jsx("button",{type:"button",onClick:()=>b(x,"down"),disabled:x===e.length-1,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-30 disabled:cursor-not-allowed dark:text-gray-300",title:"Move down",children:a.jsx(nv,{size:14})}),a.jsx("button",{type:"button",onClick:()=>v(x),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-500 dark:text-red-400",title:"Remove song",children:a.jsx(It,{size:14})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Performance Key"}),a.jsx("input",{type:"text",value:f.key||"",onChange:w=>k(x,w.target.value),className:`mt-1 block w-full text-sm border border-gray-300 dark:border-gray-600 
                               rounded-md shadow-sm p-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                               focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Performance Notes"}),a.jsx("input",{type:"text",value:f.notes||"",onChange:w=>m(x,w.target.value),className:`mt-1 block w-full text-sm border border-gray-300 dark:border-gray-600 
                               rounded-md shadow-sm p-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                               focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"Notes"})]})]})]},x))}):a.jsxs("div",{className:"text-center py-8 border-2 border-dashed rounded-md mb-4 dark:border-gray-600",children:[a.jsx(Pt,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No songs added"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Add songs to your service from your song library"})]}),u?a.jsxs("div",{className:"space-y-3 border p-3 rounded-md dark:border-gray-600 dark:bg-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-medium dark:text-white",children:"Add Song to Service"}),a.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:a.jsx(It,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx($i,{className:"text-gray-400 dark:text-gray-500"})}),a.jsx("input",{type:"text",className:`block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 
                         rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                         placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-blue-500 
                         focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`,placeholder:"Search songs by title or artist...",value:l,onChange:f=>c(f.target.value)})]}),i&&a.jsx("div",{className:"flex justify-center py-5",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}),!i&&a.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md dark:border-gray-600",children:g.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:h.length===0?"No songs available. Add songs to your library first.":"No songs matching your search criteria."}):a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:g.map(f=>a.jsx("li",{className:"px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",onClick:()=>y(f),children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium dark:text-white",children:f.title}),f.artist&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.artist})]})},f.id))})})]}):a.jsxs("button",{type:"button",onClick:()=>d(!0),disabled:!r,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md 
                     shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50`,children:[a.jsx(Fe,{className:"mr-2"})," Add Song"]})]})},Sd=()=>{const e=Ue(),{id:t}=Vs(),{user:r}=We(),n=!!t,[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState([]),[d,h]=p.useState([]),[g,y]=p.useState([]),[v,b]=p.useState([]),[k,m]=p.useState(null),f=fe(),x=`Service - ${f.format("MMMM D, YYYY")}`,w=f.format("YYYY-MM-DD"),[C,N]=p.useState({title:x,description:"",start_time:`${w}T09:00`,end_time:`${w}T10:30`,service_date:w,location:"Church",church_id:"",team_id:null,event_type:"service",created_by:r==null?void 0:r.id});p.useEffect(()=>{if(C.service_date&&!n){const L=fe(C.service_date);N(D=>({...D,title:`Service - ${L.format("MMMM D, YYYY")}`,start_time:`${C.service_date}T09:00`,end_time:`${C.service_date}T10:30`}))}},[C.service_date,n]),p.useEffect(()=>{(async()=>{try{i(!0);const{data:D,error:z}=await A.from("churches").select("id, name");if(z)throw z;if(u(D||[]),C.church_id){const{data:P,error:_}=await A.from("worship_teams").select("id, name, description").eq("church_id",C.church_id);if(_)throw _;h(P||[])}if(n){const{data:P,error:_}=await A.from("events").select("*").eq("id",t).single();if(_)throw _;if(P){const R=fe(P.start_time).format("YYYY-MM-DD");N({...P,start_time:fe(P.start_time).format("YYYY-MM-DDTHH:mm"),end_time:fe(P.end_time).format("YYYY-MM-DDTHH:mm"),service_date:R});const{data:I,error:j}=await A.from("event_songs").select("id, song_id, song_order, key, notes, songs(id, title, artist, default_key)").eq("event_id",t).order("song_order");if(j)throw j;I&&y(I.map(M=>{var $,F,H;return{id:M.id,songId:M.song_id,order:M.song_order,key:M.key||(($=M.songs)==null?void 0:$.default_key)||"",notes:M.notes||"",title:((F=M.songs)==null?void 0:F.title)||"",artist:((H=M.songs)==null?void 0:H.artist)||""}}))}}}catch(D){console.error("Error fetching data:",D),m("Error loading data. Please try again.")}finally{i(!1)}})()},[t,n,r]);const S=L=>{const{name:D,value:z}=L.target;if(D==="church_id"||D==="team_id"){const P=z===""?null:z;N(_=>({..._,[D]:P})),D==="church_id"&&(T(P),N(_=>({..._,team_id:null})))}else N(P=>({...P,[D]:z}))},T=async L=>{if(!L){h([]);return}try{const{data:D,error:z}=await A.from("worship_teams").select("id, name, description").eq("church_id",L);if(z)throw z;h(D||[])}catch(D){console.error("Error fetching teams:",D),m("Error loading teams. Please try again.")}},O=L=>{y(L)},E=async L=>{L.preventDefault();try{if(l(!0),m(null),!C.church_id){m("Please select a church"),l(!1);return}const D={...C,start_time:fe(C.start_time).toISOString(),end_time:fe(C.end_time).toISOString(),created_by:r.id,team_id:C.team_id||null,church_id:C.church_id||null};delete D.service_date,console.log("Submitting service data:",D);let z=t;if(n){const{error:P}=await A.from("events").update(D).eq("id",t);if(P)throw console.error("Error updating service:",P),P}else{const{data:P,error:_}=await A.from("events").insert(D).select("id").single();if(_)throw console.error("Error creating service:",_),_;if(!P||!P.id)throw new Error("No service ID returned from creation");z=P.id}if(z){console.log("Service ID for songs and team members:",z);try{if(n){const{error:P}=await A.from("event_songs").delete().eq("event_id",z);if(P)throw console.error("Error deleting songs:",P),P}if(g.length>0){const P=g.map(R=>({event_id:z,song_id:R.songId,song_order:R.order,key:R.key||null,notes:R.notes||null}));console.log("Inserting songs:",P);const{error:_}=await A.from("event_songs").insert(P);if(_)throw console.error("Error inserting songs:",_),_}}catch(P){throw console.error("Error handling songs:",P),P}if(v.length>0){if(console.log("Saving team member assignments:",v),n){const P=v.filter(_=>_.id).map(_=>_.id);if(P.length>0){const{error:_}=await A.from("service_team_members").delete().eq("event_id",z).not("id","in",`(${P.join(",")})`);if(_)throw console.error("Error deleting team members:",_),_}else{const{error:_}=await A.from("service_team_members").delete().eq("event_id",z);if(_)throw console.error("Error deleting all team members:",_),_}}for(const P of v)if(P.id){const{error:_}=await A.from("service_team_members").update({role:P.role,notes:P.notes,is_confirmed:P.isConfirmed}).eq("id",P.id);if(_)throw console.error("Error updating team member:",_),_}else{const _={event_id:z,user_id:P.userId,role:P.role,notes:P.notes,is_confirmed:P.isConfirmed||!1};console.log("Adding new team member to service:",_);const{error:R}=await A.from("service_team_members").insert(_);if(R)throw console.error("Error adding team member:",R),R}}}else throw new Error("Failed to get a valid service ID");e("/calendar")}catch(D){console.error("Error saving service:",D),m(`Error saving service: ${D.message||"Please try again"}`)}finally{l(!1)}};return s?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"max-w-3xl mx-auto p-4 mb-20",children:[" ",a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:n?"Edit Service":"Create New Service"}),k&&a.jsx("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded mb-4",children:a.jsx("p",{children:k})}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4 mb-4",children:[" ",a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[" ",a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[a.jsx(Xt,{className:"inline mr-1"})," Service Date*"]}),a.jsx("input",{type:"date",id:"service_date",name:"service_date",required:!0,value:C.service_date,onChange:S,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                         focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"church_id",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Church*"}),a.jsxs("select",{id:"church_id",name:"church_id",required:!0,value:C.church_id||"",onChange:S,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                         focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,children:[a.jsx("option",{value:"",children:"Select Church"}),c.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Service Title*"}),a.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:C.title,onChange:S,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                       focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`})]})]}),C.church_id&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4 mb-8",children:[" ",a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Service Songs"}),a.jsx(C2,{selectedSongs:g,onSongsChange:O,churchId:C.church_id})]}),a.jsxs("div",{className:"flex justify-center mb-16",children:[" ",a.jsx("button",{type:"submit",disabled:o,className:`px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white 
                     bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600 
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                     disabled:opacity-50`,children:o?"Saving...":n?"Update Service":"Create Service"})]})]})]})};function Cd(){return a.jsx(Z1,{children:a.jsx(ev,{children:a.jsx(X1,{children:a.jsx(Cy,{children:a.jsxs(vy,{children:[a.jsx(he,{path:"/login",element:a.jsx(Mv,{})}),a.jsx(he,{path:"/register",element:a.jsx(Dv,{})}),a.jsx(he,{path:"/forgot-password",element:a.jsx(Iv,{})}),a.jsx(he,{path:"/reset-password",element:a.jsx(zv,{})}),a.jsx(he,{path:"/verify-email",element:a.jsx(Fv,{})}),a.jsx(he,{path:"/auth/callback",element:a.jsx(Uv,{})}),a.jsxs(he,{element:a.jsx(Av,{}),children:[a.jsx(he,{path:"/dashboard",element:a.jsx(Jv,{})}),a.jsx(he,{path:"/calendar",element:a.jsx(Qv,{})}),a.jsx(he,{path:"/songs",element:a.jsx(Xv,{})}),a.jsx(he,{path:"/songs/:id",element:a.jsx(N2,{})}),a.jsx(he,{path:"/songs/new",element:a.jsx(Nd,{})}),a.jsx(he,{path:"/songs/edit/:id",element:a.jsx(Nd,{})}),a.jsx(he,{path:"/services",element:a.jsx(Zv,{})}),a.jsx(he,{path:"/services/:id",element:a.jsx(S2,{})}),a.jsx(he,{path:"/services/new",element:a.jsx(Sd,{})}),a.jsx(he,{path:"/services/edit/:id",element:a.jsx(Sd,{})}),a.jsx(he,{path:"/profile",element:a.jsx(wd,{})}),a.jsx(he,{path:"/profile/:userId",element:a.jsx(wd,{})}),a.jsx(he,{path:"/prayer-requests",element:a.jsx(a2,{})}),a.jsx(he,{path:"/churches",element:a.jsx(i2,{})})]}),a.jsx(he,{path:"/",element:a.jsx(G0,{to:"/dashboard",replace:!0})}),a.jsx(he,{path:"*",element:a.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white dark:bg-gray-900 dark:text-white",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"404 - Page Not Found"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"The page you're looking for doesn't exist."}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"The server is configured with a public base URL of '/church-connect/'"}),a.jsx("button",{onClick:()=>window.location.pathname=ur(window.location.pathname.replace(/^\//,"")),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go to Correct URL"}),a.jsx("button",{onClick:()=>window.history.back(),className:"block w-full mt-2 px-4 py-2 bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:"Go Back"})]})]})})]})})})})})}kf()?(console.log("Auth parameters detected in URL, redirecting to proper auth callback..."),ld()||Ca.createRoot(document.getElementById("root")).render(a.jsx(At.StrictMode,{children:a.jsx(Cd,{})}))):ld()||Ca.createRoot(document.getElementById("root")).render(a.jsx(At.StrictMode,{children:a.jsx(Cd,{})}));export{ri as g};

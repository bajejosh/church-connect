function U0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ka(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var yd={exports:{}},Ga={},xd={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=Symbol.for("react.element"),V0=Symbol.for("react.portal"),H0=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),Y0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),Q0=Symbol.for("react.memo"),X0=Symbol.for("react.lazy"),wc=Symbol.iterator;function Z0(e){return e===null||typeof e!="object"?null:(e=wc&&e[wc]||e["@@iterator"],typeof e=="function"?e:null)}var vd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bd=Object.assign,wd={};function Sn(e,t,r){this.props=e,this.context=t,this.refs=wd,this.updater=r||vd}Sn.prototype.isReactComponent={};Sn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kd(){}kd.prototype=Sn.prototype;function hl(e,t,r){this.props=e,this.context=t,this.refs=wd,this.updater=r||vd}var fl=hl.prototype=new kd;fl.constructor=hl;bd(fl,Sn.prototype);fl.isPureReactComponent=!0;var kc=Array.isArray,jd=Object.prototype.hasOwnProperty,ml={current:null},_d={key:!0,ref:!0,__self:!0,__source:!0};function Nd(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)jd.call(t,n)&&!_d.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ts,type:e,key:i,ref:o,props:s,_owner:ml.current}}function em(e,t){return{$$typeof:Ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ts}function tm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jc=/\/+/g;function Ni(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tm(""+e.key):t.toString(36)}function oa(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ts:case V0:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ni(o,0):n,kc(s)?(r="",e!=null&&(r=e.replace(jc,"$&/")+"/"),oa(s,t,r,"",function(u){return u})):s!=null&&(gl(s)&&(s=em(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",kc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ni(i,l);o+=oa(i,t,r,c,s)}else if(c=Z0(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ni(i,l++),o+=oa(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Is(e,t,r){if(e==null)return e;var n=[],s=0;return oa(e,n,"","",function(i){return t.call(r,i,s++)}),n}function rm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},la={transition:null},nm={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:la,ReactCurrentOwner:ml};function Sd(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Is,forEach:function(e,t,r){Is(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Is(e,function(){t++}),t},toArray:function(e){return Is(e,function(t){return t})||[]},only:function(e){if(!gl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Sn;Z.Fragment=H0;Z.Profiler=W0;Z.PureComponent=hl;Z.StrictMode=q0;Z.Suspense=J0;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nm;Z.act=Sd;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=bd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ml.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)jd.call(t,c)&&!_d.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ts,type:e.type,key:s,ref:i,props:n,_owner:o}};Z.createContext=function(e){return e={$$typeof:K0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Y0,_context:e},e.Consumer=e};Z.createElement=Nd;Z.createFactory=function(e){var t=Nd.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:G0,render:e}};Z.isValidElement=gl;Z.lazy=function(e){return{$$typeof:X0,_payload:{_status:-1,_result:e},_init:rm}};Z.memo=function(e,t){return{$$typeof:Q0,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=la.transition;la.transition={};try{e()}finally{la.transition=t}};Z.unstable_act=Sd;Z.useCallback=function(e,t){return ze.current.useCallback(e,t)};Z.useContext=function(e){return ze.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};Z.useEffect=function(e,t){return ze.current.useEffect(e,t)};Z.useId=function(){return ze.current.useId()};Z.useImperativeHandle=function(e,t,r){return ze.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return ze.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return ze.current.useReducer(e,t,r)};Z.useRef=function(e){return ze.current.useRef(e)};Z.useState=function(e){return ze.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return ze.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return ze.current.useTransition()};Z.version="18.3.1";xd.exports=Z;var p=xd.exports;const Ct=Ka(p),sm=U0({__proto__:null,default:Ct},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=p,im=Symbol.for("react.element"),om=Symbol.for("react.fragment"),lm=Object.prototype.hasOwnProperty,cm=am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,um={key:!0,ref:!0,__self:!0,__source:!0};function Cd(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)lm.call(t,n)&&!um.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:im,type:e,key:i,ref:o,props:s,_owner:cm.current}}Ga.Fragment=om;Ga.jsx=Cd;Ga.jsxs=Cd;yd.exports=Ga;var a=yd.exports,va={},Ed={exports:{}},nt={},Pd={exports:{}},Td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,A){var M=j.length;j.push(A);e:for(;0<M;){var U=M-1>>>1,G=j[U];if(0<s(G,A))j[U]=A,j[M]=G,M=U;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var A=j[0],M=j.pop();if(M!==A){j[0]=M;e:for(var U=0,G=j.length,q=G>>>1;U<q;){var J=2*(U+1)-1,se=j[J],ve=J+1,ke=j[ve];if(0>s(se,M))ve<G&&0>s(ke,se)?(j[U]=ke,j[ve]=M,U=ve):(j[U]=se,j[J]=M,U=J);else if(ve<G&&0>s(ke,M))j[U]=ke,j[ve]=M,U=ve;else break e}}return A}function s(j,A){var M=j.sortIndex-A.sortIndex;return M!==0?M:j.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,y=!1,v=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=j)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function w(j){if(b=!1,x(j),!v)if(r(c)!==null)v=!0,C(E);else{var A=r(u);A!==null&&D(w,A.startTime-j)}}function E(j,A){v=!1,b&&(b=!1,g(T),T=-1),y=!0;var M=m;try{for(x(A),h=r(c);h!==null&&(!(h.expirationTime>A)||j&&!O());){var U=h.callback;if(typeof U=="function"){h.callback=null,m=h.priorityLevel;var G=U(h.expirationTime<=A);A=e.unstable_now(),typeof G=="function"?h.callback=G:h===r(c)&&n(c),x(A)}else n(c);h=r(c)}if(h!==null)var q=!0;else{var J=r(u);J!==null&&D(w,J.startTime-A),q=!1}return q}finally{h=null,m=M,y=!1}}var k=!1,P=null,T=-1,S=5,L=-1;function O(){return!(e.unstable_now()-L<S)}function I(){if(P!==null){var j=e.unstable_now();L=j;var A=!0;try{A=P(!0,j)}finally{A?z():(k=!1,P=null)}}else k=!1}var z;if(typeof f=="function")z=function(){f(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,N=$.port2;$.port1.onmessage=I,z=function(){N.postMessage(null)}}else z=function(){_(I,0)};function C(j){P=j,k||(k=!0,z())}function D(j,A){T=_(function(){j(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,C(E))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var M=m;m=A;try{return j()}finally{m=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,A){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=m;m=j;try{return A()}finally{m=M}},e.unstable_scheduleCallback=function(j,A,M){var U=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?U+M:U):M=U,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=M+G,j={id:d++,callback:A,priorityLevel:j,startTime:M,expirationTime:G,sortIndex:-1},M>U?(j.sortIndex=M,t(u,j),r(c)===null&&j===r(u)&&(b?(g(T),T=-1):b=!0,D(w,M-U))):(j.sortIndex=G,t(c,j),v||y||(v=!0,C(E))),j},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(j){var A=m;return function(){var M=m;m=A;try{return j.apply(this,arguments)}finally{m=M}}}})(Td);Pd.exports=Td;var dm=Pd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=p,rt=dm;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $d=new Set,cs={};function Ir(e,t){gn(e,t),gn(e+"Capture",t)}function gn(e,t){for(cs[e]=t,e=0;e<t.length;e++)$d.add(t[e])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ao=Object.prototype.hasOwnProperty,fm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_c={},Nc={};function mm(e){return ao.call(Nc,e)?!0:ao.call(_c,e)?!1:fm.test(e)?Nc[e]=!0:(_c[e]=!0,!1)}function gm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pm(e,t,r,n){if(t===null||typeof t>"u"||gm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var pl=/[\-:]([a-z])/g;function yl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pl,yl);$e[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pl,yl);$e[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pl,yl);$e[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function xl(e,t,r,n){var s=$e.hasOwnProperty(t)?$e[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pm(t,r,s,n)&&(r=null),n||s===null?mm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bt=hm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zs=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),vl=Symbol.for("react.strict_mode"),io=Symbol.for("react.profiler"),Ld=Symbol.for("react.provider"),Od=Symbol.for("react.context"),bl=Symbol.for("react.forward_ref"),oo=Symbol.for("react.suspense"),lo=Symbol.for("react.suspense_list"),wl=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),Rd=Symbol.for("react.offscreen"),Sc=Symbol.iterator;function On(e){return e===null||typeof e!="object"?null:(e=Sc&&e[Sc]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Si;function Vn(e){if(Si===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Si=t&&t[1]||""}return`
`+Si+e}var Ci=!1;function Ei(e,t){if(!e||Ci)return"";Ci=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ci=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vn(e):""}function ym(e){switch(e.tag){case 5:return Vn(e.type);case 16:return Vn("Lazy");case 13:return Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 2:case 15:return e=Ei(e.type,!1),e;case 11:return e=Ei(e.type.render,!1),e;case 1:return e=Ei(e.type,!0),e;default:return""}}function co(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gr:return"Fragment";case Kr:return"Portal";case io:return"Profiler";case vl:return"StrictMode";case oo:return"Suspense";case lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Od:return(e.displayName||"Context")+".Consumer";case Ld:return(e._context.displayName||"Context")+".Provider";case bl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wl:return t=e.displayName||null,t!==null?t:co(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return co(e(t))}catch{}}return null}function xm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(t);case 8:return t===vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ad(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vm(e){var t=Ad(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fs(e){e._valueTracker||(e._valueTracker=vm(e))}function Md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ad(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uo(e,t){var r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Cc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=gr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dd(e,t){t=t.checked,t!=null&&xl(e,"checked",t,!1)}function ho(e,t){Dd(e,t);var r=gr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fo(e,t.type,r):t.hasOwnProperty("defaultValue")&&fo(e,t.type,gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ec(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fo(e,t,r){(t!=="number"||ba(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hn=Array.isArray;function on(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Hn(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gr(r)}}function Id(e,t){var r=gr(t.value),n=gr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Tc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function go(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Us,Fd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Us=Us||document.createElement("div"),Us.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Us.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function us(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bm=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(e){bm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kn[t]=Kn[e]})});function Ud(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Kn.hasOwnProperty(e)&&Kn[e]?(""+t).trim():t+"px"}function Bd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ud(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var wm=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function po(e,t){if(t){if(wm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function yo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vo=null,ln=null,cn=null;function $c(e){if(e=Os(e)){if(typeof vo!="function")throw Error(F(280));var t=e.stateNode;t&&(t=ei(t),vo(e.stateNode,e.type,t))}}function Vd(e){ln?cn?cn.push(e):cn=[e]:ln=e}function Hd(){if(ln){var e=ln,t=cn;if(cn=ln=null,$c(e),t)for(e=0;e<t.length;e++)$c(t[e])}}function qd(e,t){return e(t)}function Wd(){}var Pi=!1;function Yd(e,t,r){if(Pi)return e(t,r);Pi=!0;try{return qd(e,t,r)}finally{Pi=!1,(ln!==null||cn!==null)&&(Wd(),Hd())}}function ds(e,t){var r=e.stateNode;if(r===null)return null;var n=ei(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var bo=!1;if(It)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){bo=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{bo=!1}function km(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Gn=!1,wa=null,ka=!1,wo=null,jm={onError:function(e){Gn=!0,wa=e}};function _m(e,t,r,n,s,i,o,l,c){Gn=!1,wa=null,km.apply(jm,arguments)}function Nm(e,t,r,n,s,i,o,l,c){if(_m.apply(this,arguments),Gn){if(Gn){var u=wa;Gn=!1,wa=null}else throw Error(F(198));ka||(ka=!0,wo=u)}}function zr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Kd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lc(e){if(zr(e)!==e)throw Error(F(188))}function Sm(e){var t=e.alternate;if(!t){if(t=zr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Lc(s),e;if(i===n)return Lc(s),t;i=i.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function Gd(e){return e=Sm(e),e!==null?Jd(e):null}function Jd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jd(e);if(t!==null)return t;e=e.sibling}return null}var Qd=rt.unstable_scheduleCallback,Oc=rt.unstable_cancelCallback,Cm=rt.unstable_shouldYield,Em=rt.unstable_requestPaint,we=rt.unstable_now,Pm=rt.unstable_getCurrentPriorityLevel,jl=rt.unstable_ImmediatePriority,Xd=rt.unstable_UserBlockingPriority,ja=rt.unstable_NormalPriority,Tm=rt.unstable_LowPriority,Zd=rt.unstable_IdlePriority,Ja=null,Et=null;function $m(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Ja,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Rm,Lm=Math.log,Om=Math.LN2;function Rm(e){return e>>>=0,e===0?32:31-(Lm(e)/Om|0)|0}var Bs=64,Vs=4194304;function qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _a(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=qn(l):(i&=o,i!==0&&(n=qn(i)))}else o=r&~s,o!==0?n=qn(o):i!==0&&(n=qn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-yt(t),s=1<<r,n|=e[r],t&=~s;return n}function Am(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-yt(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Am(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function ko(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eh(){var e=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),e}function Ti(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $s(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=r}function Dm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-yt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function _l(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-yt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ne=0;function th(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rh,Nl,nh,sh,ah,jo=!1,Hs=[],ar=null,ir=null,or=null,hs=new Map,fs=new Map,Xt=[],Im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(e,t){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(t.pointerId)}}function An(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Os(t),t!==null&&Nl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zm(e,t,r,n,s){switch(t){case"focusin":return ar=An(ar,e,t,r,n,s),!0;case"dragenter":return ir=An(ir,e,t,r,n,s),!0;case"mouseover":return or=An(or,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return hs.set(i,An(hs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,fs.set(i,An(fs.get(i)||null,e,t,r,n,s)),!0}return!1}function ih(e){var t=Er(e.target);if(t!==null){var r=zr(t);if(r!==null){if(t=r.tag,t===13){if(t=Kd(r),t!==null){e.blockedOn=t,ah(e.priority,function(){nh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_o(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xo=n,r.target.dispatchEvent(n),xo=null}else return t=Os(r),t!==null&&Nl(t),e.blockedOn=r,!1;t.shift()}return!0}function Ac(e,t,r){ca(e)&&r.delete(t)}function Fm(){jo=!1,ar!==null&&ca(ar)&&(ar=null),ir!==null&&ca(ir)&&(ir=null),or!==null&&ca(or)&&(or=null),hs.forEach(Ac),fs.forEach(Ac)}function Mn(e,t){e.blockedOn===t&&(e.blockedOn=null,jo||(jo=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,Fm)))}function ms(e){function t(s){return Mn(s,e)}if(0<Hs.length){Mn(Hs[0],e);for(var r=1;r<Hs.length;r++){var n=Hs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ar!==null&&Mn(ar,e),ir!==null&&Mn(ir,e),or!==null&&Mn(or,e),hs.forEach(t),fs.forEach(t),r=0;r<Xt.length;r++)n=Xt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xt.length&&(r=Xt[0],r.blockedOn===null);)ih(r),r.blockedOn===null&&Xt.shift()}var un=Bt.ReactCurrentBatchConfig,Na=!0;function Um(e,t,r,n){var s=ne,i=un.transition;un.transition=null;try{ne=1,Sl(e,t,r,n)}finally{ne=s,un.transition=i}}function Bm(e,t,r,n){var s=ne,i=un.transition;un.transition=null;try{ne=4,Sl(e,t,r,n)}finally{ne=s,un.transition=i}}function Sl(e,t,r,n){if(Na){var s=_o(e,t,r,n);if(s===null)Fi(e,t,n,Sa,r),Rc(e,n);else if(zm(s,e,t,r,n))n.stopPropagation();else if(Rc(e,n),t&4&&-1<Im.indexOf(e)){for(;s!==null;){var i=Os(s);if(i!==null&&rh(i),i=_o(e,t,r,n),i===null&&Fi(e,t,n,Sa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Fi(e,t,n,null,r)}}var Sa=null;function _o(e,t,r,n){if(Sa=null,e=kl(n),e=Er(e),e!==null)if(t=zr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Kd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sa=e,null}function oh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pm()){case jl:return 1;case Xd:return 4;case ja:case Tm:return 16;case Zd:return 536870912;default:return 16}default:return 16}}var rr=null,Cl=null,ua=null;function lh(){if(ua)return ua;var e,t=Cl,r=t.length,n,s="value"in rr?rr.value:rr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ua=s.slice(e,1<n?1-n:void 0)}function da(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function Mc(){return!1}function st(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qs:Mc,this.isPropagationStopped=Mc,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=st(Cn),Ls=xe({},Cn,{view:0,detail:0}),Vm=st(Ls),$i,Li,Dn,Qa=xe({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dn&&(Dn&&e.type==="mousemove"?($i=e.screenX-Dn.screenX,Li=e.screenY-Dn.screenY):Li=$i=0,Dn=e),$i)},movementY:function(e){return"movementY"in e?e.movementY:Li}}),Dc=st(Qa),Hm=xe({},Qa,{dataTransfer:0}),qm=st(Hm),Wm=xe({},Ls,{relatedTarget:0}),Oi=st(Wm),Ym=xe({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Km=st(Ym),Gm=xe({},Cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jm=st(Gm),Qm=xe({},Cn,{data:0}),Ic=st(Qm),Xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eg[e])?!!t[e]:!1}function Pl(){return tg}var rg=xe({},Ls,{key:function(e){if(e.key){var t=Xm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(e){return e.type==="keypress"?da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ng=st(rg),sg=xe({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=st(sg),ag=xe({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),ig=st(ag),og=xe({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lg=st(og),cg=xe({},Qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ug=st(cg),dg=[9,13,27,32],Tl=It&&"CompositionEvent"in window,Jn=null;It&&"documentMode"in document&&(Jn=document.documentMode);var hg=It&&"TextEvent"in window&&!Jn,ch=It&&(!Tl||Jn&&8<Jn&&11>=Jn),Fc=" ",Uc=!1;function uh(e,t){switch(e){case"keyup":return dg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function fg(e,t){switch(e){case"compositionend":return dh(t);case"keypress":return t.which!==32?null:(Uc=!0,Fc);case"textInput":return e=t.data,e===Fc&&Uc?null:e;default:return null}}function mg(e,t){if(Jr)return e==="compositionend"||!Tl&&uh(e,t)?(e=lh(),ua=Cl=rr=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ch&&t.locale!=="ko"?null:t.data;default:return null}}var gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gg[e.type]:t==="textarea"}function hh(e,t,r,n){Vd(n),t=Ca(t,"onChange"),0<t.length&&(r=new El("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Qn=null,gs=null;function pg(e){jh(e,0)}function Xa(e){var t=Zr(e);if(Md(t))return e}function yg(e,t){if(e==="change")return t}var fh=!1;if(It){var Ri;if(It){var Ai="oninput"in document;if(!Ai){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),Ai=typeof Vc.oninput=="function"}Ri=Ai}else Ri=!1;fh=Ri&&(!document.documentMode||9<document.documentMode)}function Hc(){Qn&&(Qn.detachEvent("onpropertychange",mh),gs=Qn=null)}function mh(e){if(e.propertyName==="value"&&Xa(gs)){var t=[];hh(t,gs,e,kl(e)),Yd(pg,t)}}function xg(e,t,r){e==="focusin"?(Hc(),Qn=t,gs=r,Qn.attachEvent("onpropertychange",mh)):e==="focusout"&&Hc()}function vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xa(gs)}function bg(e,t){if(e==="click")return Xa(t)}function wg(e,t){if(e==="input"||e==="change")return Xa(t)}function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:kg;function ps(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ao.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wc(e,t){var r=qc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qc(r)}}function gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ph(){for(var e=window,t=ba();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ba(e.document)}return t}function $l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jg(e){var t=ph(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gh(r.ownerDocument.documentElement,r)){if(n!==null&&$l(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Wc(r,i);var o=Wc(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _g=It&&"documentMode"in document&&11>=document.documentMode,Qr=null,No=null,Xn=null,So=!1;function Yc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;So||Qr==null||Qr!==ba(n)||(n=Qr,"selectionStart"in n&&$l(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xn&&ps(Xn,n)||(Xn=n,n=Ca(No,"onSelect"),0<n.length&&(t=new El("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qr)))}function Ws(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xr={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},Mi={},yh={};It&&(yh=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function Za(e){if(Mi[e])return Mi[e];if(!Xr[e])return e;var t=Xr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yh)return Mi[e]=t[r];return e}var xh=Za("animationend"),vh=Za("animationiteration"),bh=Za("animationstart"),wh=Za("transitionend"),kh=new Map,Kc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(e,t){kh.set(e,t),Ir(t,[e])}for(var Di=0;Di<Kc.length;Di++){var Ii=Kc[Di],Ng=Ii.toLowerCase(),Sg=Ii[0].toUpperCase()+Ii.slice(1);yr(Ng,"on"+Sg)}yr(xh,"onAnimationEnd");yr(vh,"onAnimationIteration");yr(bh,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(wh,"onTransitionEnd");gn("onMouseEnter",["mouseout","mouseover"]);gn("onMouseLeave",["mouseout","mouseover"]);gn("onPointerEnter",["pointerout","pointerover"]);gn("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wn));function Gc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Nm(n,t,void 0,e),e.currentTarget=null}function jh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Gc(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Gc(s,l,u),i=c}}}if(ka)throw e=wo,ka=!1,wo=null,e}function ue(e,t){var r=t[$o];r===void 0&&(r=t[$o]=new Set);var n=e+"__bubble";r.has(n)||(_h(t,e,2,!1),r.add(n))}function zi(e,t,r){var n=0;t&&(n|=4),_h(r,e,n,t)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function ys(e){if(!e[Ys]){e[Ys]=!0,$d.forEach(function(r){r!=="selectionchange"&&(Cg.has(r)||zi(r,!1,e),zi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ys]||(t[Ys]=!0,zi("selectionchange",!1,t))}}function _h(e,t,r,n){switch(oh(t)){case 1:var s=Um;break;case 4:s=Bm;break;default:s=Sl}r=s.bind(null,t,r,e),s=void 0,!bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Fi(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Er(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Yd(function(){var u=i,d=kl(r),h=[];e:{var m=kh.get(e);if(m!==void 0){var y=El,v=e;switch(e){case"keypress":if(da(r)===0)break e;case"keydown":case"keyup":y=ng;break;case"focusin":v="focus",y=Oi;break;case"focusout":v="blur",y=Oi;break;case"beforeblur":case"afterblur":y=Oi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ig;break;case xh:case vh:case bh:y=Km;break;case wh:y=lg;break;case"scroll":y=Vm;break;case"wheel":y=ug;break;case"copy":case"cut":case"paste":y=Jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=zc}var b=(t&4)!==0,_=!b&&e==="scroll",g=b?m!==null?m+"Capture":null:m;b=[];for(var f=u,x;f!==null;){x=f;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=ds(f,g),w!=null&&b.push(xs(f,w,x)))),_)break;f=f.return}0<b.length&&(m=new y(m,v,null,r,d),h.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==xo&&(v=r.relatedTarget||r.fromElement)&&(Er(v)||v[zt]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?Er(v):null,v!==null&&(_=zr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=Dc,w="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(b=zc,w="onPointerLeave",g="onPointerEnter",f="pointer"),_=y==null?m:Zr(y),x=v==null?m:Zr(v),m=new b(w,f+"leave",y,r,d),m.target=_,m.relatedTarget=x,w=null,Er(d)===u&&(b=new b(g,f+"enter",v,r,d),b.target=x,b.relatedTarget=_,w=b),_=w,y&&v)t:{for(b=y,g=v,f=0,x=b;x;x=Br(x))f++;for(x=0,w=g;w;w=Br(w))x++;for(;0<f-x;)b=Br(b),f--;for(;0<x-f;)g=Br(g),x--;for(;f--;){if(b===g||g!==null&&b===g.alternate)break t;b=Br(b),g=Br(g)}b=null}else b=null;y!==null&&Jc(h,m,y,b,!1),v!==null&&_!==null&&Jc(h,_,v,b,!0)}}e:{if(m=u?Zr(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var E=yg;else if(Bc(m))if(fh)E=wg;else{E=vg;var k=xg}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=bg);if(E&&(E=E(e,u))){hh(h,E,r,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&fo(m,"number",m.value)}switch(k=u?Zr(u):window,e){case"focusin":(Bc(k)||k.contentEditable==="true")&&(Qr=k,No=u,Xn=null);break;case"focusout":Xn=No=Qr=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,Yc(h,r,d);break;case"selectionchange":if(_g)break;case"keydown":case"keyup":Yc(h,r,d)}var P;if(Tl)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Jr?uh(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(ch&&r.locale!=="ko"&&(Jr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Jr&&(P=lh()):(rr=d,Cl="value"in rr?rr.value:rr.textContent,Jr=!0)),k=Ca(u,T),0<k.length&&(T=new Ic(T,e,null,r,d),h.push({event:T,listeners:k}),P?T.data=P:(P=dh(r),P!==null&&(T.data=P)))),(P=hg?fg(e,r):mg(e,r))&&(u=Ca(u,"onBeforeInput"),0<u.length&&(d=new Ic("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=P))}jh(h,t)})}function xs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ca(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ds(e,r),i!=null&&n.unshift(xs(e,i,s)),i=ds(e,t),i!=null&&n.push(xs(e,i,s))),e=e.return}return n}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jc(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ds(r,i),c!=null&&o.unshift(xs(r,c,l))):s||(c=ds(r,i),c!=null&&o.push(xs(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Eg=/\r\n?/g,Pg=/\u0000|\uFFFD/g;function Qc(e){return(typeof e=="string"?e:""+e).replace(Eg,`
`).replace(Pg,"")}function Ks(e,t,r){if(t=Qc(t),Qc(e)!==t&&r)throw Error(F(425))}function Ea(){}var Co=null,Eo=null;function Po(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,Tg=typeof clearTimeout=="function"?clearTimeout:void 0,Xc=typeof Promise=="function"?Promise:void 0,$g=typeof queueMicrotask=="function"?queueMicrotask:typeof Xc<"u"?function(e){return Xc.resolve(null).then(e).catch(Lg)}:To;function Lg(e){setTimeout(function(){throw e})}function Ui(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ms(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ms(t)}function lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),St="__reactFiber$"+En,vs="__reactProps$"+En,zt="__reactContainer$"+En,$o="__reactEvents$"+En,Og="__reactListeners$"+En,Rg="__reactHandles$"+En;function Er(e){var t=e[St];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zt]||r[St]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zc(e);e!==null;){if(r=e[St])return r;e=Zc(e)}return t}e=r,r=e.parentNode}return null}function Os(e){return e=e[St]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function ei(e){return e[vs]||null}var Lo=[],en=-1;function xr(e){return{current:e}}function de(e){0>en||(e.current=Lo[en],Lo[en]=null,en--)}function ce(e,t){en++,Lo[en]=e.current,e.current=t}var pr={},Ae=xr(pr),Ye=xr(!1),Or=pr;function pn(e,t){var r=e.type.contextTypes;if(!r)return pr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ke(e){return e=e.childContextTypes,e!=null}function Pa(){de(Ye),de(Ae)}function eu(e,t,r){if(Ae.current!==pr)throw Error(F(168));ce(Ae,t),ce(Ye,r)}function Nh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,xm(e)||"Unknown",s));return xe({},r,n)}function Ta(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Or=Ae.current,ce(Ae,e),ce(Ye,Ye.current),!0}function tu(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=Nh(e,t,Or),n.__reactInternalMemoizedMergedChildContext=e,de(Ye),de(Ae),ce(Ae,e)):de(Ye),ce(Ye,r)}var Ot=null,ti=!1,Bi=!1;function Sh(e){Ot===null?Ot=[e]:Ot.push(e)}function Ag(e){ti=!0,Sh(e)}function vr(){if(!Bi&&Ot!==null){Bi=!0;var e=0,t=ne;try{var r=Ot;for(ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ot=null,ti=!1}catch(s){throw Ot!==null&&(Ot=Ot.slice(e+1)),Qd(jl,vr),s}finally{ne=t,Bi=!1}}return null}var tn=[],rn=0,$a=null,La=0,at=[],it=0,Rr=null,Rt=1,At="";function _r(e,t){tn[rn++]=La,tn[rn++]=$a,$a=e,La=t}function Ch(e,t,r){at[it++]=Rt,at[it++]=At,at[it++]=Rr,Rr=e;var n=Rt;e=At;var s=32-yt(n)-1;n&=~(1<<s),r+=1;var i=32-yt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Rt=1<<32-yt(t)+s|r<<s|n,At=i+e}else Rt=1<<i|r<<s|n,At=e}function Ll(e){e.return!==null&&(_r(e,1),Ch(e,1,0))}function Ol(e){for(;e===$a;)$a=tn[--rn],tn[rn]=null,La=tn[--rn],tn[rn]=null;for(;e===Rr;)Rr=at[--it],at[it]=null,At=at[--it],at[it]=null,Rt=at[--it],at[it]=null}var tt=null,et=null,fe=!1,pt=null;function Eh(e,t){var r=ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ru(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Rr!==null?{id:Rt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tt=e,et=null,!0):!1;default:return!1}}function Oo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ro(e){if(fe){var t=et;if(t){var r=t;if(!ru(e,t)){if(Oo(e))throw Error(F(418));t=lr(r.nextSibling);var n=tt;t&&ru(e,t)?Eh(n,r):(e.flags=e.flags&-4097|2,fe=!1,tt=e)}}else{if(Oo(e))throw Error(F(418));e.flags=e.flags&-4097|2,fe=!1,tt=e}}}function nu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Gs(e){if(e!==tt)return!1;if(!fe)return nu(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Po(e.type,e.memoizedProps)),t&&(t=et)){if(Oo(e))throw Ph(),Error(F(418));for(;t;)Eh(e,t),t=lr(t.nextSibling)}if(nu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){et=lr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?lr(e.stateNode.nextSibling):null;return!0}function Ph(){for(var e=et;e;)e=lr(e.nextSibling)}function yn(){et=tt=null,fe=!1}function Rl(e){pt===null?pt=[e]:pt.push(e)}var Mg=Bt.ReactCurrentBatchConfig;function In(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function su(e){var t=e._init;return t(e._payload)}function Th(e){function t(g,f){if(e){var x=g.deletions;x===null?(g.deletions=[f],g.flags|=16):x.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=hr(g,f),g.index=0,g.sibling=null,g}function i(g,f,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<f?(g.flags|=2,f):x):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,f,x,w){return f===null||f.tag!==6?(f=Gi(x,g.mode,w),f.return=g,f):(f=s(f,x),f.return=g,f)}function c(g,f,x,w){var E=x.type;return E===Gr?d(g,f,x.props.children,w,x.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gt&&su(E)===f.type)?(w=s(f,x.props),w.ref=In(g,f,x),w.return=g,w):(w=xa(x.type,x.key,x.props,null,g.mode,w),w.ref=In(g,f,x),w.return=g,w)}function u(g,f,x,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=Ji(x,g.mode,w),f.return=g,f):(f=s(f,x.children||[]),f.return=g,f)}function d(g,f,x,w,E){return f===null||f.tag!==7?(f=Lr(x,g.mode,w,E),f.return=g,f):(f=s(f,x),f.return=g,f)}function h(g,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Gi(""+f,g.mode,x),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case zs:return x=xa(f.type,f.key,f.props,null,g.mode,x),x.ref=In(g,null,f),x.return=g,x;case Kr:return f=Ji(f,g.mode,x),f.return=g,f;case Gt:var w=f._init;return h(g,w(f._payload),x)}if(Hn(f)||On(f))return f=Lr(f,g.mode,x,null),f.return=g,f;Js(g,f)}return null}function m(g,f,x,w){var E=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:l(g,f,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zs:return x.key===E?c(g,f,x,w):null;case Kr:return x.key===E?u(g,f,x,w):null;case Gt:return E=x._init,m(g,f,E(x._payload),w)}if(Hn(x)||On(x))return E!==null?null:d(g,f,x,w,null);Js(g,x)}return null}function y(g,f,x,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,l(f,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zs:return g=g.get(w.key===null?x:w.key)||null,c(f,g,w,E);case Kr:return g=g.get(w.key===null?x:w.key)||null,u(f,g,w,E);case Gt:var k=w._init;return y(g,f,x,k(w._payload),E)}if(Hn(w)||On(w))return g=g.get(x)||null,d(f,g,w,E,null);Js(f,w)}return null}function v(g,f,x,w){for(var E=null,k=null,P=f,T=f=0,S=null;P!==null&&T<x.length;T++){P.index>T?(S=P,P=null):S=P.sibling;var L=m(g,P,x[T],w);if(L===null){P===null&&(P=S);break}e&&P&&L.alternate===null&&t(g,P),f=i(L,f,T),k===null?E=L:k.sibling=L,k=L,P=S}if(T===x.length)return r(g,P),fe&&_r(g,T),E;if(P===null){for(;T<x.length;T++)P=h(g,x[T],w),P!==null&&(f=i(P,f,T),k===null?E=P:k.sibling=P,k=P);return fe&&_r(g,T),E}for(P=n(g,P);T<x.length;T++)S=y(P,g,T,x[T],w),S!==null&&(e&&S.alternate!==null&&P.delete(S.key===null?T:S.key),f=i(S,f,T),k===null?E=S:k.sibling=S,k=S);return e&&P.forEach(function(O){return t(g,O)}),fe&&_r(g,T),E}function b(g,f,x,w){var E=On(x);if(typeof E!="function")throw Error(F(150));if(x=E.call(x),x==null)throw Error(F(151));for(var k=E=null,P=f,T=f=0,S=null,L=x.next();P!==null&&!L.done;T++,L=x.next()){P.index>T?(S=P,P=null):S=P.sibling;var O=m(g,P,L.value,w);if(O===null){P===null&&(P=S);break}e&&P&&O.alternate===null&&t(g,P),f=i(O,f,T),k===null?E=O:k.sibling=O,k=O,P=S}if(L.done)return r(g,P),fe&&_r(g,T),E;if(P===null){for(;!L.done;T++,L=x.next())L=h(g,L.value,w),L!==null&&(f=i(L,f,T),k===null?E=L:k.sibling=L,k=L);return fe&&_r(g,T),E}for(P=n(g,P);!L.done;T++,L=x.next())L=y(P,g,T,L.value,w),L!==null&&(e&&L.alternate!==null&&P.delete(L.key===null?T:L.key),f=i(L,f,T),k===null?E=L:k.sibling=L,k=L);return e&&P.forEach(function(I){return t(g,I)}),fe&&_r(g,T),E}function _(g,f,x,w){if(typeof x=="object"&&x!==null&&x.type===Gr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case zs:e:{for(var E=x.key,k=f;k!==null;){if(k.key===E){if(E=x.type,E===Gr){if(k.tag===7){r(g,k.sibling),f=s(k,x.props.children),f.return=g,g=f;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gt&&su(E)===k.type){r(g,k.sibling),f=s(k,x.props),f.ref=In(g,k,x),f.return=g,g=f;break e}r(g,k);break}else t(g,k);k=k.sibling}x.type===Gr?(f=Lr(x.props.children,g.mode,w,x.key),f.return=g,g=f):(w=xa(x.type,x.key,x.props,null,g.mode,w),w.ref=In(g,f,x),w.return=g,g=w)}return o(g);case Kr:e:{for(k=x.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){r(g,f.sibling),f=s(f,x.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=Ji(x,g.mode,w),f.return=g,g=f}return o(g);case Gt:return k=x._init,_(g,f,k(x._payload),w)}if(Hn(x))return v(g,f,x,w);if(On(x))return b(g,f,x,w);Js(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,x),f.return=g,g=f):(r(g,f),f=Gi(x,g.mode,w),f.return=g,g=f),o(g)):r(g,f)}return _}var xn=Th(!0),$h=Th(!1),Oa=xr(null),Ra=null,nn=null,Al=null;function Ml(){Al=nn=Ra=null}function Dl(e){var t=Oa.current;de(Oa),e._currentValue=t}function Ao(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function dn(e,t){Ra=e,Al=nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Al!==e)if(e={context:e,memoizedValue:t,next:null},nn===null){if(Ra===null)throw Error(F(308));nn=e,Ra.dependencies={lanes:0,firstContext:e}}else nn=nn.next=e;return t}var Pr=null;function Il(e){Pr===null?Pr=[e]:Pr.push(e)}function Lh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Il(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ft(e,n)}function Ft(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jt=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ft(e,r)}return s=n.interleaved,s===null?(t.next=t,Il(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ft(e,r)}function ha(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_l(e,r)}}function au(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Aa(e,t,r,n){var s=e.updateQueue;Jt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,b=l;switch(m=t,y=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(y,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,m=typeof v=="function"?v.call(y,h,m):v,m==null)break e;h=xe({},h,m);break e;case 2:Jt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Mr|=o,e.lanes=o,e.memoizedState=h}}function iu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var Rs={},Pt=xr(Rs),bs=xr(Rs),ws=xr(Rs);function Tr(e){if(e===Rs)throw Error(F(174));return e}function Fl(e,t){switch(ce(ws,t),ce(bs,e),ce(Pt,Rs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:go(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=go(t,e)}de(Pt),ce(Pt,t)}function vn(){de(Pt),de(bs),de(ws)}function Rh(e){Tr(ws.current);var t=Tr(Pt.current),r=go(t,e.type);t!==r&&(ce(bs,e),ce(Pt,r))}function Ul(e){bs.current===e&&(de(Pt),de(bs))}var ge=xr(0);function Ma(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vi=[];function Bl(){for(var e=0;e<Vi.length;e++)Vi[e]._workInProgressVersionPrimary=null;Vi.length=0}var fa=Bt.ReactCurrentDispatcher,Hi=Bt.ReactCurrentBatchConfig,Ar=0,pe=null,_e=null,Ce=null,Da=!1,Zn=!1,ks=0,Dg=0;function Le(){throw Error(F(321))}function Vl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vt(e[r],t[r]))return!1;return!0}function Hl(e,t,r,n,s,i){if(Ar=i,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=e===null||e.memoizedState===null?Ug:Bg,e=r(n,s),Zn){i=0;do{if(Zn=!1,ks=0,25<=i)throw Error(F(301));i+=1,Ce=_e=null,t.updateQueue=null,fa.current=Vg,e=r(n,s)}while(Zn)}if(fa.current=Ia,t=_e!==null&&_e.next!==null,Ar=0,Ce=_e=pe=null,Da=!1,t)throw Error(F(300));return e}function ql(){var e=ks!==0;return ks=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?pe.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ut(){if(_e===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ce===null?pe.memoizedState:Ce.next;if(t!==null)Ce=t,_e=e;else{if(e===null)throw Error(F(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ce===null?pe.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function js(e,t){return typeof t=="function"?t(e):t}function qi(e){var t=ut(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=_e,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ar&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,pe.lanes|=d,Mr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,vt(n,t.memoizedState)||(We=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,pe.lanes|=i,Mr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wi(e){var t=ut(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);vt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Ah(){}function Mh(e,t){var r=pe,n=ut(),s=t(),i=!vt(n.memoizedState,s);if(i&&(n.memoizedState=s,We=!0),n=n.queue,Wl(zh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(r.flags|=2048,_s(9,Ih.bind(null,r,n,s,t),void 0,null),Ee===null)throw Error(F(349));Ar&30||Dh(r,t,s)}return s}function Dh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ih(e,t,r,n){t.value=r,t.getSnapshot=n,Fh(t)&&Uh(e)}function zh(e,t,r){return r(function(){Fh(t)&&Uh(e)})}function Fh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vt(e,r)}catch{return!0}}function Uh(e){var t=Ft(e,1);t!==null&&xt(t,e,1,-1)}function ou(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:e},t.queue=e,e=e.dispatch=Fg.bind(null,pe,e),[t.memoizedState,e]}function _s(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Bh(){return ut().memoizedState}function ma(e,t,r,n){var s=Nt();pe.flags|=e,s.memoizedState=_s(1|t,r,void 0,n===void 0?null:n)}function ri(e,t,r,n){var s=ut();n=n===void 0?null:n;var i=void 0;if(_e!==null){var o=_e.memoizedState;if(i=o.destroy,n!==null&&Vl(n,o.deps)){s.memoizedState=_s(t,r,i,n);return}}pe.flags|=e,s.memoizedState=_s(1|t,r,i,n)}function lu(e,t){return ma(8390656,8,e,t)}function Wl(e,t){return ri(2048,8,e,t)}function Vh(e,t){return ri(4,2,e,t)}function Hh(e,t){return ri(4,4,e,t)}function qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wh(e,t,r){return r=r!=null?r.concat([e]):null,ri(4,4,qh.bind(null,t,e),r)}function Yl(){}function Yh(e,t){var r=ut();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Kh(e,t){var r=ut();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Gh(e,t,r){return Ar&21?(vt(r,t)||(r=eh(),pe.lanes|=r,Mr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=r)}function Ig(e,t){var r=ne;ne=r!==0&&4>r?r:4,e(!0);var n=Hi.transition;Hi.transition={};try{e(!1),t()}finally{ne=r,Hi.transition=n}}function Jh(){return ut().memoizedState}function zg(e,t,r){var n=dr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qh(e))Xh(t,r);else if(r=Lh(e,t,r,n),r!==null){var s=Ie();xt(r,e,n,s),Zh(r,t,n)}}function Fg(e,t,r){var n=dr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qh(e))Xh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,vt(l,o)){var c=t.interleaved;c===null?(s.next=s,Il(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Lh(e,t,s,n),r!==null&&(s=Ie(),xt(r,e,n,s),Zh(r,t,n))}}function Qh(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Xh(e,t){Zn=Da=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Zh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_l(e,r)}}var Ia={readContext:ct,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},Ug={readContext:ct,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:lu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ma(4194308,4,qh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var r=Nt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Nt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zg.bind(null,pe,e),[n.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:ou,useDebugValue:Yl,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=ou(!1),t=e[0];return e=Ig.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pe,s=Nt();if(fe){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),Ee===null)throw Error(F(349));Ar&30||Dh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,lu(zh.bind(null,n,i,e),[e]),n.flags|=2048,_s(9,Ih.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Nt(),t=Ee.identifierPrefix;if(fe){var r=At,n=Rt;r=(n&~(1<<32-yt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ks++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Dg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bg={readContext:ct,useCallback:Yh,useContext:ct,useEffect:Wl,useImperativeHandle:Wh,useInsertionEffect:Vh,useLayoutEffect:Hh,useMemo:Kh,useReducer:qi,useRef:Bh,useState:function(){return qi(js)},useDebugValue:Yl,useDeferredValue:function(e){var t=ut();return Gh(t,_e.memoizedState,e)},useTransition:function(){var e=qi(js)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Ah,useSyncExternalStore:Mh,useId:Jh,unstable_isNewReconciler:!1},Vg={readContext:ct,useCallback:Yh,useContext:ct,useEffect:Wl,useImperativeHandle:Wh,useInsertionEffect:Vh,useLayoutEffect:Hh,useMemo:Kh,useReducer:Wi,useRef:Bh,useState:function(){return Wi(js)},useDebugValue:Yl,useDeferredValue:function(e){var t=ut();return _e===null?t.memoizedState=e:Gh(t,_e.memoizedState,e)},useTransition:function(){var e=Wi(js)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Ah,useSyncExternalStore:Mh,useId:Jh,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ni={isMounted:function(e){return(e=e._reactInternals)?zr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ie(),s=dr(e),i=Mt(n,s);i.payload=t,r!=null&&(i.callback=r),t=cr(e,i,s),t!==null&&(xt(t,e,s,n),ha(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ie(),s=dr(e),i=Mt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=cr(e,i,s),t!==null&&(xt(t,e,s,n),ha(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ie(),n=dr(e),s=Mt(r,n);s.tag=2,t!=null&&(s.callback=t),t=cr(e,s,n),t!==null&&(xt(t,e,n,r),ha(t,e,n))}};function cu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ps(r,n)||!ps(s,i):!0}function ef(e,t,r){var n=!1,s=pr,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=Ke(t)?Or:Ae.current,n=t.contextTypes,i=(n=n!=null)?pn(e,s):pr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function uu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function Do(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},zl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=Ke(t)?Or:Ae.current,s.context=pn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Mo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ni.enqueueReplaceState(s,s.state,null),Aa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bn(e,t){try{var r="",n=t;do r+=ym(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Yi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Io(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Hg=typeof WeakMap=="function"?WeakMap:Map;function tf(e,t,r){r=Mt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fa||(Fa=!0,Ko=n),Io(e,t)},r}function rf(e,t,r){r=Mt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Io(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Io(e,t),typeof n!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function du(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Hg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=sp.bind(null,e,t,r),t.then(e,e))}function hu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mt(-1,1),t.tag=2,cr(r,t,1))),r.lanes|=1),e)}var qg=Bt.ReactCurrentOwner,We=!1;function De(e,t,r,n){t.child=e===null?$h(t,null,r,n):xn(t,e.child,r,n)}function mu(e,t,r,n,s){r=r.render;var i=t.ref;return dn(t,s),n=Hl(e,t,r,n,i,s),r=ql(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(fe&&r&&Ll(t),t.flags|=1,De(e,t,n,s),t.child)}function gu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!tc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,nf(e,t,i,n,s)):(e=xa(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ps,r(o,n)&&e.ref===t.ref)return Ut(e,t,s)}return t.flags|=1,e=hr(i,n),e.ref=t.ref,e.return=t,t.child=e}function nf(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ps(i,n)&&e.ref===t.ref)if(We=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Ut(e,t,s)}return zo(e,t,r,n,s)}function sf(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(an,Ze),Ze|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(an,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ce(an,Ze),Ze|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ce(an,Ze),Ze|=n;return De(e,t,s,r),t.child}function af(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zo(e,t,r,n,s){var i=Ke(r)?Or:Ae.current;return i=pn(t,i),dn(t,s),r=Hl(e,t,r,n,i,s),n=ql(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(fe&&n&&Ll(t),t.flags|=1,De(e,t,r,s),t.child)}function pu(e,t,r,n,s){if(Ke(r)){var i=!0;Ta(t)}else i=!1;if(dn(t,s),t.stateNode===null)ga(e,t),ef(t,r,n),Do(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=Ke(r)?Or:Ae.current,u=pn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&uu(t,o,n,u),Jt=!1;var m=t.memoizedState;o.state=m,Aa(t,n,o,s),c=t.memoizedState,l!==n||m!==c||Ye.current||Jt?(typeof d=="function"&&(Mo(t,r,d,n),c=t.memoizedState),(l=Jt||cu(t,r,l,n,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Oh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ft(t.type,l),o.props=u,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ct(c):(c=Ke(r)?Or:Ae.current,c=pn(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&uu(t,o,n,c),Jt=!1,m=t.memoizedState,o.state=m,Aa(t,n,o,s);var v=t.memoizedState;l!==h||m!==v||Ye.current||Jt?(typeof y=="function"&&(Mo(t,r,y,n),v=t.memoizedState),(u=Jt||cu(t,r,u,n,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Fo(e,t,r,n,i,s)}function Fo(e,t,r,n,s,i){af(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&tu(t,r,!1),Ut(e,t,i);n=t.stateNode,qg.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=xn(t,e.child,null,i),t.child=xn(t,null,l,i)):De(e,t,l,i),t.memoizedState=n.state,s&&tu(t,r,!0),t.child}function of(e){var t=e.stateNode;t.pendingContext?eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eu(e,t.context,!1),Fl(e,t.containerInfo)}function yu(e,t,r,n,s){return yn(),Rl(s),t.flags|=256,De(e,t,r,n),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function lf(e,t,r){var n=t.pendingProps,s=ge.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(ge,s&1),e===null)return Ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ii(o,n,0,null),e=Lr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bo(r),t.memoizedState=Uo,e):Kl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Wg(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=hr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=hr(l,i):(i=Lr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Bo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Uo,n}return i=e.child,e=i.sibling,n=hr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Kl(e,t){return t=ii({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qs(e,t,r,n){return n!==null&&Rl(n),xn(t,e.child,null,r),e=Kl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wg(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Yi(Error(F(422))),Qs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ii({mode:"visible",children:n.children},s,0,null),i=Lr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&xn(t,e.child,null,o),t.child.memoizedState=Bo(o),t.memoizedState=Uo,i);if(!(t.mode&1))return Qs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(F(419)),n=Yi(i,n,void 0),Qs(e,t,o,n)}if(l=(o&e.childLanes)!==0,We||l){if(n=Ee,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ft(e,s),xt(n,e,s,-1))}return ec(),n=Yi(Error(F(421))),Qs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ap.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,et=lr(s.nextSibling),tt=t,fe=!0,pt=null,e!==null&&(at[it++]=Rt,at[it++]=At,at[it++]=Rr,Rt=e.id,At=e.overflow,Rr=t),t=Kl(t,n.children),t.flags|=4096,t)}function xu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ao(e.return,t,r)}function Ki(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function cf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(De(e,t,n.children,r),n=ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xu(e,r,t);else if(e.tag===19)xu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ce(ge,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ma(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ki(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ma(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ki(t,!0,r,null,i);break;case"together":Ki(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ga(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Mr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=hr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Yg(e,t,r){switch(t.tag){case 3:of(t),yn();break;case 5:Rh(t);break;case 1:Ke(t.type)&&Ta(t);break;case 4:Fl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ce(Oa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ce(ge,ge.current&1),t.flags|=128,null):r&t.child.childLanes?lf(e,t,r):(ce(ge,ge.current&1),e=Ut(e,t,r),e!==null?e.sibling:null);ce(ge,ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(ge,ge.current),n)break;return null;case 22:case 23:return t.lanes=0,sf(e,t,r)}return Ut(e,t,r)}var uf,Vo,df,hf;uf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vo=function(){};df=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Tr(Pt.current);var i=null;switch(r){case"input":s=uo(e,s),n=uo(e,n),i=[];break;case"select":s=xe({},s,{value:void 0}),n=xe({},n,{value:void 0}),i=[];break;case"textarea":s=mo(e,s),n=mo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ea)}po(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ue("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};hf=function(e,t,r,n){r!==n&&(t.flags|=4)};function zn(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Kg(e,t,r){var n=t.pendingProps;switch(Ol(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Ke(t.type)&&Pa(),Oe(t),null;case 3:return n=t.stateNode,vn(),de(Ye),de(Ae),Bl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(Qo(pt),pt=null))),Vo(e,t),Oe(t),null;case 5:Ul(t);var s=Tr(ws.current);if(r=t.type,e!==null&&t.stateNode!=null)df(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Oe(t),null}if(e=Tr(Pt.current),Gs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[St]=t,n[vs]=i,e=(t.mode&1)!==0,r){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(s=0;s<Wn.length;s++)ue(Wn[s],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":Cc(n,i),ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ue("invalid",n);break;case"textarea":Pc(n,i),ue("invalid",n)}po(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ks(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ks(n.textContent,l,e),s=["children",""+l]):cs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",n)}switch(r){case"input":Fs(n),Ec(n,i,!0);break;case"textarea":Fs(n),Tc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ea)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[St]=t,e[vs]=n,uf(e,t,!1,!1),t.stateNode=e;e:{switch(o=yo(r,n),r){case"dialog":ue("cancel",e),ue("close",e),s=n;break;case"iframe":case"object":case"embed":ue("load",e),s=n;break;case"video":case"audio":for(s=0;s<Wn.length;s++)ue(Wn[s],e);s=n;break;case"source":ue("error",e),s=n;break;case"img":case"image":case"link":ue("error",e),ue("load",e),s=n;break;case"details":ue("toggle",e),s=n;break;case"input":Cc(e,n),s=uo(e,n),ue("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=xe({},n,{value:void 0}),ue("invalid",e);break;case"textarea":Pc(e,n),s=mo(e,n),ue("invalid",e);break;default:s=n}po(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Bd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fd(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&us(e,c):typeof c=="number"&&us(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ue("scroll",e):c!=null&&xl(e,i,c,o))}switch(r){case"input":Fs(e),Ec(e,n,!1);break;case"textarea":Fs(e),Tc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+gr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?on(e,!!n.multiple,i,!1):n.defaultValue!=null&&on(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ea)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)hf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=Tr(ws.current),Tr(Pt.current),Gs(t)){if(n=t.stateNode,r=t.memoizedProps,n[St]=t,(i=n.nodeValue!==r)&&(e=tt,e!==null))switch(e.tag){case 3:Ks(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ks(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[St]=t,t.stateNode=n}return Oe(t),null;case 13:if(de(ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&et!==null&&t.mode&1&&!(t.flags&128))Ph(),yn(),t.flags|=98560,i=!1;else if(i=Gs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[St]=t}else yn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else pt!==null&&(Qo(pt),pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ne===0&&(Ne=3):ec())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return vn(),Vo(e,t),e===null&&ys(t.stateNode.containerInfo),Oe(t),null;case 10:return Dl(t.type._context),Oe(t),null;case 17:return Ke(t.type)&&Pa(),Oe(t),null;case 19:if(de(ge),i=t.memoizedState,i===null)return Oe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)zn(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ma(e),o!==null){for(t.flags|=128,zn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ce(ge,ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&we()>wn&&(t.flags|=128,n=!0,zn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ma(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fe)return Oe(t),null}else 2*we()-i.renderingStartTime>wn&&r!==1073741824&&(t.flags|=128,n=!0,zn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=we(),t.sibling=null,r=ge.current,ce(ge,n?r&1|2:r&1),t):(Oe(t),null);case 22:case 23:return Zl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ze&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Gg(e,t){switch(Ol(t),t.tag){case 1:return Ke(t.type)&&Pa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(),de(Ye),de(Ae),Bl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ul(t),null;case 13:if(de(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(ge),null;case 4:return vn(),null;case 10:return Dl(t.type._context),null;case 22:case 23:return Zl(),null;case 24:return null;default:return null}}var Xs=!1,Re=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,W=null;function sn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(e,t,n)}else r.current=null}function Ho(e,t,r){try{r()}catch(n){be(e,t,n)}}var vu=!1;function Qg(e,t){if(Co=Na,e=ph(),$l(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++d===n&&(c=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Eo={focusedElem:e,selectionRange:r},Na=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,_=v.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?b:ft(t.type,b),_);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){be(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=vu,vu=!1,v}function es(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ho(t,r,i)}s=s.next}while(s!==n)}}function si(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ff(e){var t=e.alternate;t!==null&&(e.alternate=null,ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[vs],delete t[$o],delete t[Og],delete t[Rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mf(e){return e.tag===5||e.tag===3||e.tag===4}function bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ea));else if(n!==4&&(e=e.child,e!==null))for(Wo(e,t,r),e=e.sibling;e!==null;)Wo(e,t,r),e=e.sibling}function Yo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Yo(e,t,r),e=e.sibling;e!==null;)Yo(e,t,r),e=e.sibling}var Pe=null,mt=!1;function Wt(e,t,r){for(r=r.child;r!==null;)gf(e,t,r),r=r.sibling}function gf(e,t,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Ja,r)}catch{}switch(r.tag){case 5:Re||sn(r,t);case 6:var n=Pe,s=mt;Pe=null,Wt(e,t,r),Pe=n,mt=s,Pe!==null&&(mt?(e=Pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pe.removeChild(r.stateNode));break;case 18:Pe!==null&&(mt?(e=Pe,r=r.stateNode,e.nodeType===8?Ui(e.parentNode,r):e.nodeType===1&&Ui(e,r),ms(e)):Ui(Pe,r.stateNode));break;case 4:n=Pe,s=mt,Pe=r.stateNode.containerInfo,mt=!0,Wt(e,t,r),Pe=n,mt=s;break;case 0:case 11:case 14:case 15:if(!Re&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ho(r,t,o),s=s.next}while(s!==n)}Wt(e,t,r);break;case 1:if(!Re&&(sn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){be(r,t,l)}Wt(e,t,r);break;case 21:Wt(e,t,r);break;case 22:r.mode&1?(Re=(n=Re)||r.memoizedState!==null,Wt(e,t,r),Re=n):Wt(e,t,r);break;default:Wt(e,t,r)}}function wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Jg),t.forEach(function(n){var s=ip.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ht(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,mt=!1;break e;case 3:Pe=l.stateNode.containerInfo,mt=!0;break e;case 4:Pe=l.stateNode.containerInfo,mt=!0;break e}l=l.return}if(Pe===null)throw Error(F(160));gf(i,o,s),Pe=null,mt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){be(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pf(t,e),t=t.sibling}function pf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),jt(e),n&4){try{es(3,e,e.return),si(3,e)}catch(b){be(e,e.return,b)}try{es(5,e,e.return)}catch(b){be(e,e.return,b)}}break;case 1:ht(t,e),jt(e),n&512&&r!==null&&sn(r,r.return);break;case 5:if(ht(t,e),jt(e),n&512&&r!==null&&sn(r,r.return),e.flags&32){var s=e.stateNode;try{us(s,"")}catch(b){be(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Dd(s,i),yo(l,o);var u=yo(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Bd(s,h):d==="dangerouslySetInnerHTML"?Fd(s,h):d==="children"?us(s,h):xl(s,d,h,u)}switch(l){case"input":ho(s,i);break;case"textarea":Id(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?on(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?on(s,!!i.multiple,i.defaultValue,!0):on(s,!!i.multiple,i.multiple?[]:"",!1))}s[vs]=i}catch(b){be(e,e.return,b)}}break;case 6:if(ht(t,e),jt(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){be(e,e.return,b)}}break;case 3:if(ht(t,e),jt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ms(t.containerInfo)}catch(b){be(e,e.return,b)}break;case 4:ht(t,e),jt(e);break;case 13:ht(t,e),jt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ql=we())),n&4&&wu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Re=(u=Re)||d,ht(t,e),Re=u):ht(t,e),jt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(h=W=d;W!==null;){switch(m=W,y=m.child,m.tag){case 0:case 11:case 14:case 15:es(4,m,m.return);break;case 1:sn(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){be(n,r,b)}}break;case 5:sn(m,m.return);break;case 22:if(m.memoizedState!==null){ju(h);continue}}y!==null?(y.return=m,W=y):ju(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ud("display",o))}catch(b){be(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){be(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ht(t,e),jt(e),n&4&&wu(e);break;case 21:break;default:ht(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mf(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(us(s,""),n.flags&=-33);var i=bu(e);Yo(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=bu(e);Wo(e,l,o);break;default:throw Error(F(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xg(e,t,r){W=e,yf(e)}function yf(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Xs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Re;l=Xs;var u=Re;if(Xs=o,(Re=c)&&!u)for(W=s;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?_u(s):c!==null?(c.return=o,W=c):_u(s);for(;i!==null;)W=i,yf(i),i=i.sibling;W=s,Xs=l,Re=u}ku(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):ku(e)}}function ku(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||si(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Re)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ft(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&iu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}iu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ms(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Re||t.flags&512&&qo(t)}catch(m){be(t,t.return,m)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function ju(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function _u(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{si(4,t)}catch(c){be(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){be(t,s,c)}}var i=t.return;try{qo(t)}catch(c){be(t,i,c)}break;case 5:var o=t.return;try{qo(t)}catch(c){be(t,o,c)}}}catch(c){be(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Zg=Math.ceil,za=Bt.ReactCurrentDispatcher,Gl=Bt.ReactCurrentOwner,lt=Bt.ReactCurrentBatchConfig,re=0,Ee=null,je=null,Te=0,Ze=0,an=xr(0),Ne=0,Ns=null,Mr=0,ai=0,Jl=0,ts=null,He=null,Ql=0,wn=1/0,$t=null,Fa=!1,Ko=null,ur=null,Zs=!1,nr=null,Ua=0,rs=0,Go=null,pa=-1,ya=0;function Ie(){return re&6?we():pa!==-1?pa:pa=we()}function dr(e){return e.mode&1?re&2&&Te!==0?Te&-Te:Mg.transition!==null?(ya===0&&(ya=eh()),ya):(e=ne,e!==0||(e=window.event,e=e===void 0?16:oh(e.type)),e):1}function xt(e,t,r,n){if(50<rs)throw rs=0,Go=null,Error(F(185));$s(e,r,n),(!(re&2)||e!==Ee)&&(e===Ee&&(!(re&2)&&(ai|=r),Ne===4&&Zt(e,Te)),Ge(e,n),r===1&&re===0&&!(t.mode&1)&&(wn=we()+500,ti&&vr()))}function Ge(e,t){var r=e.callbackNode;Mm(e,t);var n=_a(e,e===Ee?Te:0);if(n===0)r!==null&&Oc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Oc(r),t===1)e.tag===0?Ag(Nu.bind(null,e)):Sh(Nu.bind(null,e)),$g(function(){!(re&6)&&vr()}),r=null;else{switch(th(n)){case 1:r=jl;break;case 4:r=Xd;break;case 16:r=ja;break;case 536870912:r=Zd;break;default:r=ja}r=Nf(r,xf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xf(e,t){if(pa=-1,ya=0,re&6)throw Error(F(327));var r=e.callbackNode;if(hn()&&e.callbackNode!==r)return null;var n=_a(e,e===Ee?Te:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ba(e,n);else{t=n;var s=re;re|=2;var i=bf();(Ee!==e||Te!==t)&&($t=null,wn=we()+500,$r(e,t));do try{rp();break}catch(l){vf(e,l)}while(!0);Ml(),za.current=i,re=s,je!==null?t=0:(Ee=null,Te=0,t=Ne)}if(t!==0){if(t===2&&(s=ko(e),s!==0&&(n=s,t=Jo(e,s))),t===1)throw r=Ns,$r(e,0),Zt(e,n),Ge(e,we()),r;if(t===6)Zt(e,n);else{if(s=e.current.alternate,!(n&30)&&!ep(s)&&(t=Ba(e,n),t===2&&(i=ko(e),i!==0&&(n=i,t=Jo(e,i))),t===1))throw r=Ns,$r(e,0),Zt(e,n),Ge(e,we()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Nr(e,He,$t);break;case 3:if(Zt(e,n),(n&130023424)===n&&(t=Ql+500-we(),10<t)){if(_a(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=To(Nr.bind(null,e,He,$t),t);break}Nr(e,He,$t);break;case 4:if(Zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-yt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=we()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Zg(n/1960))-n,10<n){e.timeoutHandle=To(Nr.bind(null,e,He,$t),n);break}Nr(e,He,$t);break;case 5:Nr(e,He,$t);break;default:throw Error(F(329))}}}return Ge(e,we()),e.callbackNode===r?xf.bind(null,e):null}function Jo(e,t){var r=ts;return e.current.memoizedState.isDehydrated&&($r(e,t).flags|=256),e=Ba(e,t),e!==2&&(t=He,He=r,t!==null&&Qo(t)),e}function Qo(e){He===null?He=e:He.push.apply(He,e)}function ep(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~Jl,t&=~ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yt(t),n=1<<r;e[r]=-1,t&=~n}}function Nu(e){if(re&6)throw Error(F(327));hn();var t=_a(e,0);if(!(t&1))return Ge(e,we()),null;var r=Ba(e,t);if(e.tag!==0&&r===2){var n=ko(e);n!==0&&(t=n,r=Jo(e,n))}if(r===1)throw r=Ns,$r(e,0),Zt(e,t),Ge(e,we()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nr(e,He,$t),Ge(e,we()),null}function Xl(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(wn=we()+500,ti&&vr())}}function Dr(e){nr!==null&&nr.tag===0&&!(re&6)&&hn();var t=re;re|=1;var r=lt.transition,n=ne;try{if(lt.transition=null,ne=1,e)return e()}finally{ne=n,lt.transition=r,re=t,!(re&6)&&vr()}}function Zl(){Ze=an.current,de(an)}function $r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Tg(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(Ol(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pa();break;case 3:vn(),de(Ye),de(Ae),Bl();break;case 5:Ul(n);break;case 4:vn();break;case 13:de(ge);break;case 19:de(ge);break;case 10:Dl(n.type._context);break;case 22:case 23:Zl()}r=r.return}if(Ee=e,je=e=hr(e.current,null),Te=Ze=t,Ne=0,Ns=null,Jl=ai=Mr=0,He=ts=null,Pr!==null){for(t=0;t<Pr.length;t++)if(r=Pr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Pr=null}return e}function vf(e,t){do{var r=je;try{if(Ml(),fa.current=Ia,Da){for(var n=pe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Da=!1}if(Ar=0,Ce=_e=pe=null,Zn=!1,ks=0,Gl.current=null,r===null||r.return===null){Ne=1,Ns=t,je=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Te,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=hu(o);if(y!==null){y.flags&=-257,fu(y,o,l,i,t),y.mode&1&&du(i,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var b=new Set;b.add(c),t.updateQueue=b}else v.add(c);break e}else{if(!(t&1)){du(i,u,t),ec();break e}c=Error(F(426))}}else if(fe&&l.mode&1){var _=hu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),fu(_,o,l,i,t),Rl(bn(c,l));break e}}i=c=bn(c,l),Ne!==4&&(Ne=2),ts===null?ts=[i]:ts.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=tf(i,c,t);au(i,g);break e;case 1:l=c;var f=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ur===null||!ur.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=rf(i,l,t);au(i,w);break e}}i=i.return}while(i!==null)}kf(r)}catch(E){t=E,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function bf(){var e=za.current;return za.current=Ia,e===null?Ia:e}function ec(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Ee===null||!(Mr&268435455)&&!(ai&268435455)||Zt(Ee,Te)}function Ba(e,t){var r=re;re|=2;var n=bf();(Ee!==e||Te!==t)&&($t=null,$r(e,t));do try{tp();break}catch(s){vf(e,s)}while(!0);if(Ml(),re=r,za.current=n,je!==null)throw Error(F(261));return Ee=null,Te=0,Ne}function tp(){for(;je!==null;)wf(je)}function rp(){for(;je!==null&&!Cm();)wf(je)}function wf(e){var t=_f(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?kf(e):je=t,Gl.current=null}function kf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Gg(r,t),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,je=null;return}}else if(r=Kg(r,t,Ze),r!==null){je=r;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ne===0&&(Ne=5)}function Nr(e,t,r){var n=ne,s=lt.transition;try{lt.transition=null,ne=1,np(e,t,r,n)}finally{lt.transition=s,ne=n}return null}function np(e,t,r,n){do hn();while(nr!==null);if(re&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Dm(e,i),e===Ee&&(je=Ee=null,Te=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zs||(Zs=!0,Nf(ja,function(){return hn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=lt.transition,lt.transition=null;var o=ne;ne=1;var l=re;re|=4,Gl.current=null,Qg(e,r),pf(r,e),jg(Eo),Na=!!Co,Eo=Co=null,e.current=r,Xg(r),Em(),re=l,ne=o,lt.transition=i}else e.current=r;if(Zs&&(Zs=!1,nr=e,Ua=s),i=e.pendingLanes,i===0&&(ur=null),$m(r.stateNode),Ge(e,we()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Fa)throw Fa=!1,e=Ko,Ko=null,e;return Ua&1&&e.tag!==0&&hn(),i=e.pendingLanes,i&1?e===Go?rs++:(rs=0,Go=e):rs=0,vr(),null}function hn(){if(nr!==null){var e=th(Ua),t=lt.transition,r=ne;try{if(lt.transition=null,ne=16>e?16:e,nr===null)var n=!1;else{if(e=nr,nr=null,Ua=0,re&6)throw Error(F(331));var s=re;for(re|=4,W=e.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:es(8,d,i)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var m=d.sibling,y=d.return;if(ff(d),d===u){W=null;break}if(m!==null){m.return=y,W=m;break}W=y}}}var v=i.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var _=b.sibling;b.sibling=null,b=_}while(b!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:es(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,W=g;break e}W=i.return}}var f=e.current;for(W=f;W!==null;){o=W;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,W=x;else e:for(o=f;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:si(9,l)}}catch(E){be(l,l.return,E)}if(l===o){W=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,W=w;break e}W=l.return}}if(re=s,vr(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Ja,e)}catch{}n=!0}return n}finally{ne=r,lt.transition=t}}return!1}function Su(e,t,r){t=bn(r,t),t=tf(e,t,1),e=cr(e,t,1),t=Ie(),e!==null&&($s(e,1,t),Ge(e,t))}function be(e,t,r){if(e.tag===3)Su(e,e,r);else for(;t!==null;){if(t.tag===3){Su(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ur===null||!ur.has(n))){e=bn(r,e),e=rf(t,e,1),t=cr(t,e,1),e=Ie(),t!==null&&($s(t,1,e),Ge(t,e));break}}t=t.return}}function sp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&r,Ee===e&&(Te&r)===r&&(Ne===4||Ne===3&&(Te&130023424)===Te&&500>we()-Ql?$r(e,0):Jl|=r),Ge(e,t)}function jf(e,t){t===0&&(e.mode&1?(t=Vs,Vs<<=1,!(Vs&130023424)&&(Vs=4194304)):t=1);var r=Ie();e=Ft(e,t),e!==null&&($s(e,t,r),Ge(e,r))}function ap(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jf(e,r)}function ip(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),jf(e,r)}var _f;_f=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)We=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return We=!1,Yg(e,t,r);We=!!(e.flags&131072)}else We=!1,fe&&t.flags&1048576&&Ch(t,La,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ga(e,t),e=t.pendingProps;var s=pn(t,Ae.current);dn(t,r),s=Hl(null,t,n,e,s,r);var i=ql();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(n)?(i=!0,Ta(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zl(t),s.updater=ni,t.stateNode=s,s._reactInternals=t,Do(t,n,e,r),t=Fo(null,t,n,!0,i,r)):(t.tag=0,fe&&i&&Ll(t),De(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ga(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=lp(n),e=ft(n,e),s){case 0:t=zo(null,t,n,e,r);break e;case 1:t=pu(null,t,n,e,r);break e;case 11:t=mu(null,t,n,e,r);break e;case 14:t=gu(null,t,n,ft(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ft(n,s),zo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ft(n,s),pu(e,t,n,s,r);case 3:e:{if(of(t),e===null)throw Error(F(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Oh(e,t),Aa(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=bn(Error(F(423)),t),t=yu(e,t,n,r,s);break e}else if(n!==s){s=bn(Error(F(424)),t),t=yu(e,t,n,r,s);break e}else for(et=lr(t.stateNode.containerInfo.firstChild),tt=t,fe=!0,pt=null,r=$h(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yn(),n===s){t=Ut(e,t,r);break e}De(e,t,n,r)}t=t.child}return t;case 5:return Rh(t),e===null&&Ro(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Po(n,s)?o=null:i!==null&&Po(n,i)&&(t.flags|=32),af(e,t),De(e,t,o,r),t.child;case 6:return e===null&&Ro(t),null;case 13:return lf(e,t,r);case 4:return Fl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xn(t,null,n,r):De(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ft(n,s),mu(e,t,n,s,r);case 7:return De(e,t,t.pendingProps,r),t.child;case 8:return De(e,t,t.pendingProps.children,r),t.child;case 12:return De(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ce(Oa,n._currentValue),n._currentValue=o,i!==null)if(vt(i.value,o)){if(i.children===s.children&&!Ye.current){t=Ut(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Mt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ao(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ao(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}De(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,dn(t,r),s=ct(s),n=n(s),t.flags|=1,De(e,t,n,r),t.child;case 14:return n=t.type,s=ft(n,t.pendingProps),s=ft(n.type,s),gu(e,t,n,s,r);case 15:return nf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ft(n,s),ga(e,t),t.tag=1,Ke(n)?(e=!0,Ta(t)):e=!1,dn(t,r),ef(t,n,s),Do(t,n,s,r),Fo(null,t,n,!0,e,r);case 19:return cf(e,t,r);case 22:return sf(e,t,r)}throw Error(F(156,t.tag))};function Nf(e,t){return Qd(e,t)}function op(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,r,n){return new op(e,t,r,n)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lp(e){if(typeof e=="function")return tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bl)return 11;if(e===wl)return 14}return 2}function hr(e,t){var r=e.alternate;return r===null?(r=ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xa(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")tc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gr:return Lr(r.children,s,i,t);case vl:o=8,s|=8;break;case io:return e=ot(12,r,t,s|2),e.elementType=io,e.lanes=i,e;case oo:return e=ot(13,r,t,s),e.elementType=oo,e.lanes=i,e;case lo:return e=ot(19,r,t,s),e.elementType=lo,e.lanes=i,e;case Rd:return ii(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ld:o=10;break e;case Od:o=9;break e;case bl:o=11;break e;case wl:o=14;break e;case Gt:o=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=ot(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Lr(e,t,r,n){return e=ot(7,e,n,t),e.lanes=r,e}function ii(e,t,r,n){return e=ot(22,e,n,t),e.elementType=Rd,e.lanes=r,e.stateNode={isHidden:!1},e}function Gi(e,t,r){return e=ot(6,e,null,t),e.lanes=r,e}function Ji(e,t,r){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cp(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rc(e,t,r,n,s,i,o,l,c){return e=new cp(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(i),e}function up(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Sf(e){if(!e)return pr;e=e._reactInternals;e:{if(zr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Ke(r))return Nh(e,r,t)}return t}function Cf(e,t,r,n,s,i,o,l,c){return e=rc(r,n,!0,e,s,i,o,l,c),e.context=Sf(null),r=e.current,n=Ie(),s=dr(r),i=Mt(n,s),i.callback=t??null,cr(r,i,s),e.current.lanes=s,$s(e,s,n),Ge(e,n),e}function oi(e,t,r,n){var s=t.current,i=Ie(),o=dr(s);return r=Sf(r),t.context===null?t.context=r:t.pendingContext=r,t=Mt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=cr(s,t,o),e!==null&&(xt(e,s,o,i),ha(e,s,o)),o}function Va(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nc(e,t){Cu(e,t),(e=e.alternate)&&Cu(e,t)}function dp(){return null}var Ef=typeof reportError=="function"?reportError:function(e){console.error(e)};function sc(e){this._internalRoot=e}li.prototype.render=sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));oi(e,t,null,null)};li.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){oi(null,e,null,null)}),t[zt]=null}};function li(e){this._internalRoot=e}li.prototype.unstable_scheduleHydration=function(e){if(e){var t=sh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xt.length&&t!==0&&t<Xt[r].priority;r++);Xt.splice(r,0,e),r===0&&ih(e)}};function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ci(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Eu(){}function hp(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Va(o);i.call(u)}}var o=Cf(t,n,e,0,null,!1,!1,"",Eu);return e._reactRootContainer=o,e[zt]=o.current,ys(e.nodeType===8?e.parentNode:e),Dr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Va(c);l.call(u)}}var c=rc(e,0,!1,null,null,!1,!1,"",Eu);return e._reactRootContainer=c,e[zt]=c.current,ys(e.nodeType===8?e.parentNode:e),Dr(function(){oi(t,c,r,n)}),c}function ui(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Va(o);l.call(c)}}oi(t,o,e,s)}else o=hp(r,t,e,s,n);return Va(o)}rh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qn(t.pendingLanes);r!==0&&(_l(t,r|1),Ge(t,we()),!(re&6)&&(wn=we()+500,vr()))}break;case 13:Dr(function(){var n=Ft(e,1);if(n!==null){var s=Ie();xt(n,e,1,s)}}),nc(e,1)}};Nl=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var r=Ie();xt(t,e,134217728,r)}nc(e,134217728)}};nh=function(e){if(e.tag===13){var t=dr(e),r=Ft(e,t);if(r!==null){var n=Ie();xt(r,e,t,n)}nc(e,t)}};sh=function(){return ne};ah=function(e,t){var r=ne;try{return ne=e,t()}finally{ne=r}};vo=function(e,t,r){switch(t){case"input":if(ho(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ei(n);if(!s)throw Error(F(90));Md(n),ho(n,s)}}}break;case"textarea":Id(e,r);break;case"select":t=r.value,t!=null&&on(e,!!r.multiple,t,!1)}};qd=Xl;Wd=Dr;var fp={usingClientEntryPoint:!1,Events:[Os,Zr,ei,Vd,Hd,Xl]},Fn={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mp={bundleType:Fn.bundleType,version:Fn.version,rendererPackageName:Fn.rendererPackageName,rendererConfig:Fn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gd(e),e===null?null:e.stateNode},findFiberByHostInstance:Fn.findFiberByHostInstance||dp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ea.isDisabled&&ea.supportsFiber)try{Ja=ea.inject(mp),Et=ea}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fp;nt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(t))throw Error(F(200));return up(e,t,null,r)};nt.createRoot=function(e,t){if(!ac(e))throw Error(F(299));var r=!1,n="",s=Ef;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rc(e,1,!1,null,null,r,!1,n,s),e[zt]=t.current,ys(e.nodeType===8?e.parentNode:e),new sc(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Gd(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Dr(e)};nt.hydrate=function(e,t,r){if(!ci(t))throw Error(F(200));return ui(null,e,t,!0,r)};nt.hydrateRoot=function(e,t,r){if(!ac(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Ef;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Cf(t,null,e,1,r??null,s,!1,i,o),e[zt]=t.current,ys(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new li(t)};nt.render=function(e,t,r){if(!ci(t))throw Error(F(200));return ui(null,e,t,!1,r)};nt.unmountComponentAtNode=function(e){if(!ci(e))throw Error(F(40));return e._reactRootContainer?(Dr(function(){ui(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};nt.unstable_batchedUpdates=Xl;nt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ci(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return ui(e,t,r,!1,n)};nt.version="18.3.1-next-f1338f8080-20240426";function Pf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pf)}catch(e){console.error(e)}}Pf(),Ed.exports=nt;var gp=Ed.exports,Pu=gp;va.createRoot=Pu.createRoot,va.hydrateRoot=Pu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}var sr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sr||(sr={}));const Tu="popstate";function pp(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:c=""}=Fr(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Xo("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Ha(i))}function n(s,i){ic(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return xp(t,r,n,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ic(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yp(){return Math.random().toString(36).substr(2,8)}function $u(e,t){return{usr:e.state,key:e.key,idx:t}}function Xo(e,t,r,n){return r===void 0&&(r=null),Ss({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fr(t):t,{state:r,key:t&&t.key||n||yp()})}function Ha(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function xp(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=sr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ss({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=sr.Pop;let _=d(),g=_==null?null:_-u;u=_,c&&c({action:l,location:b.location,delta:g})}function m(_,g){l=sr.Push;let f=Xo(b.location,_,g);r&&r(f,_),u=d()+1;let x=$u(f,u),w=b.createHref(f);try{o.pushState(x,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(w)}i&&c&&c({action:l,location:b.location,delta:1})}function y(_,g){l=sr.Replace;let f=Xo(b.location,_,g);r&&r(f,_),u=d();let x=$u(f,u),w=b.createHref(f);o.replaceState(x,"",w),i&&c&&c({action:l,location:b.location,delta:0})}function v(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof _=="string"?_:Ha(_);return f=f.replace(/ $/,"%20"),ye(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let b={get action(){return l},get location(){return e(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Tu,h),c=_,()=>{s.removeEventListener(Tu,h),c=null}},createHref(_){return t(s,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:y,go(_){return o.go(_)}};return b}var Lu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lu||(Lu={}));function vp(e,t,r){return r===void 0&&(r="/"),bp(e,t,r)}function bp(e,t,r,n){let s=typeof t=="string"?Fr(t):t,i=kn(s.pathname||"/",r);if(i==null)return null;let o=Tf(e);wp(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Lp(i);l=Tp(o[c],u)}return l}function Tf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=fr([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tf(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Ep(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of $f(i.path))s(i,o,c)}),t}function $f(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=$f(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function wp(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Pp(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kp=/^:[\w-]+$/,jp=3,_p=2,Np=1,Sp=10,Cp=-2,Ou=e=>e==="*";function Ep(e,t){let r=e.split("/"),n=r.length;return r.some(Ou)&&(n+=Cp),t&&(n+=_p),r.filter(s=>!Ou(s)).reduce((s,i)=>s+(kp.test(i)?jp:i===""?Np:Sp),n)}function Pp(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Tp(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Zo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:fr([i,h.pathname]),pathnameBase:Mp(fr([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=fr([i,h.pathnameBase]))}return o}function Zo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$p(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let b=l[h]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[h];return y&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function $p(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ic(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Lp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ic(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Op(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Fr(e):e;return{pathname:r?r.startsWith("/")?r:Rp(r,t):t,search:Dp(n),hash:Ip(s)}}function Rp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Qi(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ap(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function oc(e,t){let r=Ap(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lc(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Fr(e):(s=Ss({},e),ye(!s.pathname||!s.pathname.includes("?"),Qi("?","pathname","search",s)),ye(!s.pathname||!s.pathname.includes("#"),Qi("#","pathname","hash",s)),ye(!s.search||!s.search.includes("#"),Qi("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=Op(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const fr=e=>e.join("/").replace(/\/\/+/g,"/"),Mp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ip=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Lf=["post","put","patch","delete"];new Set(Lf);const Fp=["get",...Lf];new Set(Fp);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}const di=p.createContext(null),Of=p.createContext(null),Vt=p.createContext(null),hi=p.createContext(null),Tt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Rf=p.createContext(null);function Up(e,t){let{relative:r}=t===void 0?{}:t;Pn()||ye(!1);let{basename:n,navigator:s}=p.useContext(Vt),{hash:i,pathname:o,search:l}=fi(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:fr([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Pn(){return p.useContext(hi)!=null}function br(){return Pn()||ye(!1),p.useContext(hi).location}function Af(e){p.useContext(Vt).static||p.useLayoutEffect(e)}function Ue(){let{isDataRoute:e}=p.useContext(Tt);return e?ry():Bp()}function Bp(){Pn()||ye(!1);let e=p.useContext(di),{basename:t,future:r,navigator:n}=p.useContext(Vt),{matches:s}=p.useContext(Tt),{pathname:i}=br(),o=JSON.stringify(oc(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return Af(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=lc(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:fr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const Vp=p.createContext(null);function Hp(e){let t=p.useContext(Tt).outlet;return t&&p.createElement(Vp.Provider,{value:e},t)}function As(){let{matches:e}=p.useContext(Tt),t=e[e.length-1];return t?t.params:{}}function fi(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(Vt),{matches:s}=p.useContext(Tt),{pathname:i}=br(),o=JSON.stringify(oc(s,n.v7_relativeSplatPath));return p.useMemo(()=>lc(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function qp(e,t){return Wp(e,t)}function Wp(e,t,r,n){Pn()||ye(!1);let{navigator:s,static:i}=p.useContext(Vt),{matches:o}=p.useContext(Tt),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=br(),h;if(t){var m;let g=typeof t=="string"?Fr(t):t;u==="/"||(m=g.pathname)!=null&&m.startsWith(u)||ye(!1),h=g}else h=d;let y=h.pathname||"/",v=y;if(u!=="/"){let g=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=vp(e,{pathname:v}),_=Qp(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:fr([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:fr([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return t&&_?p.createElement(hi.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:sr.Pop}},_):_}function Yp(){let e=ty(),t=zp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const Kp=p.createElement(Yp,null);class Gp extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Tt.Provider,{value:this.props.routeContext},p.createElement(Rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jp(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(di);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Tt.Provider,{value:t},n)}function Qp(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:y}=r,v=h.route.loader&&m[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let y,v=!1,b=null,_=null;r&&(y=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||Kp,c&&(u<0&&m===0?(ny("route-fallback"),v=!0,_=null):u===m&&(v=!0,_=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,m+1)),f=()=>{let x;return y?x=b:v?x=_:h.route.Component?x=p.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,p.createElement(Jp,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(Gp,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var Mf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Mf||{}),Df=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Df||{});function Xp(e){let t=p.useContext(di);return t||ye(!1),t}function Zp(e){let t=p.useContext(Of);return t||ye(!1),t}function ey(e){let t=p.useContext(Tt);return t||ye(!1),t}function If(e){let t=ey(),r=t.matches[t.matches.length-1];return r.route.id||ye(!1),r.route.id}function ty(){var e;let t=p.useContext(Rf),r=Zp(),n=If();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ry(){let{router:e}=Xp(Mf.UseNavigateStable),t=If(Df.UseNavigateStable),r=p.useRef(!1);return Af(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Cs({fromRouteId:t},i)))},[e,t])}const Ru={};function ny(e,t,r){Ru[e]||(Ru[e]=!0)}function sy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zf(e){let{to:t,replace:r,state:n,relative:s}=e;Pn()||ye(!1);let{future:i,static:o}=p.useContext(Vt),{matches:l}=p.useContext(Tt),{pathname:c}=br(),u=Ue(),d=lc(t,oc(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function ay(e){return Hp(e.context)}function me(e){ye(!1)}function iy(e){let{basename:t="/",children:r=null,location:n,navigationType:s=sr.Pop,navigator:i,static:o=!1,future:l}=e;Pn()&&ye(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:Cs({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Fr(n));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:v="default"}=n,b=p.useMemo(()=>{let _=kn(d,c);return _==null?null:{location:{pathname:_,search:h,hash:m,state:y,key:v},navigationType:s}},[c,d,h,m,y,v,s]);return b==null?null:p.createElement(Vt.Provider,{value:u},p.createElement(hi.Provider,{children:r,value:b}))}function oy(e){let{children:t,location:r}=e;return qp(el(t),r)}new Promise(()=>{});function el(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let i=[...t,s];if(n.type===p.Fragment){r.push.apply(r,el(n.props.children,i));return}n.type!==me&&ye(!1),!n.props.index||!n.props.children||ye(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=el(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qa.apply(this,arguments)}function Ff(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ly(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cy(e,t){return e.button===0&&(!t||t==="_self")&&!ly(e)}const uy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dy=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],hy="6";try{window.__reactRouterVersion=hy}catch{}const fy=p.createContext({isTransitioning:!1}),my="startTransition",Au=sm[my];function gy(e){let{basename:t,children:r,future:n,window:s}=e,i=p.useRef();i.current==null&&(i.current=pp({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(h=>{u&&Au?Au(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>sy(n),[n]),p.createElement(iy,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=Ff(t,uy),{basename:y}=p.useContext(Vt),v,b=!1;if(typeof u=="string"&&yy.test(u)&&(v=u,py))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),E=kn(w.pathname,y);w.origin===x.origin&&E!=null?u=E+w.search+w.hash:b=!0}catch{}let _=Up(u,{relative:s}),g=vy(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function f(x){n&&n(x),x.defaultPrevented||g(x)}return p.createElement("a",qa({},m,{href:v||_,onClick:b||i?n:f,ref:r,target:c}))}),Mu=p.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=Ff(t,dy),m=fi(c,{relative:h.relative}),y=br(),v=p.useContext(Of),{navigator:b,basename:_}=p.useContext(Vt),g=v!=null&&by(m)&&u===!0,f=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,x=y.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(x=x.toLowerCase(),w=w?w.toLowerCase():null,f=f.toLowerCase()),w&&_&&(w=kn(w,_)||w);const E=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let k=x===f||!o&&x.startsWith(f)&&x.charAt(E)==="/",P=w!=null&&(w===f||!o&&w.startsWith(f)&&w.charAt(f.length)==="/"),T={isActive:k,isPending:P,isTransitioning:g},S=k?n:void 0,L;typeof i=="function"?L=i(T):L=[i,k?"active":null,P?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(T):l;return p.createElement(ie,qa({},h,{"aria-current":S,className:L,ref:r,style:O,to:c,viewTransition:u}),typeof d=="function"?d(T):d)});var tl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tl||(tl={}));var Du;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Du||(Du={}));function xy(e){let t=p.useContext(di);return t||ye(!1),t}function vy(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ue(),u=br(),d=fi(e,{relative:o});return p.useCallback(h=>{if(cy(h,r)){h.preventDefault();let m=n!==void 0?n:Ha(u)===Ha(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function by(e,t){t===void 0&&(t={});let r=p.useContext(fy);r==null&&ye(!1);let{basename:n}=xy(tl.useViewTransitionState),s=fi(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=kn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=kn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zo(s.pathname,o)!=null||Zo(s.pathname,i)!=null}const wy="modulepreload",ky=function(e){return"/church-connect/"+e},Iu={},jn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=ky(c),c in Iu)return;Iu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":wy,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},jy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>jn(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class cc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class _y extends cc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ny extends cc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sy extends cc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var rl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(rl||(rl={}));var Cy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Ey{constructor(t,{headers:r={},customFetch:n,region:s=rl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=jy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Cy(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new _y(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Ny(d);if(!d.ok)throw new Sy(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var qe={},uc={},mi={},Ms={},gi={},pi={},Py=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_n=Py();const Ty=_n.fetch,Uf=_n.fetch.bind(_n),Bf=_n.Headers,$y=_n.Request,Ly=_n.Response,Tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bf,Request:$y,Response:Ly,default:Uf,fetch:Ty},Symbol.toStringTag,{value:"Module"})),Oy=B0(Tn);var yi={};Object.defineProperty(yi,"__esModule",{value:!0});let Ry=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};yi.default=Ry;var Vf=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pi,"__esModule",{value:!0});const Ay=Vf(Oy),My=Vf(yi);let Dy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ay.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&b===""?(m=204,y="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&this.shouldThrowOnError)throw new My.default(u)}return{error:u,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};pi.default=Dy;var Iy=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gi,"__esModule",{value:!0});const zy=Iy(pi);let Fy=class extends zy.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gi.default=Fy;var Uy=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ms,"__esModule",{value:!0});const By=Uy(gi);let Vy=class extends By.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ms.default=Vy;var Hy=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mi,"__esModule",{value:!0});const Un=Hy(Ms);let qy=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Un.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Un.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Un.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};mi.default=qy;var xi={},vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.version=void 0;vi.version="0.0.0-automated";Object.defineProperty(xi,"__esModule",{value:!0});xi.DEFAULT_HEADERS=void 0;const Wy=vi;xi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Wy.version}`};var Hf=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uc,"__esModule",{value:!0});const Yy=Hf(mi),Ky=Hf(Ms),Gy=xi;let Jy=class qf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Gy.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Yy.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Ky.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};uc.default=Jy;var $n=Je&&Je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const Wf=$n(uc);qe.PostgrestClient=Wf.default;const Yf=$n(mi);qe.PostgrestQueryBuilder=Yf.default;const Kf=$n(Ms);qe.PostgrestFilterBuilder=Kf.default;const Gf=$n(gi);qe.PostgrestTransformBuilder=Gf.default;const Jf=$n(pi);qe.PostgrestBuilder=Jf.default;const Qf=$n(yi);qe.PostgrestError=Qf.default;var Qy=qe.default={PostgrestClient:Wf.default,PostgrestQueryBuilder:Yf.default,PostgrestFilterBuilder:Kf.default,PostgrestTransformBuilder:Gf.default,PostgrestBuilder:Jf.default,PostgrestError:Qf.default};const{PostgrestClient:Xy,PostgrestQueryBuilder:N2,PostgrestFilterBuilder:S2,PostgrestTransformBuilder:C2,PostgrestBuilder:E2,PostgrestError:P2}=Qy,Zy="2.11.2",ex={"X-Client-Info":`realtime-js/${Zy}`},tx="1.0.0",Xf=1e4,rx=1e3;var fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fn||(fn={}));var Xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xe||(Xe={}));var gt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gt||(gt={}));var nl;(function(e){e.websocket="websocket"})(nl||(nl={}));var Cr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Cr||(Cr={}));class nx{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Zf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(le||(le={}));const zu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=sx(o,e,t,s),i),{})},sx=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?e0(i,o):sl(o)},e0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return lx(t,r)}switch(e){case le.bool:return ax(t);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return ix(t);case le.json:case le.jsonb:return ox(t);case le.timestamp:return cx(t);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return sl(t);default:return sl(t)}},sl=e=>e,ax=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ix=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ox=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},lx=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>e0(t,l))}return e},cx=e=>typeof e=="string"?e.replace(" ","T"):e,t0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Xi{constructor(t,r,n={},s=Xf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fu||(Fu={}));class ns{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ns.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ns.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ns.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(_=>_.presence_ref),y=h.map(_=>_.presence_ref),v=d.filter(_=>y.indexOf(_.presence_ref)<0),b=h.filter(_=>m.indexOf(_.presence_ref)<0);v.length>0&&(l[u]=v),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Uu||(Uu={}));var Bu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bu||(Bu={}));var Lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lt||(Lt={}));class dc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xi(this,gt.join,this.params,this.timeout),this.rejoinTimer=new Zf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ns(this),this.broadcastEndpointURL=t0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Lt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Lt.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Lt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,v=[];for(let b=0;b<y;b++){const _=m[b],{filter:{event:g,schema:f,table:x,filter:w}}=_,E=d&&d[b];if(E&&E.event===g&&E.schema===f&&E.table===x&&E.filter===w)v.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),t==null||t(Lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Lt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Xi(this,gt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xi(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=gt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,b,_;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(b=y.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,b,_,g,f,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,E=(v=y.filter)===null||v===void 0?void 0:v.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(f=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:b,table:_,commit_timestamp:g,type:f,errors:x}=v;m=Object.assign(Object.assign({},{schema:b,table:_,commit_timestamp:g,eventType:f,new:{},old:{},errors:x}),this._getPayloadRecords(v))}y.callback(m,n)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&dc.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gt.close,{},t)}_onError(t){this._on(gt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=zu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=zu(t.columns,t.old_record)),r}}const ux=()=>{},dx=typeof WebSocket<"u",hx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fx{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ex,this.params={},this.timeout=Xf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ux,this.conn=null,this.sendBuffer=[],this.serializer=new nx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>jn(async()=>{const{default:c}=await Promise.resolve().then(()=>Tn);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${nl.websocket}`,this.httpEndpoint=t0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Zf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(dx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new mx(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),jn(async()=>{const{default:t}=await import("./browser-DOk106TM.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tx}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fn.connecting:return Cr.Connecting;case fn.open:return Cr.Open;case fn.closing:return Cr.Closing;default:return Cr.Closed}}isConnected(){return this.connectionState()===Cr.Open}channel(t,r={config:{}}){const n=new dc(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(gt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(rx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(gt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([hx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class mx{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class hc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Se(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gx extends hc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class al extends hc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var px=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const r0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>jn(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yx=()=>px(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jn(()=>Promise.resolve().then(()=>Tn),void 0)).Response:Response}),il=e=>{if(Array.isArray(e))return e.map(r=>il(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=il(n)}),t};var Ur=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Zi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xx=(e,t,r)=>Ur(void 0,void 0,void 0,function*(){const n=yield yx();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new gx(Zi(s),e.status||500))}).catch(s=>{t(new al(Zi(s),s))}):t(new al(Zi(e),e))}),vx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ds(e,t,r,n,s,i){return Ur(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,vx(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>xx(c,l,n))})})}function Wa(e,t,r,n){return Ur(this,void 0,void 0,function*(){return Ds(e,"GET",t,r,n)})}function Qt(e,t,r,n,s){return Ur(this,void 0,void 0,function*(){return Ds(e,"POST",t,n,s,r)})}function bx(e,t,r,n,s){return Ur(this,void 0,void 0,function*(){return Ds(e,"PUT",t,n,s,r)})}function wx(e,t,r,n){return Ur(this,void 0,void 0,function*(){return Ds(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function n0(e,t,r,n,s){return Ur(this,void 0,void 0,function*(){return Ds(e,"DELETE",t,n,s,r)})}var Ve=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const kx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jx{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=r0(s)}uploadOrUpdate(t,r,n,s){return Ve(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Vu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(Se(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ve(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Vu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ve(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Qt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new hc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ve(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Qt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ve(this,void 0,void 0,function*(){try{const s=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}})}download(t,r){return Ve(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Wa(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Se(l))return{data:null,error:l};throw l}})}info(t){return Ve(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Wa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:il(n),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}})}exists(t){return Ve(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield wx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Se(n)&&n instanceof al){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield n0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},kx),r),{prefix:t||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const _x="2.7.1",Nx={"X-Client-Info":`storage-js/${_x}`};var Vr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Sx{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Nx),r),this.fetch=r0(n)}listBuckets(){return Vr(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}})}getBucket(t){return Vr(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Vr(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Vr(this,void 0,void 0,function*(){try{return{data:yield bx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Vr(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Vr(this,void 0,void 0,function*(){try{return{data:yield n0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}})}}class Cx extends Sx{constructor(t,r={},n){super(t,r,n)}from(t){return new jx(this.url,this.headers,t,this.fetch)}}const Ex="2.49.4";let Yn="";typeof Deno<"u"?Yn="deno":typeof document<"u"?Yn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yn="react-native":Yn="node";const Px={"X-Client-Info":`supabase-js-${Yn}/${Ex}`},Tx={headers:Px},$x={schema:"public"},Lx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ox={};var Rx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ax=e=>{let t;return e?t=e:typeof fetch>"u"?t=Uf:t=fetch,(...r)=>t(...r)},Mx=()=>typeof Headers>"u"?Bf:Headers,Dx=(e,t,r)=>{const n=Ax(r),s=Mx();return(i,o)=>Rx(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Ix=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function zx(e){return e.replace(/\/$/,"")}function Fx(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Ix(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const s0="2.69.1",Yr=30*1e3,ol=3,eo=ol*Yr,Ux="http://localhost:9999",Bx="supabase.auth.token",Vx={"X-Client-Info":`gotrue-js/${s0}`},ll="X-Supabase-Api-Version",a0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qx=6e5;class fc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Wx extends fc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Yx(e){return Q(e)&&e.name==="AuthApiError"}class i0 extends fc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class wr extends fc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Yt extends wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kx(e){return Q(e)&&e.name==="AuthSessionMissingError"}class to extends wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ta extends wr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ra extends wr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gx(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Hu extends wr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cl extends wr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ro(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class qu extends wr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ss extends wr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yu=` 	
\r=`.split(""),Jx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Yu.length;t+=1)e[Yu[t].charCodeAt(0)]=-2;for(let t=0;t<Wu.length;t+=1)e[Wu[t].charCodeAt(0)]=t;return e})();function o0(e,t,r){const n=Jx[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ku(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Zx(o,n,r)};for(let o=0;o<e.length;o+=1)o0(e.charCodeAt(o),s,i);return t.join("")}function Qx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Xx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Qx(n,t)}}function Zx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function e1(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)o0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function t1(e){const t=[];return Xx(e,r=>t.push(r)),new Uint8Array(t)}function r1(e){return Math.round(Date.now()/1e3)+e}function n1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const _t=()=>typeof window<"u"&&typeof document<"u",jr={tested:!1,writable:!1},as=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jr.tested)return jr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),jr.tested=!0,jr.writable=!0}catch{jr.tested=!0,jr.writable=!1}return jr.writable};function s1(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const l0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>jn(async()=>{const{default:n}=await Promise.resolve().then(()=>Tn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},a1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",c0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},na=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sa=async(e,t)=>{await e.removeItem(t)};class bi{constructor(){this.promise=new bi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}bi.promiseConstructor=Promise;function no(e){const t=e.split(".");if(t.length!==3)throw new ss("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Hx.test(t[n]))throw new ss("JWT not in base64url format");return{header:JSON.parse(Ku(t[0])),payload:JSON.parse(Ku(t[1])),signature:e1(t[2]),raw:{header:t[0],payload:t[1]}}}async function i1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function o1(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function l1(e){return("0"+e.toString(16)).substr(-2)}function c1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,l1).join("")}async function u1(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function d1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await u1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hr(e,t,r=!1){const n=c1();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await c0(e,`${t}-code-verifier`,s);const i=await d1(n);return[i,n===i?"plain":"s256"]}const h1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f1(e){const t=e.headers.get(ll);if(!t||!t.match(h1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function m1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function g1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var p1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),y1=[502,503,504];async function Gu(e){var t;if(!a1(e))throw new cl(Sr(e),0);if(y1.includes(e.status))throw new cl(Sr(e),e.status);let r;try{r=await e.json()}catch(i){throw new i0(Sr(i),i)}let n;const s=f1(e);if(s&&s.getTime()>=a0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qu(Sr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new qu(Sr(r),e.status,r.weak_password.reasons);throw new Wx(Sr(r),e.status||500,n)}const x1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ee(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ll]||(i[ll]=a0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await v1(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function v1(e,t,r,n,s,i){const o=x1(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new cl(Sr(c),0)}if(l.ok||await Gu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Gu(c)}}function Kt(e){var t;let r=null;j1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=r1(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ju(e){const t=Kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function er(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function b1(e){return{data:e,error:null}}function w1(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=p1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function k1(e){return e}function j1(e){return e.access_token&&e.refresh_token&&e.expires_in}var _1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class N1{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=l0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:er})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=_1(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:w1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:er})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:k1});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:er})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:er})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:er})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}const S1={getItem:e=>as()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{as()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{as()&&globalThis.localStorage.removeItem(e)}};function Qu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function C1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qr={debug:!!(globalThis&&as()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class u0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class E1 extends u0{}async function P1(e,t,r){qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new E1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}C1();const T1={url:Ux,storageKey:Bx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xu(e,t,r){return await r()}class Es{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Es.nextInstanceID,Es.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},T1),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new N1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=l0(s.fetch),this.lock=s.lock||Xu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:_t()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=P1:this.lock=Xu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:as()?this.storage=S1:(this.memoryStorage={},this.storage=Qu(this.memoryStorage)):(this.memoryStorage={},this.storage=Qu(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${s0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=s1(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),_t()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Gx(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new i0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Hr(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:v},xform:Kt})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Kt})}else throw new ta("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ju})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ju})}else throw new ta("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new to}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await na(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Kt});if(await sa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new to}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Kt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new to}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Hr(this.storage,this.storageKey));const{error:h}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ta("You must provide either an email or phone number.")}catch(l){if(Q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Kt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Hr(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:b1})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yt;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ta("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await na(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<eo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:er}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:er})})}catch(r){if(Q(r))return Kx(r)&&(await this._removeSession(),await sa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Yt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Hr(this.storage,this.storageKey));const{data:u,error:d}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:er});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=no(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!_t())throw new ra("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ra(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ra("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hu("No code detected.");const{data:f,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ra("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const y=m-d;y*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=m-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:b,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(Q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await na(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Yx(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await sa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=n1(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Hr(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return _t()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await o1(async s=>(s>0&&await i1(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ro(i)&&Date.now()+o-n<Yr})}catch(n){if(this._debug(r,"error",n),Q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),_t()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await na(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<eo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${eo}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),ro(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Yt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Q(i)){const o={session:null,error:i};return ro(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await c0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await sa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yr}ms, refresh threshold is ${ol} ticks`),s<=ol&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof u0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Hr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=no(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+qx>Date.now()))return n;const{data:s,error:i}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ss("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new ss("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=no(n);if(m1(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=g1(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,t1(`${l}.${c}`)))throw new ss("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}Es.nextInstanceID=0;const $1=Es;class L1 extends $1{constructor(t){super(t)}}var O1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class R1{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=zx(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:$x,realtime:Ox,auth:Object.assign(Object.assign({},Lx),{storageKey:c}),global:Tx},d=Fx(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Dx(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Xy(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ey(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Cx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return O1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L1({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new fx(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A1=(e,t,r)=>new R1(e,t,r),wi=()=>"/church-connect/",tr=e=>{const t=wi(),r=e.startsWith("/")?e.substring(1):e,n=t.startsWith("/")?t.substring(1):t;return r.startsWith(n)?"/"+r:t+r},d0=()=>{const e=window.location.hash;return e.includes("access_token=")||e.includes("refresh_token=")||e.includes("type=recovery")||e.includes("type=signup")},Zu=()=>{const e=wi(),t=window.location.pathname;if(d0()){const r=window.location.hash;if(!t.startsWith(e)){const n=t.startsWith("/")?t.substring(1):t,s=e+n;return window.location.href=`${window.location.origin}${s}${r}`,!0}return!1}if(t==="/"&&e!=="/")return window.location.pathname=e,!0;if(!t.startsWith(e)&&!t.includes("/auth/callback")){const r=t.startsWith("/")?t.substring(1):t,n=e+r;return window.location.pathname=n,!0}return!1},M1=()=>{const e=window.location.origin,t=wi();return`${e}${t}#/auth/callback`},D1="https://xlsazndxtgqlsyohzjhp.supabase.co",I1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhsc2F6bmR4dGdxbHN5b2h6amhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM4Nzc3MTIsImV4cCI6MjA1OTQ1MzcxMn0.N1oXEwBKFjmiP0zacqY6HTHr-50-PZZjTBUzkkIyub4",z1=()=>{if(!(typeof window>"u"))return M1()},R=A1(D1,I1,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,redirectTo:z1()}}),h0=p.createContext(),aa=()=>{const e=window.location.origin,t=wi();return window.location.hostname==="bajejosh.github.io"||t.startsWith("/church-connect")?`${e}${t}#`:`${e}${t}`},F1=({children:e})=>{const[t,r]=p.useState(null),[n,s]=p.useState(!0),[i,o]=p.useState(null);p.useEffect(()=>{(async()=>{var _;try{const{data:g,error:f}=await R.auth.getSession();if(f)throw f;r(((_=g==null?void 0:g.session)==null?void 0:_.user)||null)}catch(g){o(g.message)}finally{s(!1)}})();const{data:{subscription:b}}=R.auth.onAuthStateChange((_,g)=>{r((g==null?void 0:g.user)||null),s(!1)});return()=>b.unsubscribe()},[]);const y={user:t,loading:n,error:i,signUp:async(v,b,_={})=>{try{const{data:g,error:f}=await R.auth.signUp({email:v,password:b,options:{data:_,emailRedirectTo:`${aa()}/auth/callback`}});if(f)throw f;return g}catch(g){throw o(g.message),g}},signIn:async(v,b)=>{try{const{data:_,error:g}=await R.auth.signInWithPassword({email:v,password:b,options:{redirectTo:`${aa()}/auth/callback`}});if(g)throw g;return _}catch(_){throw o(_.message),_}},signOut:async()=>{try{r(null),localStorage.removeItem("userFullName"),localStorage.removeItem("userAvatarUrl");const{error:v}=await R.auth.signOut();v&&(console.warn("Warning during sign out process:",v.message),v.message.includes("Auth session missing")&&console.log("Session was already expired or invalid")),window.location.href=`${window.location.origin}${tr("login")}`}catch(v){console.warn("Error in sign out process:",v.message),window.location.href=`${window.location.origin}${tr("login")}`}},resetPassword:async v=>{try{const{error:b}=await R.auth.resetPasswordForEmail(v,{redirectTo:`${aa()}/auth/callback?reset=true`});if(b)throw b}catch(b){throw o(b.message),b}},updatePassword:async v=>{try{const{error:b}=await R.auth.updateUser({password:v});if(b)throw b}catch(b){throw o(b.message),b}},updateProfile:async v=>{try{if(v.email){const{error:_}=await R.auth.updateUser({email:v.email,options:{emailRedirectTo:`${aa()}/auth/callback`}});if(_)throw _}const{error:b}=await R.from("profiles").update({full_name:v.fullName,updated_at:new Date}).eq("id",t.id);if(b)throw b}catch(b){throw o(b.message),b}},isAuthenticated:!!t};return a.jsx(h0.Provider,{value:y,children:e})},Be=()=>{const e=p.useContext(h0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},f0=p.createContext(),U1=({children:e})=>{const[t,r]=p.useState(()=>{const s=localStorage.getItem("theme");return s?s==="dark":!0});p.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(s=>!s)};return a.jsx(f0.Provider,{value:{darkMode:t,toggleDarkMode:n},children:e})},m0=()=>{const e=p.useContext(f0);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},g0=p.createContext(),B1=({children:e})=>{const[t,r]=p.useState(!1),n=()=>{r(i=>!i)},s=()=>{r(!1)};return a.jsx(g0.Provider,{value:{isSidebarOpen:t,toggleSidebar:n,closeSidebar:s},children:e})},p0=()=>{const e=p.useContext(g0);if(e===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return e};var y0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ed=Ct.createContext&&Ct.createContext(y0),mr=function(){return mr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},mr.apply(this,arguments)},V1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function x0(e){return e&&e.map(function(t,r){return Ct.createElement(t.tag,mr({key:r},t.attr),x0(t.child))})}function Y(e){return function(t){return Ct.createElement(H1,mr({attr:mr({},e.attr)},t),x0(e.child))}}function H1(e){var t=function(r){var n=e.attr,s=e.size,i=e.title,o=V1(e,["attr","size","title"]),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Ct.createElement("svg",mr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:mr(mr({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Ct.createElement("title",null,i),e.children)};return ed!==void 0?Ct.createElement(ed.Consumer,null,function(r){return t(r)}):t(y0)}function so(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(e)}function q1(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"}}]})(e)}function is(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function W1(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(e)}function Y1(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function K1(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function mc(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"}}]})(e)}function Ht(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function G1(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"}}]})(e)}function td(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function J1(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function mn(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function Q1(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function X1(e){return Y({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function Z1(e){return Y({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function ev(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function kr(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M464.46 246.68L352 179.2V128h48c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-48V16c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v48h-48c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h48v51.2l-112.46 67.48A31.997 31.997 0 0 0 160 274.12V512h96v-96c0-35.35 28.65-64 64-64s64 28.65 64 64v96h96V274.12c0-11.24-5.9-21.66-15.54-27.44zM0 395.96V496c0 8.84 7.16 16 16 16h112V320L19.39 366.54A32.024 32.024 0 0 0 0 395.96zm620.61-29.42L512 320v192h112c8.84 0 16-7.16 16-16V395.96c0-12.8-7.63-24.37-19.39-29.42z"}}]})(e)}function tv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function rv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function rd(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 352h-40V109.25l59.31-59.31c6.25-6.25 6.25-16.38 0-22.63L484.69 4.69c-6.25-6.25-16.38-6.25-22.63 0L402.75 64H192v96h114.75L160 306.75V24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v264c0 13.25 10.75 24 24 24h232v-96H205.25L352 205.25V488c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24z"}}]})(e)}function nv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Ln(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function sv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"}}]})(e)}function ki(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function av(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"}}]})(e)}function v0(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function iv(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function gc(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function Bn(e){return Y({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function nd(e){return Y({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-64 268c0 10.7-12.9 16-20.5 8.5L104 376H76c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h28l35.5-36.5c7.6-7.6 20.5-2.2 20.5 8.5v136zm33.2-47.6c9.1-9.3 9.1-24.1 0-33.4-22.1-22.8 12.2-56.2 34.4-33.5 27.2 27.9 27.2 72.4 0 100.4-21.8 22.3-56.9-10.4-34.4-33.5zm86-117.1c54.4 55.9 54.4 144.8 0 200.8-21.8 22.4-57-10.3-34.4-33.5 36.2-37.2 36.3-96.5 0-133.8-22.1-22.8 12.3-56.3 34.4-33.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function ov(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function lv(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"}}]})(e)}function cv(e){return Y({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function sd(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function b0(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function w0(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function uv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(e)}function Ps(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function dv(e){return Y({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function hv(e){return Y({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"}}]})(e)}function pc(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(e)}function bt(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"}}]})(e)}function fv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function mv(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"}}]})(e)}function Me(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function wt(e){return Y({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M256 128c35.35 0 64-28.65 64-64S291.35 0 256 0s-64 28.65-64 64 28.65 64 64 64zm-30.63 169.75c14.06 16.72 39 19.09 55.97 5.22l88-72.02c17.09-13.98 19.59-39.19 5.62-56.28-13.97-17.11-39.19-19.59-56.31-5.62l-57.44 47-38.91-46.31c-15.44-18.39-39.22-27.92-64-25.33-24.19 2.48-45.25 16.27-56.37 36.92l-49.37 92.03c-23.4 43.64-8.69 96.37 34.19 123.75L131.56 432H40c-22.09 0-40 17.91-40 40s17.91 40 40 40h208c34.08 0 53.77-42.79 28.28-68.28L166.42 333.86l34.8-64.87 24.15 28.76z"}}]})(e)}function gv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(e)}function yc(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function ji(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function pv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}}]})(e)}function k0(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function os(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function xc(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(e)}function j0(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"}}]})(e)}function Dt(e){return Y({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function _i(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function yv(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208H432c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function _0(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function kt(e){return Y({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function N0(e){return Y({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function S0(e){return Y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}}]})(e)}function xv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"}}]})(e)}function vv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"}}]})(e)}function bv(e){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"}}]})(e)}const wv=({className:e=""})=>{const{darkMode:t,toggleDarkMode:r}=m0();return a.jsx("button",{onClick:r,className:`p-2 rounded-full transition-colors duration-200 ${t?"bg-gray-800 text-yellow-300 hover:bg-gray-700":"bg-blue-100 text-blue-800 hover:bg-blue-200"} ${e}`,"aria-label":t?"Switch to light mode":"Switch to dark mode",title:t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(xc,{className:"w-5 h-5"}):a.jsx(pc,{className:"w-5 h-5"})})},kv=()=>{var c,u,d;const{user:e,signOut:t}=Be(),{darkMode:r}=m0(),{toggleSidebar:n}=p0(),[s,i]=p.useState(!1),o=Ue(),l=async()=>{try{await t(),o("/login")}catch(h){console.error("Error signing out:",h),o("/login")}};return a.jsx("header",{className:"bg-white shadow-sm dark:bg-dark-secondary sticky top-0 z-30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{className:"mr-2 md:hidden text-gray-600 dark:text-gray-300",onClick:n,children:a.jsx(Y1,{className:"text-xl"})}),a.jsx(ie,{to:"/dashboard",className:"flex items-center",children:a.jsx("span",{className:"text-xl font-bold text-blue-600",children:"Church Connect"})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(wv,{}),a.jsx("button",{className:"text-gray-600 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400",children:a.jsx(K1,{className:"text-xl"})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{className:"flex items-center",onClick:()=>i(!s),children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:((u=(c=e==null?void 0:e.user_metadata)==null?void 0:c.full_name)==null?void 0:u.charAt(0))||((d=e==null?void 0:e.email)==null?void 0:d.charAt(0))||"U"})}),s&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-10",children:[a.jsx(ie,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>i(!1),children:"Your Profile"}),a.jsx(ie,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>i(!1),children:"Settings"}),a.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:l,children:[a.jsx(k0,{className:"mr-2"}),"Sign out"]})]})]})]})]})})},jv=()=>{const e=br(),t=r=>e.pathname===r;return a.jsx("nav",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 py-2 md:hidden dark:bg-dark-secondary dark:border-gray-800",children:a.jsxs("div",{className:"flex justify-around items-center",children:[a.jsxs(ie,{to:"/dashboard",className:`flex flex-col items-center p-2 text-xs ${t("/dashboard")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(b0,{className:"text-xl mb-1"}),a.jsx("span",{children:"Home"})]}),a.jsxs(ie,{to:"/calendar",className:`flex flex-col items-center p-2 text-xs ${t("/calendar")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(Ht,{className:"text-xl mb-1"}),a.jsx("span",{children:"Calendar"})]}),a.jsxs(ie,{to:"/songs",className:`flex flex-col items-center p-2 text-xs ${t("/songs")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(bt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Songs"})]}),a.jsxs(ie,{to:"/prayer-requests",className:`flex flex-col items-center p-2 text-xs ${t("/prayer-requests")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(wt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Prayer"})]}),a.jsxs(ie,{to:"/churches",className:`flex flex-col items-center p-2 text-xs ${t("/churches")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(kr,{className:"text-xl mb-1"}),a.jsx("span",{children:"Churches"})]}),a.jsxs(ie,{to:"/profile",className:`flex flex-col items-center p-2 text-xs ${t("/profile")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(kt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Profile"})]})]})})},ad=({className:e})=>{var s,i,o,l;const{user:t}=Be(),r=[{path:"/dashboard",icon:a.jsx(b0,{}),label:"Dashboard"},{path:"/calendar",icon:a.jsx(Ht,{}),label:"Calendar"},{path:"/services",icon:a.jsx(hv,{}),label:"Services"},{path:"/songs",icon:a.jsx(bt,{}),label:"Songs"},{path:"/teams",icon:a.jsx(N0,{}),label:"Teams"},{path:"/prayer-requests",icon:a.jsx(wt,{}),label:"Prayer Requests"},{path:"/churches",icon:a.jsx(kr,{}),label:"Churches"}],n=[{path:"/profile",icon:a.jsx(kt,{}),label:"Profile"},{path:"/settings",icon:a.jsx(rv,{}),label:"Settings"}];return a.jsxs("aside",{className:`${e} flex flex-col h-[calc(100vh-4rem)] overflow-y-auto fixed`,children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:((i=(s=t==null?void 0:t.user_metadata)==null?void 0:s.full_name)==null?void 0:i.charAt(0))||((o=t==null?void 0:t.email)==null?void 0:o.charAt(0))||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:((l=t==null?void 0:t.user_metadata)==null?void 0:l.full_name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(t==null?void 0:t.email)||"No email"})]})]})}),a.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:r.map(c=>a.jsxs(Mu,{to:c.path,className:({isActive:u})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:c.icon}),c.label]},c.path))}),a.jsx("div",{className:"px-2 py-4 space-y-1 border-t",children:n.map(c=>a.jsxs(Mu,{to:c.path,className:({isActive:u})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:c.icon}),c.label]},c.path))})]})},_v=({children:e})=>{const[t,r]=p.useState(window.innerWidth<768),{isSidebarOpen:n,closeSidebar:s}=p0();return p.useEffect(()=>{const i=()=>{r(window.innerWidth<768)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),p.useEffect(()=>{!t&&n&&s()},[t,n,s]),a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gradient-dark",children:[a.jsx(kv,{}),a.jsxs("div",{className:"flex flex-1",children:[!t&&a.jsx(ad,{className:"hidden md:block w-64 bg-white shadow-md dark:bg-dark-secondary"}),t&&n&&a.jsxs("div",{className:"fixed inset-0 z-40 flex",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity",onClick:s,"aria-hidden":"true"}),a.jsx("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white dark:bg-dark-secondary transform transition ease-in-out duration-300",children:a.jsx(ad,{className:"flex-1 h-0 overflow-y-auto"})})]}),a.jsx("main",{className:"flex-1 px-4 md:px-6 pt-4 pb-[100px] md:ml-64",children:e})]}),t&&a.jsx(jv,{})]})},Nv=()=>{const{isAuthenticated:e,loading:t}=Be();return t?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e?a.jsx(_v,{children:a.jsx(ay,{})}):a.jsx(zf,{to:"/login",replace:!0})},Sv=()=>{const{signIn:e}=Be(),t=Ue(),[r,n]=p.useState(""),[s,i]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,h]=p.useState(()=>{const v=localStorage.getItem("darkMode");return v===null?!0:v==="true"});p.useEffect(()=>{d?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",d),d?document.body.classList.add("dark","bg-gray-900"):document.body.classList.remove("dark","bg-gray-900")},[d]);const m=()=>{h(v=>!v)},y=async v=>{v.preventDefault();try{l(null),u(!0),await e(r,s),t("/dashboard")}catch(b){l(b.message||"Failed to sign in"),console.error("Login error:",b)}finally{u(!1)}};return a.jsx("div",{className:`min-h-screen flex items-center justify-center ${d?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"} px-4 py-12 sm:px-6 lg:px-8`,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("button",{onClick:m,className:`p-2 rounded-full ${d?"bg-gray-700 text-gray-200":"bg-gray-200 text-gray-700"}`,"aria-label":d?"Switch to light mode":"Switch to dark mode",children:d?a.jsx(xc,{}):a.jsx(pc,{})})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:`text-3xl font-bold ${d?"text-blue-400":"text-blue-600"}`,children:"Church Connect"}),a.jsx("h2",{className:`mt-6 text-2xl font-bold ${d?"text-white":"text-gray-900"}`,children:"Welcome back"}),a.jsx("p",{className:`mt-2 text-sm ${d?"text-gray-400":"text-gray-600"}`,children:"Sign in to your account"})]}),a.jsxs("div",{className:`${d?"bg-gray-800":"bg-white"} p-8 shadow rounded-lg`,children:[o&&a.jsx("div",{className:`mb-4 p-3 ${d?"bg-red-900 text-red-200":"bg-red-100 text-red-700"} rounded-md text-sm`,children:o}),a.jsxs("form",{className:"space-y-6",onSubmit:y,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:`block text-sm font-medium ${d?"text-gray-300":"text-gray-700"}`,children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ki,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${d?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"you@example.com",value:r,onChange:v=>n(v.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:`block text-sm font-medium ${d?"text-gray-300":"text-gray-700"}`,children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ps,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${d?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"",value:s,onChange:v=>i(v.target.value)})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${d?"border-gray-600":"border-gray-300"} rounded`}),a.jsx("label",{htmlFor:"remember-me",className:`ml-2 block text-sm ${d?"text-gray-300":"text-gray-700"}`,children:"Remember me"})]}),a.jsx("div",{className:"text-sm",children:a.jsx(ie,{to:"/forgot-password",className:`font-medium ${d?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(pv,{className:"mr-2"}),"Sign in"]})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:`w-full border-t ${d?"border-gray-600":"border-gray-300"}`})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:`px-2 ${d?"bg-gray-800 text-gray-400":"bg-white text-gray-500"}`,children:"Or"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:["Don't have an account?"," ",a.jsx(ie,{to:"/register",className:`font-medium ${d?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:"Sign up"})]})})]})]})]})})},Cv=()=>{const{signUp:e}=Be(),t=Ue(),[r,n]=p.useState({email:"",password:"",confirmPassword:"",fullName:"",churchName:""}),[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(()=>{const y=localStorage.getItem("darkMode");return y===null?!0:y==="true"});p.useEffect(()=>{c?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",c),c?document.body.classList.add("dark","bg-gray-900"):document.body.classList.remove("dark","bg-gray-900")},[c]);const d=()=>{u(y=>!y)},h=y=>{const{name:v,value:b}=y.target;n(_=>({..._,[v]:b}))},m=async y=>{if(y.preventDefault(),r.password!==r.confirmPassword){i("Passwords do not match");return}try{i(null),l(!0),await e(r.email,r.password,{full_name:r.fullName,church_name:r.churchName}),t("/verify-email")}catch(v){i(v.message||"Failed to sign up")}finally{l(!1)}};return a.jsx("div",{className:`min-h-screen flex items-center justify-center ${c?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"} px-4 py-12 sm:px-6 lg:px-8`,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("button",{onClick:d,className:`p-2 rounded-full ${c?"bg-gray-700 text-gray-200":"bg-gray-200 text-gray-700"}`,"aria-label":c?"Switch to light mode":"Switch to dark mode",children:c?a.jsx(xc,{}):a.jsx(pc,{})})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:`text-3xl font-bold ${c?"text-blue-400":"text-blue-600"}`,children:"Church Connect"}),a.jsx("h2",{className:`mt-6 text-2xl font-bold ${c?"text-white":"text-gray-900"}`,children:"Create an account"}),a.jsx("p",{className:`mt-2 text-sm ${c?"text-gray-400":"text-gray-600"}`,children:"Join the community today"})]}),a.jsxs("div",{className:`${c?"bg-gray-800":"bg-white"} p-8 shadow rounded-lg`,children:[s&&a.jsx("div",{className:`mb-4 p-3 ${c?"bg-red-900 text-red-200":"bg-red-100 text-red-700"} rounded-md text-sm`,children:s}),a.jsxs("form",{className:"space-y-4",onSubmit:m,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ki,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"you@example.com",value:r.email,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Full Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(kt,{className:"text-gray-400"})}),a.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"John Doe",value:r.fullName,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"churchName",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Church Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(kr,{className:"text-gray-400"})}),a.jsx("input",{id:"churchName",name:"churchName",type:"text",className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Grace Community Church",value:r.churchName,onChange:h})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional - You can join or create a church later"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ps,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"",value:r.password,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Confirm Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ps,{className:"text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"",value:r.confirmPassword,onChange:h})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:o,className:"mt-4 w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(_0,{className:"mr-2"}),"Sign up"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:`text-sm ${c?"text-gray-400":"text-gray-600"}`,children:["Already have an account?"," ",a.jsx(ie,{to:"/login",className:`font-medium ${c?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:"Sign in"})]})})]})]})})},Ev=()=>{const{resetPassword:e}=Be(),[t,r]=p.useState(""),[n,s]=p.useState(null),[i,o]=p.useState(!1),[l,c]=p.useState(""),u=async d=>{d.preventDefault();try{s(null),o(!0),c(""),await e(t),c("Password reset instructions have been sent to your email. Please check your inbox."),r("")}catch(h){s(h.message||"Failed to send password reset email")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address below and we'll send you a link to reset your password"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[n&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:n}),l&&a.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm",children:l}),a.jsxs("form",{className:"space-y-6",onSubmit:u,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ki,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",value:t,onChange:d=>r(d.target.value)})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(fv,{className:"mr-2"}),"Send Reset Link"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",a.jsx(ie,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to login"})]})})]})]})})},Pv=()=>{const{updatePassword:e}=Be(),t=Ue(),[r,n]=p.useState(""),[s,i]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,h]=p.useState(null);p.useEffect(()=>{const y=window.location.hash.substring(1);new URLSearchParams(y).get("access_token")?h(!0):l("Invalid reset link. Please request a new password reset link.")},[]);const m=async y=>{if(y.preventDefault(),r!==s){l("Passwords do not match");return}if(r.length<6){l("Password must be at least 6 characters");return}try{l(null),u(!0),await e(r),t("/login",{state:{message:"Password successfully reset. Please log in with your new password."}})}catch(v){l(v.message||"Failed to reset password")}finally{u(!1)}};return o&&!d?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsx("button",{onClick:()=>t("/forgot-password"),className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Request New Reset Link"})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Set new password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please enter a new password for your account"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[o&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsxs("form",{className:"space-y-6",onSubmit:m,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ps,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"",value:r,onChange:y=>n(y.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ps,{className:"text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"",value:s,onChange:y=>i(y.target.value)})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(mn,{className:"mr-2"}),"Reset Password"]})})]})]})]})})},Tv=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Verify your email"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(ki,{className:"text-2xl text-blue-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Check your inbox"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We sent a verification link to your email address. Please click the link to verify your account."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border border-gray-200 rounded-md bg-gray-50",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Next steps:"}),a.jsxs("ul",{className:"text-sm text-gray-600 text-left space-y-2",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(mn,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Check your email inbox (and spam folder)"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(mn,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Click the verification link in the email"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(mn,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Return to Church Connect and sign in"})]})]})]}),a.jsx(ie,{to:"/login",className:"block w-full py-3 px-4 text-center border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Login"})]}),a.jsxs("p",{className:"mt-6 text-sm text-gray-500",children:["Didn't receive an email? Check your spam folder or"," ",a.jsx(ie,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"try again"})]})]})]})}),$v=()=>{const e=Ue(),[t,r]=p.useState(null),[n,s]=p.useState("Verifying your account...");return p.useEffect(()=>{(async()=>{try{s("Processing authentication...");const o=new URLSearchParams(window.location.hash.substring(1)),l=o.get("error_description");if(l)throw new Error(l);if(console.log("Auth hash found:",window.location.hash?"Yes (hash exists)":"No"),o.get("type")==="recovery"){s("Password reset confirmed"),e(tr("dashboard"),{replace:!0});return}const{data:u,error:d}=await R.auth.getSession();if(d)throw d;if(u!=null&&u.session)s("Authentication successful, redirecting to dashboard"),console.log("Authentication successful, redirecting to dashboard"),setTimeout(()=>{e(tr("dashboard"),{replace:!0})},100);else{const h=o.get("access_token"),m=o.get("refresh_token");if(h){s("Processing access token...");try{const{data:y,error:v}=await R.auth.setSession({access_token:h,refresh_token:m||""});if(v)throw v;if(y!=null&&y.session){s("Session established, redirecting to dashboard"),setTimeout(()=>{e(tr("dashboard"),{replace:!0})},100);return}}catch(y){console.error("Token processing error:",y)}}s("No session found, redirecting to login"),console.log("No session found, redirecting to login"),setTimeout(()=>{e(tr("login"),{replace:!0})},100)}}catch(o){console.error("Auth callback error:",o),r(o.message),s("Authentication error, redirecting to login"),setTimeout(()=>{e(tr("login"),{replace:!0})},1500)}})()},[e]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:t?"Authentication Error":"Verifying Your Account"}),t?a.jsx("div",{className:"text-red-500 mb-4",children:t}):a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:n})]}),t&&a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Redirecting you to the login page..."})]})})};var C0={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Je,function(){var r=1e3,n=6e4,s=36e5,i="millisecond",o="second",l="minute",c="hour",u="day",d="week",h="month",m="quarter",y="year",v="date",b="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var N=["th","st","nd","rd"],C=$%100;return"["+$+(N[(C-20)%10]||N[C]||N[0])+"]"}},x=function($,N,C){var D=String($);return!D||D.length>=N?$:""+Array(N+1-D.length).join(C)+$},w={s:x,z:function($){var N=-$.utcOffset(),C=Math.abs(N),D=Math.floor(C/60),j=C%60;return(N<=0?"+":"-")+x(D,2,"0")+":"+x(j,2,"0")},m:function $(N,C){if(N.date()<C.date())return-$(C,N);var D=12*(C.year()-N.year())+(C.month()-N.month()),j=N.clone().add(D,h),A=C-j<0,M=N.clone().add(D+(A?-1:1),h);return+(-(D+(C-j)/(A?j-M:M-j))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:h,y,w:d,d:u,D:v,h:c,m:l,s:o,ms:i,Q:m}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},E="en",k={};k[E]=f;var P="$isDayjsObject",T=function($){return $ instanceof I||!(!$||!$[P])},S=function $(N,C,D){var j;if(!N)return E;if(typeof N=="string"){var A=N.toLowerCase();k[A]&&(j=A),C&&(k[A]=C,j=A);var M=N.split("-");if(!j&&M.length>1)return $(M[0])}else{var U=N.name;k[U]=N,j=U}return!D&&j&&(E=j),j||!D&&E},L=function($,N){if(T($))return $.clone();var C=typeof N=="object"?N:{};return C.date=$,C.args=arguments,new I(C)},O=w;O.l=S,O.i=T,O.w=function($,N){return L($,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var I=function(){function $(C){this.$L=S(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[P]=!0}var N=$.prototype;return N.parse=function(C){this.$d=function(D){var j=D.date,A=D.utc;if(j===null)return new Date(NaN);if(O.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var M=j.match(_);if(M){var U=M[2]-1||0,G=(M[7]||"0").substring(0,3);return A?new Date(Date.UTC(M[1],U,M[3]||1,M[4]||0,M[5]||0,M[6]||0,G)):new Date(M[1],U,M[3]||1,M[4]||0,M[5]||0,M[6]||0,G)}}return new Date(j)}(C),this.init()},N.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},N.$utils=function(){return O},N.isValid=function(){return this.$d.toString()!==b},N.isSame=function(C,D){var j=L(C);return this.startOf(D)<=j&&j<=this.endOf(D)},N.isAfter=function(C,D){return L(C)<this.startOf(D)},N.isBefore=function(C,D){return this.endOf(D)<L(C)},N.$g=function(C,D,j){return O.u(C)?this[D]:this.set(j,C)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(C,D){var j=this,A=!!O.u(D)||D,M=O.p(C),U=function(B,K){var ae=O.w(j.$u?Date.UTC(j.$y,K,B):new Date(j.$y,K,B),j);return A?ae:ae.endOf(u)},G=function(B,K){return O.w(j.toDate()[B].apply(j.toDate("s"),(A?[0,0,0,0]:[23,59,59,999]).slice(K)),j)},q=this.$W,J=this.$M,se=this.$D,ve="set"+(this.$u?"UTC":"");switch(M){case y:return A?U(1,0):U(31,11);case h:return A?U(1,J):U(0,J+1);case d:var ke=this.$locale().weekStart||0,Qe=(q<ke?q+7:q)-ke;return U(A?se-Qe:se+(6-Qe),J);case u:case v:return G(ve+"Hours",0);case c:return G(ve+"Minutes",1);case l:return G(ve+"Seconds",2);case o:return G(ve+"Milliseconds",3);default:return this.clone()}},N.endOf=function(C){return this.startOf(C,!1)},N.$set=function(C,D){var j,A=O.p(C),M="set"+(this.$u?"UTC":""),U=(j={},j[u]=M+"Date",j[v]=M+"Date",j[h]=M+"Month",j[y]=M+"FullYear",j[c]=M+"Hours",j[l]=M+"Minutes",j[o]=M+"Seconds",j[i]=M+"Milliseconds",j)[A],G=A===u?this.$D+(D-this.$W):D;if(A===h||A===y){var q=this.clone().set(v,1);q.$d[U](G),q.init(),this.$d=q.set(v,Math.min(this.$D,q.daysInMonth())).$d}else U&&this.$d[U](G);return this.init(),this},N.set=function(C,D){return this.clone().$set(C,D)},N.get=function(C){return this[O.p(C)]()},N.add=function(C,D){var j,A=this;C=Number(C);var M=O.p(D),U=function(J){var se=L(A);return O.w(se.date(se.date()+Math.round(J*C)),A)};if(M===h)return this.set(h,this.$M+C);if(M===y)return this.set(y,this.$y+C);if(M===u)return U(1);if(M===d)return U(7);var G=(j={},j[l]=n,j[c]=s,j[o]=r,j)[M]||1,q=this.$d.getTime()+C*G;return O.w(q,this)},N.subtract=function(C,D){return this.add(-1*C,D)},N.format=function(C){var D=this,j=this.$locale();if(!this.isValid())return j.invalidDate||b;var A=C||"YYYY-MM-DDTHH:mm:ssZ",M=O.z(this),U=this.$H,G=this.$m,q=this.$M,J=j.weekdays,se=j.months,ve=j.meridiem,ke=function(K,ae,V,H){return K&&(K[ae]||K(D,A))||V[ae].slice(0,H)},Qe=function(K){return O.s(U%12||12,K,"0")},B=ve||function(K,ae,V){var H=K<12?"AM":"PM";return V?H.toLowerCase():H};return A.replace(g,function(K,ae){return ae||function(V){switch(V){case"YY":return String(D.$y).slice(-2);case"YYYY":return O.s(D.$y,4,"0");case"M":return q+1;case"MM":return O.s(q+1,2,"0");case"MMM":return ke(j.monthsShort,q,se,3);case"MMMM":return ke(se,q);case"D":return D.$D;case"DD":return O.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return ke(j.weekdaysMin,D.$W,J,2);case"ddd":return ke(j.weekdaysShort,D.$W,J,3);case"dddd":return J[D.$W];case"H":return String(U);case"HH":return O.s(U,2,"0");case"h":return Qe(1);case"hh":return Qe(2);case"a":return B(U,G,!0);case"A":return B(U,G,!1);case"m":return String(G);case"mm":return O.s(G,2,"0");case"s":return String(D.$s);case"ss":return O.s(D.$s,2,"0");case"SSS":return O.s(D.$ms,3,"0");case"Z":return M}return null}(K)||M.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(C,D,j){var A,M=this,U=O.p(D),G=L(C),q=(G.utcOffset()-this.utcOffset())*n,J=this-G,se=function(){return O.m(M,G)};switch(U){case y:A=se()/12;break;case h:A=se();break;case m:A=se()/3;break;case d:A=(J-q)/6048e5;break;case u:A=(J-q)/864e5;break;case c:A=J/s;break;case l:A=J/n;break;case o:A=J/r;break;default:A=J}return j?A:O.a(A)},N.daysInMonth=function(){return this.endOf(h).$D},N.$locale=function(){return k[this.$L]},N.locale=function(C,D){if(!C)return this.$L;var j=this.clone(),A=S(C,D,!0);return A&&(j.$L=A),j},N.clone=function(){return O.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},$}(),z=I.prototype;return L.prototype=z,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",u],["$M",h],["$y",y],["$D",v]].forEach(function($){z[$[1]]=function(N){return this.$g(N,$[0],$[1])}}),L.extend=function($,N){return $.$i||($(N,I,L),$.$i=!0),L},L.locale=S,L.isDayjs=T,L.unix=function($){return L(1e3*$)},L.en=k[E],L.Ls=k,L.p={},L})})(C0);var Lv=C0.exports;const he=Ka(Lv);var E0={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Je,function(){return function(r,n,s){r=r||{};var i=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(u,d,h,m){return i.fromToBase(u,d,h,m)}s.en.relativeTime=o,i.fromToBase=function(u,d,h,m,y){for(var v,b,_,g=h.$locale().relativeTime||o,f=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=f.length,w=0;w<x;w+=1){var E=f[w];E.d&&(v=m?s(u).diff(h,E.d,!0):h.diff(u,E.d,!0));var k=(r.rounding||Math.round)(Math.abs(v));if(_=v>0,k<=E.r||!E.r){k<=1&&w>0&&(E=f[w-1]);var P=g[E.l];y&&(k=y(""+k)),b=typeof P=="string"?P.replace("%d",k):P(k,d,E.l,_);break}}if(d)return b;var T=_?g.future:g.past;return typeof T=="function"?T(b):T.replace("%s",b)},i.to=function(u,d){return l(u,d,this,!0)},i.from=function(u,d){return l(u,d,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}})})(E0);var Ov=E0.exports;const P0=Ka(Ov),Rv=({post:e,authorInfo:t,relativeTime:r,formattedDate:n,isEvent:s,isPrayer:i,isAnnouncement:o})=>{const[l,c]=p.useState(null);p.useEffect(()=>{if(e.is_anonymous||t&&t.full_name||e.full_name&&e.full_name!=="User"||!e.user_id)return;(async()=>{try{const{data:m,error:y}=await R.from("profiles").select("full_name, avatar_url").eq("id",e.user_id).single();if(y)throw y;m&&m.full_name&&c(m)}catch(m){console.error("Error fetching author info:",m)}})()},[e.user_id,e.is_anonymous,t]);const u=()=>{var h;if(e.is_anonymous)return"Anonymous";if(t!=null&&t.full_name&&t.full_name!=="User")return t.full_name;if(l!=null&&l.full_name&&l.full_name!=="User")return l.full_name;if(e.full_name&&e.full_name!=="User")return e.full_name;if((h=e.profile)!=null&&h.full_name&&e.profile.full_name!=="User")return e.profile.full_name;if(e.author_name&&e.author_name!=="User")return e.author_name;if(e.user_id===localStorage.getItem("userId")){const m=localStorage.getItem("userFullName");if(m)return m}return"User"},d=()=>{var h;return t!=null&&t.avatar_url?t.avatar_url:l!=null&&l.avatar_url?l.avatar_url:e.avatar_url?e.avatar_url:(h=e.profile)!=null&&h.avatar_url?e.profile.avatar_url:null};return a.jsx("div",{className:"flex items-center",children:e.is_anonymous?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3",children:a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(kt,{className:"text-gray-400 dark:text-gray-500"})})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Anonymous"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r,e.church_name&&`  ${e.church_name}`]}),id(s,i,o)]}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",title:n,children:n})]})]}):a.jsxs(ie,{to:`/profile/${e.user_id}`,className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3",children:d()?a.jsx("img",{src:d(),alt:u(),className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(kt,{className:"text-gray-400 dark:text-gray-500"})})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:u()}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r,e.church_name&&`  ${e.church_name}`]}),id(s,i,o)]}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",title:n,children:n})]})]})})},id=(e,t,r)=>!e&&!t&&!r?null:a.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full ${e?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300"}`,children:[e&&a.jsx(Ht,{className:"mr-1 text-xs"}),t&&a.jsx(wt,{className:"mr-1 text-xs"}),r&&a.jsx(mc,{className:"mr-1 text-xs"}),e?"Event":t?"Prayer":"Announcement"]}),ul=e=>{if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/|youtube\.com\/watch\?.*v=)([^&?\/\s]+)/,/youtube\.com\/shorts\/([^&?\/\s]+)/,/youtu\.be\/([^&?\/\s]+)/];for(const r of t){const n=e.match(r);if(n&&n[1])return n[1]}return null},dl=e=>{if(!e)return null;const t=/suno\.com\/song\/([^?\/\s]+)/,r=e.match(t);if(r&&r[1])return r[1];try{const n=new URL(e);if(e.includes("suno.com")&&n.searchParams.get("sh"))return n.searchParams.get("sh")}catch{}return null},Av=e=>{try{return new URL(e),!0}catch{return!1}},od=e=>!e||!Av(e)?"text":ul(e)?"youtube":dl(e)||e.includes("suno.com")?"suno":"url",ld=e=>({type:"youtube",videoId:e,src:`https://www.youtube.com/embed/${e}`}),ia=e=>({type:"suno",songId:e,src:`https://suno.com/player/${e}`}),Wr=e=>({type:"url",url:e}),cd=e=>{if(!e)return[{type:"text",content:""}];const t=e.trim(),r=od(t);if(r==="youtube"){const o=ul(t);if(o)return[ld(o)]}if(r==="suno"){const o=dl(t);if(o)return[ia(o)];if(t.includes("suno.com"))try{const c=new URL(t).searchParams.get("sh");if(c)return[ia(c)]}catch{}}if(r==="url")return[Wr(t)];const n=/(https?:\/\/[^\s]+)/g,s=e.split(n),i=[];return s.forEach((o,l)=>{if(n.test(o)){const c=od(o);if(c==="youtube"){const u=ul(o);u?i.push(ld(u)):i.push(Wr(o))}else if(c==="suno"){const u=dl(o);if(u)i.push(ia(u));else if(o.includes("suno.com"))try{const h=new URL(o).searchParams.get("sh");h?i.push(ia(h)):i.push(Wr(o))}catch{i.push(Wr(o))}else i.push(Wr(o))}else i.push(Wr(o))}else o&&i.push({type:"text",content:o})}),i},Mv=({post:e,onPostUpdated:t,onCancel:r})=>{var I,z;const{user:n}=Be(),[s,i]=p.useState((e==null?void 0:e.content)||""),[o,l]=p.useState((e==null?void 0:e.post_type)||"regular"),[c,u]=p.useState([]),[d,h]=p.useState([]),[m,y]=p.useState((e==null?void 0:e.media_urls)||[]),[v,b]=p.useState(!1),[_,g]=p.useState((e==null?void 0:e.is_anonymous)||!1),f=p.useRef();p.useEffect(()=>{e&&(i(e.content||""),l(e.post_type||"regular"),g(e.is_anonymous||!1),y(e.media_urls||[]))},[e]);const x=$=>{i($.target.value)},w=$=>{const N=Array.from($.target.files);if(N.length===0)return;const C=N.filter(j=>j.type.startsWith("image/")||j.type.startsWith("video/")),D=C.map(j=>({file:j,url:URL.createObjectURL(j),type:j.type.startsWith("image/")?"image":"video"}));u([...c,...C]),h([...d,...D])},E=$=>{URL.revokeObjectURL(d[$].url);const N=[...c];N.splice($,1);const C=[...d];C.splice($,1),u(N),h(C)},k=$=>{const N=[...m];N.splice($,1),y(N)},P=$=>{l($)},T=async $=>{if($.preventDefault(),!(!s.trim()&&c.length===0&&m.length===0))try{b(!0);const N=[];if(c.length>0)for(const M of c){const U=M.name.split(".").pop(),G=`${Date.now()}-${Math.random().toString(36).substring(2)}.${U}`,q=`posts/${n.id}/${G}`,{error:J}=await R.storage.from("media").upload(q,M);if(J)throw console.error("Media upload error:",J),J;const{data:se}=R.storage.from("media").getPublicUrl(q);N.push(se.publicUrl)}const C=[...m,...N],D={content:s.trim(),media_urls:C,post_type:o,is_anonymous:o==="prayer"&&_,updated_at:new Date().toISOString()},{data:j,error:A}=await R.from("posts").update(D).eq("id",e.id).select().single();if(A)throw console.error("Post update error:",A),A;console.log("Post updated successfully:",j),d.forEach(M=>URL.revokeObjectURL(M.url)),t&&t(j)}catch(N){console.error("Error updating post:",N),alert("Failed to update post. Please try again: "+N.message)}finally{b(!1)}},S=({type:$,icon:N,label:C,active:D})=>a.jsxs("button",{type:"button",className:`flex items-center px-3 py-1.5 rounded-full text-sm ${D?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>P($),children:[N,a.jsx("span",{className:"ml-1",children:C})]}),{avatar_url:L,full_name:O}=(n==null?void 0:n.user_metadata)||{};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Edit Post"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:a.jsx(Dt,{})})]}),a.jsxs("form",{onSubmit:T,children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200",children:L?a.jsx("img",{src:L,alt:O,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(kt,{className:"text-gray-400"})})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{placeholder:"What's on your mind?",className:"w-full border rounded-lg p-3 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-lg text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-800 dark:border-gray-700 resize-none",rows:4,value:s,onChange:x}),m.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Media"}),a.jsx("div",{className:`grid gap-2 ${m.length>1?"grid-cols-2":"grid-cols-1"}`,children:m.map(($,N)=>{const C=$.match(/\.(mp4|webm|ogg)$/i);return a.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100",children:[C?a.jsx("video",{src:$,className:"w-full h-48 object-cover",controls:!0}):a.jsx("img",{src:$,alt:`Media ${N+1}`,className:"w-full h-48 object-cover"}),a.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white rounded-full p-1",onClick:()=>k(N),children:a.jsx(Dt,{})})]},N)})})]}),d.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Media"}),a.jsx("div",{className:`grid gap-2 ${d.length>1?"grid-cols-2":"grid-cols-1"}`,children:d.map(($,N)=>a.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100",children:[$.type==="image"?a.jsx("img",{src:$.url,alt:`Upload preview ${N+1}`,className:"w-full h-48 object-cover"}):a.jsx("video",{src:$.url,className:"w-full h-48 object-cover",controls:!0}),a.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white rounded-full p-1",onClick:()=>E(N),children:a.jsx(Dt,{})})]},N))})]})]})]})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto pb-1",children:[a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap",children:"Post type:"}),a.jsx(S,{type:"regular",icon:a.jsx(kt,{className:"text-blue-500"}),label:"Regular",active:o==="regular"}),a.jsx(S,{type:"prayer",icon:a.jsx(wt,{className:"text-purple-500"}),label:"Prayer Request",active:o==="prayer"}),a.jsx(S,{type:"event",icon:a.jsx(Ht,{className:"text-green-500"}),label:"Event",active:o==="event"}),(((I=n==null?void 0:n.user_metadata)==null?void 0:I.role)==="admin"||((z=n==null?void 0:n.user_metadata)==null?void 0:z.role)==="worship_leader")&&a.jsx(S,{type:"announcement",icon:a.jsx(mc,{className:"text-yellow-500"}),label:"Announcement",active:o==="announcement"})]})}),o==="prayer"&&a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 dark:text-gray-300 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:_,onChange:$=>g($.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("span",{children:"Post anonymously"})]})}),a.jsxs("div",{className:"px-4 py-2 flex items-center justify-between border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-3 py-1.5",onClick:()=>f.current.click(),children:[a.jsx(w0,{className:"text-green-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Add Photo"})]}),a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-3 py-1.5",onClick:()=>f.current.click(),children:[a.jsx(S0,{className:"text-red-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Add Video"})]}),a.jsx("input",{type:"file",multiple:!0,ref:f,className:"hidden",onChange:w,accept:"image/*,video/*"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",className:"px-4 py-1.5 text-sm border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",onClick:r,children:"Cancel"}),a.jsx("button",{type:"submit",disabled:v||!s.trim()&&c.length===0&&m.length===0,className:"px-4 py-1.5 text-sm font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:v?a.jsxs(a.Fragment,{children:[a.jsx(os,{className:"animate-spin mr-1.5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yc,{className:"mr-1.5"}),"Save Changes"]})})]})]})]})]})},Dv=({title:e="Confirm Delete",message:t="Are you sure you want to delete this item? This action cannot be undone.",confirmText:r="Delete",cancelText:n="Cancel",isDeleting:s=!1,onConfirm:i,onCancel:o})=>a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 dark:bg-gray-800 dark:bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:o}),a.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:a.jsxs("div",{className:"sm:flex sm:items-start",children:[a.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900 sm:mx-0 sm:h-10 sm:w-10",children:a.jsx(v0,{className:"h-6 w-6 text-red-600 dark:text-red-300"})}),a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[a.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",id:"modal-title",children:e}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})})]})]})}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm ${s?"opacity-75 cursor-not-allowed":""}`,onClick:i,disabled:s,children:s?"Deleting...":r}),a.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:o,disabled:s,children:n})]})]})]})}),T0=({post:e,currentUserId:t,onPostUpdated:r,onPostDeleted:n})=>{const[s,i]=p.useState(!1),[o,l]=p.useState(""),[c,u]=p.useState([]),[d,h]=p.useState(!1),[m,y]=p.useState(!1),[v,b]=p.useState(e.userReactions||{}),[_,g]=p.useState(null),[f,x]=p.useState(!1),[w,E]=p.useState(!1),[k,P]=p.useState(!1),[T,S]=p.useState(!1);p.useEffect(()=>{e.userReactions&&b(e.userReactions)},[e.userReactions]),p.useEffect(()=>{(async()=>{var H,te;if(!e.is_anonymous){if((H=e.profile)!=null&&H.full_name&&((te=e.profile)==null?void 0:te.full_name)!=="User"){g(e.profile);return}if(e.user_id)try{const{data:X,error:oe}=await R.from("profiles").select("full_name, avatar_url").eq("id",e.user_id).single();if(oe)throw oe;X&&g(X)}catch(X){console.error("Error fetching author info:",X)}}})()},[e.user_id,e.is_anonymous,e.profile]);const L=V=>{const H=new Date(V),X=Math.floor((new Date-H)/1e3);if(X<60)return"just now";if(X<3600){const oe=Math.floor(X/60);return`${oe} ${oe===1?"minute":"minutes"} ago`}else if(X<86400){const oe=Math.floor(X/3600);return`${oe} ${oe===1?"hour":"hours"} ago`}else if(X<604800){const oe=Math.floor(X/86400);return`${oe} ${oe===1?"day":"days"} ago`}else return new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},O=L(e.created_at),I=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),z=e.post_type==="event",$=e.post_type==="prayer",N=e.post_type==="announcement",C=V=>{var te;const H=(te=e.reactions)==null?void 0:te.find(X=>X.reaction_type===V);return H?parseInt(H.count):0},D=C("like"),j=C("pray"),A=async V=>{if(t)try{const{data:H,error:te}=await R.rpc("toggle_post_reaction",{post_id_param:e.id,user_id_param:t,reaction_type_param:V});if(te)throw te;b(X=>({...X,[V]:H}))}catch(H){console.error("Error toggling reaction:",H)}};p.useEffect(()=>{s&&ke()},[s]);const M=()=>{E(!0),x(!1)},U=V=>{if(E(!1),r)r(V);else{const H=JSON.parse(JSON.stringify(V));Object.assign(e,H)}},G=()=>{P(!0),x(!1)},q=async()=>{try{S(!0);const{error:V}=await R.from("posts").delete().eq("id",e.id);if(V)throw V;P(!1),n&&n(e.id)}catch(V){console.error("Error deleting post:",V),alert("Failed to delete post: "+V.message)}finally{S(!1)}},J=()=>{P(!1)},se=()=>{E(!1)},ve=V=>{var H;return V?V.user_id===t?localStorage.getItem("userFullName")||"You":(H=V.profiles)!=null&&H.full_name&&V.profiles.full_name!=="User"?V.profiles.full_name:"User":"User"},ke=async()=>{if(e.id)try{h(!0);const{data:V,error:H}=await R.from("comments").select("*").eq("post_id",e.id).order("created_at",{ascending:!0});if(H)throw H;if(!V||V.length===0){u([]);return}const te=await Promise.all(V.map(async X=>{if(!X.user_id)return{...X,profiles:null};try{const{data:oe}=await R.from("profiles").select("full_name, avatar_url").eq("id",X.user_id).single();return{...X,profiles:oe}}catch(oe){return console.error("Error fetching commenter profile:",oe),{...X,profiles:null}}}));u(te)}catch(V){console.error("Error fetching comments:",V)}finally{h(!1)}},Qe=async V=>{if(V.preventDefault(),!(!o.trim()||!t))try{y(!0);const{data:H,error:te}=await R.from("comments").insert({post_id:e.id,user_id:t,content:o.trim()}).select();if(te)throw te;if(H&&H.length>0){const X={...H[0],profiles:{full_name:localStorage.getItem("userFullName")||"You",avatar_url:localStorage.getItem("userAvatarUrl")||null}};u(oe=>[...oe,X])}l("")}catch(H){console.error("Error submitting comment:",H)}finally{y(!1)}},B=(V,H)=>{switch(V.type){case"youtube":return a.jsx("div",{className:"aspect-w-16 aspect-h-9 mt-3 rounded-lg overflow-hidden",children:a.jsx("iframe",{src:V.src,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full border-0"})},`youtube-${H}`);case"suno":return a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:a.jsx("iframe",{src:V.src,title:"Suno music player",allow:"autoplay",className:"w-full h-24 border-0"})},`suno-${H}`);case"url":return a.jsx("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:V.url},`url-${H}`);case"text":default:return a.jsx("span",{children:V.content},`text-${H}`)}},K=()=>cd(e.content).map((H,te)=>B(H,te)),ae=(V,H)=>cd(V).map((X,oe)=>B(X,`comment-${H}-${oe}`));return a.jsxs(a.Fragment,{children:[k&&a.jsx(Dv,{title:"Delete Post",message:"Are you sure you want to delete this post? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",isDeleting:T,onConfirm:q,onCancel:J}),w?a.jsx(Mv,{post:e,onPostUpdated:U,onCancel:se}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden mb-4",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsx(Rv,{post:e,authorInfo:_,relativeTime:O,formattedDate:I,isEvent:z,isPrayer:$,isAnnouncement:N}),a.jsxs("div",{className:"relative ml-auto",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>x(!f),children:a.jsx(sv,{})}),f&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>x(!1),children:"Save post"}),t===e.user_id&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center",onClick:M,children:[a.jsx(Ln,{className:"mr-2"})," Edit post"]}),a.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center",onClick:G,children:[a.jsx(_i,{className:"mr-2"})," Delete post"]})]})]})})]})]}),a.jsxs("div",{className:"p-4 pt-0",children:[a.jsx("div",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-line",children:K()}),e.media_urls&&e.media_urls.length>0&&a.jsx("div",{className:`mt-3 grid ${e.media_urls.length>1?"grid-cols-2 gap-2":"grid-cols-1"}`,children:e.media_urls.map((V,H)=>V.match(/\.(mp4|webm|ogg)$/i)?a.jsx("video",{src:V,className:"w-full h-auto rounded-md object-cover",controls:!0},H):a.jsx("img",{src:V,alt:`Post media ${H+1}`,className:"w-full h-auto rounded-md object-cover"},H))})]}),(D>0||j>0||e.commentsCount>0)&&a.jsxs("div",{className:"px-4 py-2 flex justify-between text-sm text-gray-500 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{children:[D>0&&a.jsxs("span",{className:"flex items-center inline-block mr-3",children:[a.jsx(sd,{className:"text-red-500 mr-1"})," ",D]}),j>0&&a.jsxs("span",{className:"flex items-center inline-block mr-3",children:[a.jsx(wt,{className:"text-purple-500 mr-1"})," ",j]})]}),e.commentsCount>0&&a.jsxs("button",{className:"hover:underline",onClick:()=>i(!s),children:[e.commentsCount," ",e.commentsCount===1?"comment":"comments"]})]}),a.jsxs("div",{className:"px-2 py-2 flex justify-between items-center border-t border-gray-100 dark:border-gray-700",children:[a.jsx("button",{className:`flex-1 flex items-center justify-center p-2 rounded-md ${v.like?"text-red-500 font-medium":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>A("like"),children:a.jsxs("span",{className:"inline-flex items-center",children:[v.like?a.jsx(sd,{className:"mr-2"}):a.jsx(bv,{className:"mr-2"}),"Like"]})}),a.jsx("button",{className:"flex-1 flex items-center justify-center p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",onClick:()=>i(!s),children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(vv,{className:"mr-2"}),"Comment"]})}),a.jsx("button",{className:`flex-1 flex items-center justify-center p-2 rounded-md ${v.pray?"text-purple-500 font-medium":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>A("pray"),children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(wt,{className:"mr-2"}),"Pray"]})})]}),s&&a.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-900 border-t border-gray-100 dark:border-gray-700",children:[t&&a.jsxs("form",{onSubmit:Qe,className:"mb-4 flex",children:[a.jsx("input",{type:"text",placeholder:"Write a comment...",className:"flex-1 p-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-l-md focus:outline-none focus:ring-1 focus:ring-blue-500",value:o,onChange:V=>l(V.target.value),disabled:m}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-r-md disabled:opacity-50",disabled:!o.trim()||m,children:m?"Sending...":"Post"})]}),d?a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2",children:"Loading comments..."}):c.length===0?a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2",children:"No comments yet. Be the first to comment!"}):a.jsx("div",{className:"space-y-4",children:c.map(V=>{var H;return a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 flex-shrink-0",children:(H=V.profiles)!=null&&H.avatar_url?a.jsx("img",{src:V.profiles.avatar_url,alt:ve(V),className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(kt,{className:"text-gray-400 dark:text-gray-500"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg px-3 py-2 shadow-sm",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-gray-100",children:ve(V)}),a.jsx("div",{className:"text-gray-800 dark:text-gray-200",children:ae(V.content,V.id)})]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-2",children:L(V.created_at)})]})]},V.id)})})]})]})]})},Iv=({onPostCreated:e,churchId:t})=>{var L,O;const{user:r}=Be(),[n,s]=p.useState(""),[i,o]=p.useState("regular"),[l,c]=p.useState([]),[u,d]=p.useState([]),[h,m]=p.useState(!1),[y,v]=p.useState(!1),[b,_]=p.useState(!1),g=p.useRef(),f=I=>{s(I.target.value),!y&&I.target.value&&v(!0)},x=I=>{const z=Array.from(I.target.files);if(z.length===0)return;const $=z.filter(C=>C.type.startsWith("image/")||C.type.startsWith("video/")),N=$.map(C=>({file:C,url:URL.createObjectURL(C),type:C.type.startsWith("image/")?"image":"video"}));c([...l,...$]),d([...u,...N]),v(!0)},w=I=>{URL.revokeObjectURL(u[I].url);const z=[...l];z.splice(I,1);const $=[...u];$.splice(I,1),c(z),d($)},E=I=>{o(I),v(!0)},k=async I=>{if(I.preventDefault(),!(!n.trim()&&l.length===0))try{m(!0);const z=[];if(l.length>0)for(const D of l){const j=D.name.split(".").pop(),A=`${Date.now()}-${Math.random().toString(36).substring(2)}.${j}`,M=`posts/${r.id}/${A}`,{error:U}=await R.storage.from("media").upload(M,D);if(U)throw console.error("Media upload error:",U),U;const{data:G}=R.storage.from("media").getPublicUrl(M);z.push(G.publicUrl)}const $={user_id:r.id,church_id:t,content:n.trim(),media_urls:z,post_type:i,is_anonymous:i==="prayer"&&b},{data:N,error:C}=await R.from("posts").insert($).select().single();if(C)throw console.error("Post creation error:",C),C;console.log("Post created successfully:",N),s(""),c([]),d([]),o("regular"),_(!1),v(!1),e&&e(N)}catch(z){console.error("Error creating post:",z),alert("Failed to create post. Please try again: "+z.message)}finally{m(!1)}},P=({type:I,icon:z,label:$,active:N})=>a.jsxs("button",{type:"button",className:`flex items-center px-3 py-1.5 rounded-full text-sm ${N?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>E(I),children:[z,a.jsx("span",{className:"ml-1",children:$})]}),{avatar_url:T,full_name:S}=(r==null?void 0:r.user_metadata)||{};return a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:a.jsxs("form",{onSubmit:k,children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200",children:T?a.jsx("img",{src:T,alt:S,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(kt,{className:"text-gray-400"})})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{placeholder:`What's on your mind, ${(S==null?void 0:S.split(" ")[0])||"there"}?`,className:"w-full border rounded-lg p-3 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-lg text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-800 dark:border-gray-700 resize-none",rows:y?4:2,value:n,onChange:f,onClick:()=>v(!0)}),u.length>0&&a.jsx("div",{className:`grid gap-2 mb-3 ${u.length>1?"grid-cols-2":"grid-cols-1"}`,children:u.map((I,z)=>a.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100",children:[I.type==="image"?a.jsx("img",{src:I.url,alt:`Upload preview ${z+1}`,className:"w-full h-48 object-cover"}):a.jsx("video",{src:I.url,className:"w-full h-48 object-cover",controls:!0}),a.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white rounded-full p-1",onClick:()=>w(z),children:a.jsx(Dt,{})})]},z))})]})]})}),y&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto pb-1",children:[a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap",children:"Post type:"}),a.jsx(P,{type:"regular",icon:a.jsx(kt,{className:"text-blue-500"}),label:"Regular",active:i==="regular"}),a.jsx(P,{type:"prayer",icon:a.jsx(wt,{className:"text-purple-500"}),label:"Prayer Request",active:i==="prayer"}),a.jsx(P,{type:"event",icon:a.jsx(Ht,{className:"text-green-500"}),label:"Event",active:i==="event"}),(((L=r==null?void 0:r.user_metadata)==null?void 0:L.role)==="admin"||((O=r==null?void 0:r.user_metadata)==null?void 0:O.role)==="worship_leader")&&a.jsx(P,{type:"announcement",icon:a.jsx(mc,{className:"text-yellow-500"}),label:"Announcement",active:i==="announcement"})]})}),i==="prayer"&&a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 dark:text-gray-300 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b,onChange:I=>_(I.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("span",{children:"Post anonymously"})]})}),a.jsxs("div",{className:"px-4 py-2 flex items-center justify-between border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-3 py-1.5",onClick:()=>g.current.click(),children:[a.jsx(w0,{className:"text-green-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Photo"})]}),a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-3 py-1.5",onClick:()=>g.current.click(),children:[a.jsx(S0,{className:"text-red-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Video"})]}),a.jsx("input",{type:"file",multiple:!0,ref:g,className:"hidden",onChange:x,accept:"image/*,video/*"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",className:"px-4 py-1.5 text-sm border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>{v(!1),s(""),c([]),d([]),o("regular"),_(!1)},children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h||!n.trim()&&l.length===0,className:"px-4 py-1.5 text-sm font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:h?a.jsxs(a.Fragment,{children:[a.jsx(os,{className:"animate-spin mr-1.5"}),"Posting..."]}):"Post"})]})]})]})]})})},zv=({currentUserId:e,churchId:t})=>{const{user:r}=Be(),[n,s]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState("all"),[h,m]=p.useState(0),[y,v]=p.useState(!0),[b,_]=p.useState(0),g=10;p.useEffect(()=>{w()},[h,u,b,t]),p.useEffect(()=>{e&&(r!=null&&r.user_metadata)&&(async()=>{try{const L=r.user_metadata.full_name,O=r.user_metadata.avatar_url;if(L)try{localStorage.setItem("userFullName",L),O&&localStorage.setItem("userAvatarUrl",O);const I=JSON.parse(localStorage.getItem("usernamesCache")||"{}");I[e]=L,localStorage.setItem("usernamesCache",JSON.stringify(I))}catch(I){console.error("Error updating localStorage cache:",I)}}catch(L){console.error("Error setting user metadata:",L)}})()},[e,r]);const f=S=>{s(L=>L.map(O=>O.id===S.id?S:O))},x=S=>{s(L=>L.filter(O=>O.id!==S))},w=async()=>{try{o(!0);let S=R.from("posts_with_authors").select("*").order("created_at",{ascending:!1}).range(h*g,(h+1)*g-1);if(u==="following"&&e){const{data:z}=await R.from("follows").select("following_id").eq("follower_id",e),$=(z==null?void 0:z.map(N=>N.following_id))||[];if($.length===0){v(!1),s([]),o(!1);return}else S=S.in("user_id",$)}else u==="church"&&t?S=S.eq("church_id",t):u!=="all"&&(S=S.eq("post_type",u));const{data:L,error:O}=await S;if(O){console.error("Error with posts_with_authors view:",O);let z=R.from("posts").select("*").order("created_at",{ascending:!1}).range(h*g,(h+1)*g-1);if(u==="following"&&e){const D=(followingData==null?void 0:followingData.map(j=>j.following_id))||[];z=z.in("user_id",D)}else u==="church"&&t?z=z.eq("church_id",t):u!=="all"&&(z=z.eq("post_type",u));const{data:$,error:N}=await z;if(N)throw N;v($.length===g);const C=await Promise.all($.map(async D=>{var M,U;let j="User",A=null;if(D.user_id===e)j=((M=r==null?void 0:r.user_metadata)==null?void 0:M.full_name)||"You",A=(U=r==null?void 0:r.user_metadata)==null?void 0:U.avatar_url;else try{const G=JSON.parse(localStorage.getItem("usernamesCache")||"{}");if(G[D.user_id])j=G[D.user_id];else{const{data:q}=await R.rpc("get_user_full_name",{user_id_param:D.user_id});if(q){j=q;const J=JSON.parse(localStorage.getItem("usernamesCache")||"{}");J[D.user_id]=q,localStorage.setItem("usernamesCache",JSON.stringify(J))}}}catch(G){console.log("Error fetching user data:",G)}return E(D,j,A)}));k(C),o(!1);return}v(L.length===g);const I=await Promise.all(L.map(async z=>{const $=z.full_name||"User",N=z.avatar_url;if($&&$!=="User"&&z.user_id)try{const C=JSON.parse(localStorage.getItem("usernamesCache")||"{}");C[z.user_id]=$,localStorage.setItem("usernamesCache",JSON.stringify(C))}catch(C){console.log("Error updating usernames cache:",C)}return E(z,$,N)}));k(I)}catch(S){console.error("Error fetching posts:",S),c(S.message)}finally{o(!1)}},E=async(S,L,O)=>{let I={full_name:L,avatar_url:O},z=null;if(S.church_id&&!S.church_name){const{data:M,error:U}=await R.from("churches").select("name").eq("id",S.church_id).single();U||(z=M)}else S.church_name&&(z={name:S.church_name});const{data:$,error:N}=await R.from("reactions").select("reaction_type").eq("post_id",S.id),C=$?Array.from($.reduce((M,{reaction_type:U})=>(M.set(U,(M.get(U)||0)+1),M),new Map)).map(([M,U])=>({reaction_type:M,count:U})):[];N&&console.error("Error fetching reactions:",N);const{count:D,error:j}=await R.from("comments").select("id",{count:"exact"}).eq("post_id",S.id);j&&console.error("Error fetching comments count:",j);let A={};if(e){const{data:M,error:U}=await R.from("reactions").select("reaction_type").eq("post_id",S.id).eq("user_id",e);U&&console.error("Error fetching user reactions:",U),M==null||M.forEach(G=>{A[G.reaction_type]=!0})}return{...S,profile:I,church:z,reactions:C||[],commentsCount:D||0,userReactions:A,created_at:S.created_at||new Date().toISOString()}},k=S=>{s(h===0?S:L=>[...L,...S])},P=S=>{var L,O;if(e){const I={...S,profile:{full_name:((L=r==null?void 0:r.user_metadata)==null?void 0:L.full_name)||"You",avatar_url:((O=r==null?void 0:r.user_metadata)==null?void 0:O.avatar_url)||null},reactions:[],commentsCount:0,userReactions:{}};s(z=>[I,...z])}else m(0),_(I=>I+1)},T=()=>{!i&&y&&m(S=>S+1)};return a.jsxs("div",{className:"space-y-4",children:[e&&a.jsx(Iv,{onPostCreated:P,churchId:t}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow flex items-center space-x-1 overflow-x-auto",children:[a.jsx(ov,{className:"text-gray-400 mr-2 flex-shrink-0"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="all"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("all"),children:"All"}),e&&a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${u==="following"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("following"),children:"Following"}),t&&a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${u==="church"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("church"),children:"My Church"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="event"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("event"),children:"Events"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="prayer"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("prayer"),children:"Prayer"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="announcement"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("announcement"),children:"Announcements"})]}),l?a.jsxs("div",{className:"bg-red-100 dark:bg-red-900 p-4 rounded-md text-red-800 dark:text-red-200",children:["Error loading posts: ",l]}):n.length===0&&!i?a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"No posts found"}),a.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:u==="following"?"You're not following anyone yet, or the people you follow haven't posted anything.":u==="church"?"Your church doesn't have any posts yet.":u!=="all"?`No ${u} posts found.`:"There are no posts yet. Be the first to share something!"})]}):a.jsxs("div",{className:"space-y-4",children:[n.map(S=>a.jsx(T0,{post:S,currentUserId:e,onPostUpdated:f,onPostDeleted:x},S.id)),i&&a.jsx("div",{className:"space-y-4",children:[1,2].map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/6 animate-pulse"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 animate-pulse"})]}),a.jsx("div",{className:"h-40 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]},S))}),y&&!i&&a.jsx("button",{onClick:T,className:"w-full py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md",children:"Load more"})]})]})};he.extend(P0);const Fv=()=>{const{user:e}=Be(),[t,r]=p.useState([]),[n,s]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(null),[h,m]=p.useState(null);return p.useEffect(()=>{(async()=>{try{c(!0);const v=localStorage.getItem("userChurchId");if(v)m(v);else try{const{data:b,error:_}=await R.from("profiles").select("church_id").eq("id",e.id).single();_?console.error("Profile error:",_):b!=null&&b.church_id&&(m(b.church_id),localStorage.setItem("userChurchId",b.church_id))}catch(b){console.error("Error querying profiles:",b)}if(h||v){const b=h||v,{data:_,error:g}=await R.from("churches").select("*").eq("id",b).single();g?console.error("Church error:",g):d(_);const f=he().toISOString(),x=he().add(7,"day").toISOString(),{data:w,error:E}=await R.from("events").select("*").eq("church_id",b).gte("start_time",f).lte("start_time",x).order("start_time",{ascending:!0}).limit(5);E?console.error("Event error:",E):r(w||[]);const{data:k,error:P}=await R.from("songs").select("*").eq("church_id",b).order("created_at",{ascending:!1}).limit(5);P?console.error("Song error:",P):s(k||[]);const{data:T,error:S}=await R.from("prayer_requests").select("*").eq("church_id",b).eq("is_private",!1).order("created_at",{ascending:!1}).limit(5);S?console.error("Prayer error:",S):o(T||[])}}catch(v){console.error("Error fetching dashboard data:",v)}finally{c(!1)}})()},[e==null?void 0:e.id]),l?a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((y,v)=>a.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},v))}),a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}):a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Feed"}),u&&a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:u.name}),!u&&a.jsxs("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[a.jsx("p",{className:"text-yellow-700",children:"You're not connected to a church yet. Join or create one to access all features."}),a.jsxs(ie,{to:"/churches",className:"mt-3 inline-flex items-center justify-center w-full sm:w-auto px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[a.jsx(kr,{className:"mr-2"}),"Find or Create a Church"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(ie,{to:"/calendar",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(Ht,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Calendar"})]}),a.jsxs(ie,{to:"/songs",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(bt,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Songs"})]}),a.jsxs(ie,{to:"/prayer-requests",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(wt,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Prayer"})]}),a.jsxs(ie,{to:"/teams",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(N0,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Teams"})]})]}),a.jsx(zv,{currentUserId:e.id,churchId:h})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Upcoming Events"}),a.jsx(ie,{to:"/calendar",className:"text-sm text-blue-600 font-medium",children:"View all "})]}),t.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No upcoming events in the next 7 days"}):a.jsx("div",{className:"space-y-3",children:t.map(y=>a.jsxs("div",{className:"flex items-start p-3 border border-gray-100 dark:border-gray-700 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsxs("div",{className:"min-w-[60px] text-center",children:[a.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:he(y.start_time).format("MMM")}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:he(y.start_time).format("DD")})]}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:y.title}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[he(y.start_time).format("h:mm A")," - ",he(y.end_time).format("h:mm A")]}),y.location&&a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:y.location})]})]},y.id))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Prayer Requests"}),a.jsx(ie,{to:"/prayer-requests",className:"text-sm text-blue-600 font-medium",children:"View all "})]}),i.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No prayer requests yet"}):a.jsx("div",{className:"space-y-3",children:i.map(y=>a.jsxs("div",{className:"p-3 border-b last:border-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:y.title}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2",children:y.description}),a.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[y.is_anonymous?"Anonymous":"User","  ",he(y.created_at).fromNow()]})]},y.id))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Recent Songs"}),a.jsx(ie,{to:"/songs",className:"text-sm text-blue-600 font-medium",children:"View all "})]}),n.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No songs added yet"}):a.jsx("div",{className:"space-y-3",children:n.map(y=>a.jsxs("div",{className:"flex items-center p-3 border-b last:border-0",children:[a.jsx(bt,{className:"text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:y.title}),y.artist&&a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:y.artist})]})]},y.id))})]})]})]})]})},Uv=()=>{const e=Ue(),[t,r]=p.useState(he()),[n,s]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState("month");p.useEffect(()=>{(async()=>{try{o(!0);const x=t.startOf("month").toISOString(),w=t.endOf("month").toISOString(),{data:E,error:k}=await R.from("events").select(`
            id,
            title,
            description,
            start_time,
            end_time,
            location,
            church_id,
            team_id,
            event_type,
            churches (name)
          `).gte("start_time",x).lte("start_time",w);if(k)throw k;s(E||[])}catch(x){console.error("Error fetching events:",x)}finally{o(!1)}})()},[t]);const u=()=>{l==="month"?r(t.subtract(1,"month")):l==="quarter"?r(t.subtract(3,"month")):l==="year"&&r(t.subtract(1,"year"))},d=()=>{l==="month"?r(t.add(1,"month")):l==="quarter"?r(t.add(3,"month")):l==="year"&&r(t.add(1,"year"))},h=()=>{const f=t.startOf("month"),x=t.endOf("month"),w=f.startOf("week"),E=x.endOf("week"),k=[];let P=w;for(;P.isBefore(E)||P.isSame(E,"day");)k.push(P),P=P.add(1,"day");return k},m=f=>n.filter(x=>he(x.start_time).isSame(f,"day")),y=()=>{e("/services/new")},v=f=>{f.event_type==="service"?e(`/services/${f.id}`):e(`/events/${f.id}`)},b=()=>{const f=h(),x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 border-b dark:border-gray-700 p-2",children:x.map(w=>a.jsx("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:w},w))}),a.jsx("div",{className:"grid grid-cols-7 gap-1 p-2",children:f.map(w=>{const E=w.month()===t.month(),k=w.isSame(he(),"day"),P=m(w);return a.jsxs("div",{className:`min-h-[80px] p-1 border rounded ${E?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900 text-gray-400 dark:text-gray-500"} ${k?"border-blue-500":"border-gray-200 dark:border-gray-700"}`,children:[a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`text-sm font-medium ${k?"bg-blue-500 text-white rounded-full w-6 h-6 inline-flex items-center justify-center":""}`,children:w.date()})}),a.jsxs("div",{className:"mt-1 space-y-1",children:[P.slice(0,3).map(T=>a.jsxs("div",{className:`truncate text-xs rounded p-1 cursor-pointer ${T.event_type==="service"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300"}`,title:T.title,onClick:()=>v(T),children:[T.event_type==="service"&&a.jsx(bt,{className:"inline mr-1",size:10}),T.title]},T.id)),P.length>3&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",P.length-3," more"]})]})]},w.valueOf())})})]})},_=()=>a.jsx("div",{className:"text-center py-20 text-gray-500 dark:text-gray-400",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Quarterly view coming soon"})}),g=()=>a.jsx("div",{className:"text-center py-20 text-gray-500 dark:text-gray-400",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Yearly view coming soon"})});return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Calendar"}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded shadow-sm flex items-center",title:"Add new service",onClick:y,children:[a.jsx(Me,{className:"mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Service"})]})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300","aria-label":"Previous",children:a.jsx(X1,{})}),a.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:[l==="month"&&t.format("MMMM YYYY"),l==="quarter"&&`Q${Math.ceil((t.month()+1)/3)} ${t.year()}`,l==="year"&&t.format("YYYY")]}),a.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300","aria-label":"Next",children:a.jsx(Z1,{})})]}),a.jsxs("div",{className:"border dark:border-gray-700 rounded-md overflow-hidden",children:[a.jsx("button",{onClick:()=>c("month"),className:`px-3 py-1 text-sm ${l==="month"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Month"}),a.jsx("button",{onClick:()=>c("quarter"),className:`px-3 py-1 text-sm ${l==="quarter"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Quarter"}),a.jsx("button",{onClick:()=>c("year"),className:`px-3 py-1 text-sm ${l==="year"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Year"})]})]}),i&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!i&&a.jsxs(a.Fragment,{children:[l==="month"&&b(),l==="quarter"&&_(),l==="year"&&g()]}),a.jsxs("div",{className:"flex items-center justify-end space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-blue-100 rounded mr-1"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Services"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-green-100 rounded mr-1"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Other Events"})]})]})]})},Bv=()=>{const e=Ue(),[t,r]=p.useState([]),[n,s]=p.useState(!0),[i,o]=p.useState("");p.useEffect(()=>{(async()=>{try{s(!0);const{data:m,error:y}=await R.from("songs").select("*").order("title",{ascending:!0});if(y)throw y;r(m||[])}catch(m){console.error("Error fetching songs:",m)}finally{s(!1)}})()},[]);const l=t.filter(h=>h.title.toLowerCase().includes(i.toLowerCase())||h.artist&&h.artist.toLowerCase().includes(i.toLowerCase())),c=()=>{e("/songs/new")},u=h=>{e(`/songs/${h}`)},d=(h,m)=>{m.stopPropagation(),e(`/songs/edit/${h}`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Songs"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new song",onClick:c,children:a.jsx(Me,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ji,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search songs by title or artist...",value:i,onChange:h=>o(h.target.value)})]}),n&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!n&&a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:l.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(bt,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No songs found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i?"No songs match your search criteria.":"Get started by adding a new song."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx(Me,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Song"]})})]}):a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.map(h=>a.jsx("li",{className:"px-4 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>u(h.id),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:h.title}),h.artist&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.artist})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[h.default_key&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",children:["Key: ",h.default_key]}),a.jsx("button",{onClick:m=>u(h.id),className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",title:"View song",children:a.jsx(gc,{})}),a.jsx("button",{onClick:m=>d(h.id,m),className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",title:"Edit song",children:a.jsx(Ln,{})})]})]})},h.id))})})]})},Vv=()=>{const e=Ue(),[t,r]=p.useState([]),[n,s]=p.useState(!0),[i,o]=p.useState("");p.useEffect(()=>{(async()=>{try{s(!0);const{data:m,error:y}=await R.from("events").select(`
            id,
            title,
            description,
            start_time,
            end_time,
            location,
            church_id,
            team_id,
            churches (name)
          `).eq("event_type","service").order("start_time",{ascending:!1});if(y)throw y;r(m||[])}catch(m){console.error("Error fetching services:",m)}finally{s(!1)}})()},[]);const l=t.filter(h=>{var m;return h.title.toLowerCase().includes(i.toLowerCase())||h.description&&h.description.toLowerCase().includes(i.toLowerCase())||((m=h.churches)==null?void 0:m.name)&&h.churches.name.toLowerCase().includes(i.toLowerCase())}),c=()=>{e("/services/new")},u=h=>{e(`/services/${h}`)},d=(h,m)=>{m.stopPropagation(),e(`/services/edit/${h}`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Services"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new service",onClick:c,children:a.jsx(Me,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ji,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search services by title, description, or church...",value:i,onChange:h=>o(h.target.value)})]}),n&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!n&&a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Ht,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No services found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i?"No services match your search criteria.":"Get started by adding a new service."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx(Me,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Service"]})})]}):a.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(h=>{var m;return a.jsx("li",{className:"px-4 py-4 hover:bg-gray-50 cursor-pointer",onClick:()=>u(h.id),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h.title}),a.jsx("p",{className:"text-sm text-gray-500",children:he(h.start_time).format("dddd, MMMM D, YYYY  h:mm A")}),((m=h.churches)==null?void 0:m.name)&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.churches.name})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:y=>u(h.id),className:"text-gray-500 hover:text-blue-600",title:"View service",children:a.jsx(gc,{})}),a.jsx("button",{onClick:y=>d(h.id,y),className:"text-gray-500 hover:text-blue-600",title:"Edit service",children:a.jsx(Ln,{})})]})]})},h.id)})})})]})},ud=({imageUrl:e,onSave:t,onCancel:r,aspectRatio:n=1,initialPosition:s={x:50,y:50}})=>{const[i,o]=p.useState(s),[l,c]=p.useState(!1),[u,d]=p.useState({x:0,y:0}),h=p.useRef(null),m=p.useRef(null),y=g=>{g.preventDefault(),c(!0);const f=g.touches?g.touches[0].clientX:g.clientX,x=g.touches?g.touches[0].clientY:g.clientY;d({x:f,y:x})},v=g=>{if(!l||!h.current||!m.current)return;const f=g.touches?g.touches[0].clientX:g.clientX,x=g.touches?g.touches[0].clientY:g.clientY,w=f-u.x,E=x-u.y,k=h.current.offsetWidth,P=h.current.offsetHeight,T=Math.max(0,Math.min(100,i.x-w/k*100)),S=Math.max(0,Math.min(100,i.y-E/P*100));o({x:T,y:S}),d({x:f,y:x})},b=()=>{c(!1)};p.useEffect(()=>(l&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),document.addEventListener("touchmove",v),document.addEventListener("touchend",b)),()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",b)}),[l,i,u]);const _=()=>{t(i)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden max-w-3xl w-full",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Adjust Image Position"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:a.jsx(Dt,{})})]}),a.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[a.jsxs("div",{ref:h,className:"relative w-full overflow-hidden cursor-move",style:{height:n!==1?"240px":"300px",borderRadius:n!==1?"0.5rem":"50%"},onMouseDown:y,onTouchStart:y,children:[e&&a.jsx("img",{ref:m,src:e,alt:"Adjust position",className:"absolute w-full h-full object-cover select-none",style:{objectPosition:`${i.x}% ${i.y}%`,userSelect:"none",touchAction:"none"},draggable:"false"}),a.jsx("div",{className:"absolute inset-0 border-2 border-white border-dashed pointer-events-none"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Horizontal Position: ",Math.round(i.x),"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:i.x,onChange:g=>o({...i,x:parseInt(g.target.value)}),className:"w-full"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Vertical Position: ",Math.round(i.y),"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:i.y,onChange:g=>o({...i,y:parseInt(g.target.value)}),className:"w-full"})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Drag the image to position it, or use the sliders to fine-tune."})]}),a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),a.jsxs("button",{type:"button",onClick:_,className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 flex items-center",children:[a.jsx(yc,{className:"mr-2"})," Save Position"]})]})]})})},Hv=()=>{const{userId:e}=As(),{user:t,updateProfile:r}=Be(),n=t==null?void 0:t.id,s=e||n,i=s===n,[o,l]=p.useState(!0),[c,u]=p.useState(!1),[d,h]=p.useState(null),[m,y]=p.useState("profile"),[v,b]=p.useState(!1),[_,g]=p.useState(!1),[f,x]=p.useState([]),[w,E]=p.useState([]),[k,P]=p.useState([]),[T,S]=p.useState(!1),[L,O]=p.useState(!1),[I,z]=p.useState(!1),[$,N]=p.useState(!1),[C,D]=p.useState({fullName:"",email:"",churchName:"",role:"",avatarUrl:"",coverUrl:"",bio:"",avatarPosition:{x:50,y:50},coverPosition:{x:50,y:50}});p.useEffect(()=>{j(),n&&s&&!i&&U()},[s,n]);const j=async()=>{try{l(!0);const{data:B,error:K}=await R.from("profiles").select("*").eq("id",s).single();if(K)throw K;let ae="";if(B!=null&&B.church_id){const{data:te,error:X}=await R.from("churches").select("name").eq("id",B.church_id).single();!X&&te&&(ae=te.name)}console.log("Profile data from DB:",B);let V=B==null?void 0:B.avatar_position,H=B==null?void 0:B.cover_position;if(typeof V=="string")try{V=JSON.parse(V)}catch(te){console.error("Error parsing avatar_position:",te),V=null}if(typeof H=="string")try{H=JSON.parse(H)}catch(te){console.error("Error parsing cover_position:",te),H=null}D({fullName:(B==null?void 0:B.full_name)||"",email:(B==null?void 0:B.email)||"",churchName:ae,role:(B==null?void 0:B.user_role)||"member",avatarUrl:(B==null?void 0:B.avatar_url)||"",coverUrl:(B==null?void 0:B.cover_url)||"",bio:(B==null?void 0:B.bio)||"",avatarPosition:V||{x:50,y:50},coverPosition:H||{x:50,y:50}}),A(s),M(s)}catch(B){console.error("Error fetching profile:",B),h({type:"error",text:"Failed to load profile data"})}finally{l(!1)}},A=async B=>{try{let{data:K,error:ae}=await R.from("posts_with_authors").select("*").eq("user_id",B).order("created_at",{ascending:!1}).limit(10);if(ae){console.error("Error fetching from posts_with_authors:",ae);const{data:V,error:H}=await R.from("posts").select("*").eq("user_id",B).order("created_at",{ascending:!1}).limit(10);if(H)throw H;K=V}if(K&&K.length>0){const V=await Promise.all(K.map(async H=>{let te={full_name:H.full_name||C.fullName,avatar_url:H.avatar_url||C.avatarUrl},X=null;if(H.church_id&&!H.church_name){const{data:dt,error:qt}=await R.from("churches").select("name").eq("id",H.church_id).single();qt||(X=dt)}else H.church_name&&(X={name:H.church_name});const{data:oe,error:x2}=await R.from("reactions").select("reaction_type").eq("post_id",H.id),z0=oe?Array.from(oe.reduce((dt,{reaction_type:qt})=>(dt.set(qt,(dt.get(qt)||0)+1),dt),new Map)).map(([dt,qt])=>({reaction_type:dt,count:qt})):[],{count:F0,error:v2}=await R.from("comments").select("id",{count:"exact"}).eq("post_id",H.id);let bc={};if(n){const{data:dt}=await R.from("reactions").select("reaction_type").eq("post_id",H.id).eq("user_id",n);dt==null||dt.forEach(qt=>{bc[qt.reaction_type]=!0})}return{...H,profile:te,church:X,reactions:z0||[],commentsCount:F0||0,userReactions:bc,created_at:H.created_at||new Date().toISOString()}}));x(V)}else x([])}catch(K){console.error("Error fetching posts:",K),x([])}},M=async B=>{try{const{data:K,error:ae}=await R.from("follows").select("follower_id").eq("following_id",B);ae||P(K||[]);const{data:V,error:H}=await R.from("follows").select("following_id").eq("follower_id",B);H||E(V||[])}catch(K){console.error("Error fetching follow counts:",K)}},U=async()=>{try{const{data:B,error:K}=await R.from("follows").select("id").eq("follower_id",n).eq("following_id",s).maybeSingle();K||S(!!B)}catch(B){console.error("Error checking follow status:",B)}},G=async B=>{B&&B.preventDefault();try{u(!0),h(null);const{error:K}=await R.from("profiles").update({full_name:C.fullName,bio:C.bio}).eq("id",n);if(K)throw K;r&&await r({fullName:C.fullName}),O(!1),h({type:"success",text:"Profile updated successfully"})}catch(K){console.error("Error updating profile:",K),h({type:"error",text:K.message||"Failed to update profile"})}finally{u(!1)}},q=async B=>{try{b(!0);const K=B.target.files[0];if(!K)return;const ae=K.name.split(".").pop(),V=`${n}/${Math.random().toString(36).substring(2)}.${ae}`,{error:H}=await R.storage.from("avatars").upload(V,K);if(H)throw H;const{data:te}=R.storage.from("avatars").getPublicUrl(V),{error:X}=await R.from("profiles").update({avatar_url:te.publicUrl}).eq("id",n);if(X)throw X;D(oe=>({...oe,avatarUrl:te.publicUrl})),h({type:"success",text:"Profile picture updated successfully"})}catch(K){console.error("Error uploading avatar:",K),h({type:"error",text:"Failed to upload avatar"})}finally{b(!1)}},J=async B=>{try{g(!0);const K=B.target.files[0];if(!K)return;const ae=K.name.split(".").pop(),V=`covers/${n}/${Math.random().toString(36).substring(2)}.${ae}`,{error:H}=await R.storage.from("avatars").upload(V,K);if(H)throw H;const{data:te}=R.storage.from("avatars").getPublicUrl(V),{error:X}=await R.from("profiles").update({cover_url:te.publicUrl}).eq("id",n);if(X)throw X;D(oe=>({...oe,coverUrl:te.publicUrl})),h({type:"success",text:"Cover image updated successfully"})}catch(K){console.error("Error uploading cover:",K),h({type:"error",text:"Failed to upload cover image"})}finally{g(!1)}},se=async B=>{try{h(null);try{console.log("Saving avatar position:",B);const K={x:Math.round(B.x),y:Math.round(B.y)},{error:ae}=await R.from("profiles").update({avatar_position:K}).eq("id",n);if(ae)throw ae;D(V=>({...V,avatarPosition:B})),h({type:"success",text:"Profile picture position updated"}),j()}catch(K){console.error("Position column may not exist yet:",K),h({type:"error",text:"Position update feature requires running the migrations. Check NEXT_STEPS.md."})}}catch(K){console.error("Error updating avatar position:",K),h({type:"error",text:"Failed to update profile picture position"})}finally{z(!1)}},ve=async B=>{try{h(null);try{console.log("Saving cover position:",B);const K={x:Math.round(B.x),y:Math.round(B.y)},{error:ae}=await R.from("profiles").update({cover_position:K}).eq("id",n);if(ae)throw ae;D(V=>({...V,coverPosition:B})),h({type:"success",text:"Cover image position updated"}),j()}catch(K){console.error("Position column may not exist yet:",K),h({type:"error",text:"Position update feature requires running the migrations. Check NEXT_STEPS.md."})}}catch(K){console.error("Error updating cover position:",K),h({type:"error",text:"Failed to update cover image position"})}finally{N(!1)}},ke=async()=>{try{if(T){const{error:B}=await R.from("follows").delete().eq("follower_id",n).eq("following_id",s);if(B)throw B;S(!1)}else{const{error:B}=await R.from("follows").insert({follower_id:n,following_id:s});if(B)throw B;S(!0)}M(s)}catch(B){console.error("Error toggling follow:",B),h({type:"error",text:"Failed to update follow status"})}};if(o)return a.jsxs("div",{className:"space-y-6 dark:bg-gray-900",children:[a.jsx("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]});const Qe={posts:f.length,followers:k.length,following:w.length};return a.jsxs("div",{className:"space-y-6 pb-16 md:pb-0 dark:bg-gray-900 dark:text-white",children:[a.jsxs("div",{className:"relative h-48 bg-gray-200 dark:bg-gray-800 rounded-lg overflow-hidden",children:[C.coverUrl?a.jsx("img",{src:C.coverUrl,alt:"Cover",className:"w-full h-full object-cover",style:{objectPosition:C.coverPosition?`${C.coverPosition.x}% ${C.coverPosition.y}%`:"50% 50%"}}):a.jsx("div",{className:"h-full w-full bg-gradient-to-r from-blue-500 to-purple-600"}),i&&L&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute bottom-2 right-2 flex space-x-2",children:[C.coverUrl&&a.jsx("button",{className:"bg-white dark:bg-gray-800 bg-opacity-70 p-2 rounded-full hover:bg-opacity-100 transition-all",onClick:()=>N(!0),disabled:_,title:"Adjust cover photo position",children:a.jsx(rd,{className:"text-gray-700 dark:text-gray-300"})}),a.jsx("button",{className:"bg-white dark:bg-gray-800 bg-opacity-70 p-2 rounded-full hover:bg-opacity-100 transition-all shadow-lg",onClick:()=>document.getElementById("cover-upload").click(),disabled:_,title:"Upload new cover photo",children:a.jsx(td,{className:"text-gray-700 dark:text-gray-300"})})]}),a.jsx("input",{type:"file",id:"cover-upload",onChange:J,className:"hidden",accept:"image/*"})]})]}),a.jsxs("div",{className:"relative flex flex-col md:flex-row gap-4 -mt-16 px-4",children:[a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"w-32 h-32 rounded-full bg-white dark:bg-gray-700 p-1 shadow-lg",children:[C.avatarUrl?a.jsx("img",{src:C.avatarUrl,alt:C.fullName,className:"w-full h-full rounded-full object-cover",style:{objectPosition:C.avatarPosition?`${C.avatarPosition.x}% ${C.avatarPosition.y}%`:"50% 50%"}}):a.jsx("div",{className:"w-full h-full rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center",children:a.jsx(kt,{className:"text-gray-400 dark:text-gray-300 text-4xl"})}),i&&L&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute -bottom-2 -right-2 flex space-x-1",children:[C.avatarUrl&&a.jsx("button",{className:"bg-white dark:bg-gray-700 p-2 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-all z-10",onClick:()=>z(!0),disabled:v,title:"Adjust profile picture position",children:a.jsx(rd,{className:"text-gray-700 dark:text-gray-300 text-sm"})}),a.jsx("button",{className:"bg-white dark:bg-gray-700 p-2 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-all z-10",onClick:()=>document.getElementById("avatar-upload").click(),disabled:v,title:"Upload new profile picture",children:a.jsx(td,{className:"text-gray-700 dark:text-gray-300 text-sm"})})]}),a.jsx("input",{type:"file",id:"avatar-upload",onChange:q,className:"hidden",accept:"image/*"})]})]})}),a.jsxs("div",{className:"flex-1 pt-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:C.fullName}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 flex items-center",children:[C.churchName?a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-1 text-gray-500 dark:text-gray-400"}),C.churchName," "]}):"",C.role==="member"?"Member":C.role==="admin"?"Administrator":C.role==="worship_leader"?"Worship Leader":C.role]}),C.bio?a.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line mt-2",children:C.bio}):i&&a.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic mt-2",children:"Add a bio to tell people about yourself"})]}),a.jsx("div",{className:"mt-2 md:mt-0",children:i?a.jsxs("button",{className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 rounded-md flex items-center",onClick:()=>O(!L),children:[a.jsx(Ln,{className:"mr-1"})," ",L?"Cancel":"Edit"]}):a.jsx("button",{className:`px-4 py-2 ${T?"bg-gray-600 hover:bg-gray-700":"bg-blue-600 hover:bg-blue-700"} text-white rounded-md flex items-center`,onClick:ke,children:T?a.jsxs(a.Fragment,{children:[a.jsx(yv,{className:"mr-2"})," Unfollow"]}):a.jsxs(a.Fragment,{children:[a.jsx(_0,{className:"mr-2"})," Follow"]})})})]}),a.jsxs("div",{className:"flex mt-4 gap-4 text-center",children:[a.jsxs("div",{className:"flex-1 p-2 bg-white dark:bg-gray-800 rounded-md shadow-sm",children:[a.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:Qe.posts}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Posts"})]}),a.jsxs("div",{className:"flex-1 p-2 bg-white dark:bg-gray-800 rounded-md shadow-sm",children:[a.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:Qe.followers}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Followers"})]}),a.jsxs("div",{className:"flex-1 p-2 bg-white dark:bg-gray-800 rounded-md shadow-sm",children:[a.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:Qe.following}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Following"})]})]})]})]}),I&&C.avatarUrl&&a.jsx(ud,{imageUrl:C.avatarUrl,onSave:se,onCancel:()=>z(!1),aspectRatio:1,initialPosition:C.avatarPosition||{x:50,y:50}}),$&&C.coverUrl&&a.jsx(ud,{imageUrl:C.coverUrl,onSave:ve,onCancel:()=>N(!1),aspectRatio:3,initialPosition:C.coverPosition||{x:50,y:50}}),d&&a.jsx("div",{className:`mb-4 p-3 rounded-md text-sm ${d.type==="success"?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"}`,children:d.text}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{className:`pb-4 px-1 ${m==="profile"?"border-b-2 border-blue-500 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>y("profile"),children:"Profile"}),a.jsx("button",{className:`pb-4 px-1 ${m==="posts"?"border-b-2 border-blue-500 text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>y("posts"),children:"Posts"})]})}),m==="profile"&&a.jsx("div",{className:"space-y-6",children:i&&L?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Edit Profile"}),a.jsxs("form",{onSubmit:G,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),a.jsx("input",{type:"text",id:"fullName",value:C.fullName,onChange:B=>D({...C,fullName:B.target.value}),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Bio"}),a.jsx("textarea",{id:"bio",value:C.bio||"",onChange:B=>D({...C,bio:B.target.value}),rows:"4",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Tell others about yourself..."})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:c,children:c?"Updating...":"Save Changes"})]})]})]}):a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"About"}),a.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[C.fullName," is a ",C.role," at ",C.churchName||"a church","."]})]})}),m==="posts"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Posts"}),i&&a.jsx(ie,{to:"/dashboard",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go to Dashboard"})]}),f.length===0?a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No posts yet."})}):a.jsx("div",{className:"space-y-4",children:f.map(B=>a.jsx(T0,{post:B,currentUserId:n},B.id))})]})]})},qv=({tags:e=[],onTagsChange:t,options:r=[],allowCustom:n=!1,placeholder:s="Add a tag...",label:i="Tags",name:o="tags"})=>{const[l,c]=p.useState(""),[u,d]=p.useState(!1),h=r.filter(b=>!e.includes(b)).filter(b=>b.toLowerCase().includes(l.toLowerCase())),m=b=>{b&&(e.includes(b)||t([...e,b]),c(""),d(!1))},y=b=>{t(e.filter(_=>_!==b))},v=b=>{b.key==="Enter"&&l&&(b.preventDefault(),n||r.includes(l)?m(l):h.length>0&&m(h[0])),b.key==="Escape"&&d(!1)};return a.jsxs("div",{className:"space-y-2",children:[i&&a.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:i}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(b=>a.jsxs("div",{className:"flex items-center bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded-md text-sm",children:[a.jsx("span",{children:b}),a.jsx("button",{type:"button",onClick:()=>y(b),className:"ml-1 p-1 rounded-full hover:bg-blue-200 dark:hover:bg-blue-800","aria-label":`Remove ${b}`,children:a.jsx(Dt,{size:10})})]},b))}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",id:o,name:o,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:s,value:l,onChange:b=>{c(b.target.value),d(!0)},onFocus:()=>d(!0),onBlur:()=>{setTimeout(()=>d(!1),200)},onKeyDown:v}),u&&l&&h.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 max-h-60 overflow-auto",children:h.map(b=>a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center",onMouseDown:()=>m(b),children:[a.jsx(Me,{className:"text-blue-500 mr-2",size:12}),a.jsx("span",{children:b})]},b))}),u&&l&&h.length===0&&n&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center",onMouseDown:()=>m(l),children:[a.jsx(Me,{className:"text-blue-500 mr-2",size:12}),a.jsxs("span",{children:['Add "',l,'"']})]})})]})]})};he.extend(P0);const Wv=({isOpen:e,onClose:t,onAdd:r,categoryOptions:n,isGlobal:s})=>{const[i,o]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(!1),[h,m]=p.useState(!1),[y,v]=p.useState([]),[b,_]=p.useState(!1),g=async f=>{if(f.preventDefault(),!i.trim()){alert("Please enter a title for your prayer request");return}_(!0);try{await r({title:i,description:l,isAnonymous:u,isPrivate:h,categories:y,isGlobal:s}),o(""),c(""),d(!1),m(!1),v([]),t()}catch(x){console.error("Error adding prayer request:",x),alert("Failed to add prayer request")}finally{_(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s?"New Global Prayer Request":"New Church Prayer Request"})}),a.jsxs("form",{onSubmit:g,className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),a.jsx("input",{type:"text",id:"title",value:i,onChange:f=>o(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:"What would you like prayer for?",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Details"}),a.jsx("textarea",{id:"description",value:l,onChange:f=>c(f.target.value),rows:"4",className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:"Share more details about your prayer request..."})]}),a.jsx("div",{children:a.jsx(qv,{name:"categories",label:"Categories",tags:y,onTagsChange:v,options:n,allowCustom:!0,placeholder:"Add categories..."})}),a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"isAnonymous",type:"checkbox",checked:u,onChange:f=>d(f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("label",{htmlFor:"isAnonymous",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Post anonymously"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"isPrivate",type:"checkbox",checked:h,onChange:f=>m(f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("label",{htmlFor:"isPrivate",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Private (only visible to church staff)"})]})]}),a.jsxs("div",{className:"mt-5 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:b,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[b?a.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-t-2 border-white rounded-full"}):a.jsx(Me,{className:"mr-2"}),"Add Prayer Request"]})]})]})]})}):null},Yv=({categories:e,activeCategories:t,onChange:r})=>{const[n,s]=p.useState(!1),i=o=>{t.includes(o)?r(t.filter(l=>l!==o)):r([...t,o])};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>s(!n),className:"inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(j0,{className:"mr-1"}),"Categories"]}),n&&a.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-10 border border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"py-1",children:e.length===0?a.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No categories found"}):e.map(o=>a.jsxs("div",{className:"px-4 py-2 flex items-center",children:[a.jsx("input",{type:"checkbox",id:`category-${o}`,checked:t.includes(o),onChange:()=>i(o),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("label",{htmlFor:`category-${o}`,className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:o})]},o))})})]})},Kv=({prayer:e,onPray:t,currentUserId:r})=>(e.user_id,a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"w-full",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:e.title}),a.jsx("div",{className:"flex justify-between items-center mt-1",children:a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.is_anonymous?"Anonymous":e.author_name||"User","  ",he(e.created_at).fromNow()]})}),(!e.is_anonymous&&e.church_name||e.is_global)&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:e.is_global?"Global Prayer Request":`From: ${e.church_name}`})]})}),a.jsx("div",{className:"mt-3",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:e.description})}),e.categories&&e.categories.length>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:e.categories.map(n=>a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",children:n},n))}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>t(e.id),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(wt,{className:"mr-1"}),"I Prayed"]}),a.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-sm",children:[a.jsx(wt,{className:"text-blue-500 dark:text-blue-400 mr-1"}),a.jsxs("span",{children:[e.prayer_count||0," ",e.prayer_count===1?"prayer":"prayers"]})]})]})]})})),Gv=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState("all"),[o,l]=p.useState("church"),[c,u]=p.useState(!1),[d,h]=p.useState([]),[m,y]=p.useState([]),[v,b]=p.useState({}),{user:_}=Be(),g=["Health","Family","Financial","Spiritual","Guidance","Healing","Relationships","Work","Education","Emotional"];p.useEffect(()=>{f()},[o,s]);const f=async()=>{try{n(!0);const{data:k}=await R.from("profiles").select("church_id").eq("id",_==null?void 0:_.id).single();let P;o==="church"&&(k!=null&&k.church_id)?P=R.from("prayer_requests").select("*, churches:church_id(name)").eq("church_id",k.church_id).eq("is_private",!1).order("created_at",{ascending:!1}):P=R.from("prayer_requests").select("*, churches:church_id(name)").eq("is_global",!0).eq("is_private",!1).order("created_at",{ascending:!1});const{data:T,error:S}=await P;if(S)throw S;const L=T.map(N=>{var C;return{...N,church_name:(C=N.churches)==null?void 0:C.name}}),O=new Set;L.forEach(N=>{N.categories&&Array.isArray(N.categories)&&N.categories.forEach(C=>O.add(C))});const I=[...new Set(L.filter(N=>!N.is_anonymous).map(N=>N.user_id))];let z={...v};if(I.length>0){const{data:N,error:C}=await R.from("profiles").select("id, full_name, avatar_url").in("id",I);!C&&N&&(N.forEach(D=>{z[D.id]=D}),b(z))}const $=L.map(N=>{const C=!N.is_anonymous&&z[N.user_id]?z[N.user_id].full_name:null;return{...N,author_name:C}});t($||[]),h([...new Set([...g,...O])])}catch(k){console.error("Error fetching prayer requests:",k)}finally{n(!1)}},x=async k=>{try{const{data:P}=await R.from("profiles").select("church_id, full_name").eq("id",_==null?void 0:_.id).single(),{data:T,error:S}=await R.from("prayer_requests").insert({title:k.title,description:k.description,is_anonymous:k.isAnonymous,is_private:k.isPrivate,categories:k.categories,church_id:k.isGlobal?null:P==null?void 0:P.church_id,is_global:k.isGlobal,user_id:_==null?void 0:_.id,prayer_count:0}).select().single();if(S)throw S;if(!k.isPrivate){const{error:L}=await R.from("posts").insert({content:`${k.title}

${k.description}`,user_id:_==null?void 0:_.id,is_anonymous:k.isAnonymous,post_type:"prayer",church_id:k.isGlobal?null:P==null?void 0:P.church_id,is_global:k.isGlobal,categories:k.categories});L&&console.error("Error creating feed post for prayer request:",L)}if(T&&!k.isAnonymous&&(P!=null&&P.full_name)){const L={...T,author_name:P.full_name};(o==="church"&&!k.isGlobal||o==="global"&&k.isGlobal)&&t(O=>[L,...O])}else f()}catch(P){throw console.error("Error adding prayer request:",P),P}},w=async k=>{try{const{data:P,error:T}=await R.from("prayer_requests").select("prayer_count").eq("id",k).single();if(T)throw T;const{error:S}=await R.from("prayer_requests").update({prayer_count:(P.prayer_count||0)+1}).eq("id",k);if(S)throw S;t(L=>L.map(O=>O.id===k?{...O,prayer_count:(O.prayer_count||0)+1}:O))}catch(P){console.error("Error recording prayer:",P),alert("Failed to record your prayer")}},E=e.filter(k=>s==="all"?!0:s==="mine"?k.user_id===(_==null?void 0:_.id):s==="others"?k.user_id!==(_==null?void 0:_.id):!0).filter(k=>m.length===0?!0:k.categories&&Array.isArray(k.categories)?k.categories.some(P=>m.includes(P)):!1);return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Prayer Requests"}),a.jsx("button",{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new prayer request",children:a.jsx(Me,{})})]}),a.jsx("div",{className:"flex justify-between items-center mb-2",children:a.jsxs("nav",{className:"flex w-full border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("button",{onClick:()=>l("church"),className:`flex-1 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm flex items-center justify-center ${o==="church"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[a.jsx(kr,{className:"mr-2"})," My Church"]}),a.jsxs("button",{onClick:()=>l("global"),className:`flex-1 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm flex items-center justify-center ${o==="global"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[a.jsx(cv,{className:"mr-2"})," Global"]})]})}),a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("nav",{className:"flex w-full",children:[a.jsx("button",{onClick:()=>i("all"),className:`flex-1 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="all"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"All Requests"}),a.jsx("button",{onClick:()=>i("mine"),className:`flex-1 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="mine"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"My Requests"}),a.jsx("button",{onClick:()=>i("others"),className:`flex-1 whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="others"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"Others' Requests"})]})}),d.length>0&&a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsx(Yv,{categories:d,activeCategories:m,onChange:y})}),r&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!r&&a.jsx("div",{className:"space-y-4",children:E.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 text-center",children:[a.jsx(wt,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No prayer requests found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s!=="all"?`No ${s==="mine"?"personal":"others"} prayer requests found.`:m.length>0?"No prayer requests matching selected categories.":o==="church"?"Share your first prayer request with your church community.":"No global prayer requests found."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Me,{className:"-ml-1 mr-2 h-5 w-5"}),"Add ",o==="global"?"Global":"Church"," Prayer Request"]})})]}):E.map(k=>a.jsx(Kv,{prayer:k,onPray:w,currentUserId:_==null?void 0:_.id},k.id))}),a.jsx(Wv,{isOpen:c,onClose:()=>u(!1),onAdd:x,categoryOptions:[...d],isGlobal:o==="global"})]})},Jv=()=>{const{user:e,loading:t,isAuthenticated:r}=Be(),n=Ue(),[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(""),[d,h]=p.useState([]),[m,y]=p.useState(!1),[v,b]=p.useState(!1),[_,g]=p.useState(!1),[f,x]=p.useState(!1),[w,E]=p.useState(null),[k,P]=p.useState(!1),[T,S]=p.useState({name:"",location:"",description:""}),[L,O]=p.useState(!1);p.useEffect(()=>{!t&&!r&&(console.log("Churches page: User not authenticated, redirecting to login"),n("/login"))},[r,t,n]),p.useEffect(()=>{r&&e&&(async()=>{if(!(!e||o)){console.log("Churches page: Checking if user has a church");try{const j=localStorage.getItem("userChurchId");if(j){console.log("Churches page: Found church ID in localStorage:",j);const{data:U}=await R.from("churches").select("*").eq("id",j).single();if(U){console.log("Churches page: Confirmed church in database:",U.name),i(U),l(!0);return}else console.log("Churches page: Church not found in database, removing from localStorage"),localStorage.removeItem("userChurchId")}console.log("Churches page: Checking profile for church_id");const{data:A,error:M}=await R.from("profiles").select("church_id").eq("id",e.id).single();if(!M&&(A!=null&&A.church_id)){console.log("Churches page: Found church_id in profile:",A.church_id),localStorage.setItem("userChurchId",A.church_id);const{data:U}=await R.from("churches").select("*").eq("id",A.church_id).single();U&&i(U)}l(!0)}catch(j){console.error("Error checking user church:",j),l(!0)}}})()},[e,n,r,o]);const I=async()=>{if(!(!e||!s||!window.confirm(`Are you sure you want to leave ${s.name}?`))){x(!0),E(null);try{const{error:j}=await R.from("profiles").update({church_id:null}).eq("id",e.id);if(j)throw j;localStorage.removeItem("userChurchId"),alert(`You've successfully left ${s.name}.`),i(null)}catch(j){console.error("Error leaving church:",j),E("Failed to leave church. Please try again.")}finally{x(!1)}}},z=async D=>{if(D.preventDefault(),!!c.trim()){y(!0),E(null);try{let j=R.from("churches").select("*");c&&(j=j.ilike("name",`%${c}%`));const{data:A,error:M}=await j;if(M)throw M;h(A||[]),b(!0)}catch(j){console.error("Error searching churches:",j),E("Failed to search churches. Please try again.")}finally{y(!1)}}},$=async D=>{if(!e){E("You need to be logged in to join a church.");return}g(!0),E(null);try{const{data:j,error:A}=await R.from("churches").select("name").eq("id",D).single();if(A)throw A;if(s&&!window.confirm(`You're currently a member of ${s.name}. Do you want to switch to ${j.name}?`)){g(!1);return}const{error:M}=await R.from("profiles").update({church_id:D}).eq("id",e.id);if(M)throw M;localStorage.setItem("userChurchId",D),E(null),alert(`You've successfully joined ${j.name}!`),n("/dashboard")}catch(j){console.error("Error joining church:",j),E("Failed to join church. Please try again."),g(!1)}},N=D=>{const{name:j,value:A}=D.target;S({...T,[j]:A})},C=async D=>{if(D.preventDefault(),!e){E("You need to be logged in to create a church.");return}if(!T.name){E("Church name is required");return}if(!(s&&!window.confirm(`You're currently a member of ${s.name}. Do you want to create and join a new church?`))){O(!0),E(null);try{const j="admin",{data:A,error:M}=await R.from("churches").insert([{name:T.name,location:T.location,description:T.description,created_by:e.id}]).select().single();if(M)throw M;const{error:U}=await R.from("profiles").update({church_id:A.id,user_role:j}).eq("id",e.id);if(U)throw U;localStorage.setItem("userChurchId",A.id),E(null),alert(`You've successfully created ${A.name}!`),n("/dashboard")}catch(j){console.error("Error creating church:",j),E("Failed to create church. Please try again.")}finally{O(!1)}}};return t||!r?a.jsx("div",{className:"flex justify-center items-center h-screen dark:bg-gray-900",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):!o&&e?a.jsxs("div",{className:"flex flex-col justify-center items-center h-screen dark:bg-gray-900",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Checking church membership..."})]}):a.jsxs("div",{className:"max-w-4xl mx-auto p-4 dark:text-white",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold dark:text-white",children:"Find or Create a Church"}),a.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white",children:[a.jsx(is,{className:"mr-1"}),"Back to Dashboard"]})]}),w&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 dark:bg-red-900 dark:border-red-700 dark:text-red-200",children:w}),s&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:"Your Current Church"}),a.jsx("p",{className:"text-blue-600 dark:text-blue-200 font-medium",children:s.name}),s.location&&a.jsx("p",{className:"text-blue-600 dark:text-blue-200 text-sm",children:s.location})]}),a.jsxs("button",{onClick:I,disabled:f,className:"flex items-center px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",children:[f?a.jsx(os,{className:"animate-spin mr-2"}):a.jsx(k0,{className:"mr-2"}),"Leave Church"]})]}),a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-200 mt-2",children:"You can browse other churches below if you'd like to switch churches."})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6 dark:bg-gray-800 dark:border-gray-700",children:[a.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[a.jsx("h2",{className:"text-xl font-semibold dark:text-white",children:"Search for your church"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1 dark:text-gray-300",children:"Enter the name of your church to find and join it"})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("form",{onSubmit:z,className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ji,{className:"text-gray-400 dark:text-gray-500"})}),a.jsx("input",{type:"text",placeholder:"Search by church name",className:"pl-10 pr-4 py-2 border rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:placeholder-gray-400",value:c,onChange:D=>u(D.target.value)})]}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center justify-center",disabled:m,children:m?a.jsx(os,{className:"animate-spin"}):"Search"})]}),v&&a.jsx("div",{className:"mt-4",children:d.length===0?a.jsxs("div",{className:"text-center py-6",children:[a.jsx(kr,{className:"text-gray-400 dark:text-gray-500 text-4xl mx-auto mb-2"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:['No churches found matching "',c,'"']}),a.jsxs("button",{className:"mt-4 text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center mx-auto dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>P(!0),children:[a.jsx(Me,{className:"mr-1"}),"Create your church"]})]}):a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-gray-700 mb-2 dark:text-gray-300",children:[d.length," ",d.length===1?"church":"churches"," found"]}),a.jsx("div",{className:"space-y-3",children:d.map(D=>a.jsxs("div",{className:"border rounded-md p-3 hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:D.name}),D.location&&a.jsx("div",{className:"text-gray-600 text-sm dark:text-gray-400",children:D.location})]}),a.jsx("button",{className:`px-3 py-1 text-white text-sm rounded focus:outline-none focus:ring-2 disabled:opacity-50 ${s&&s.id===D.id?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,onClick:()=>$(D.id),disabled:_||s&&s.id===D.id,children:_?"Joining...":s&&s.id===D.id?"Current Church":"Join"})]}),D.description&&a.jsx("div",{className:"mt-1 text-sm text-gray-500 line-clamp-2 dark:text-gray-400",children:D.description})]},D.id))}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("p",{className:"text-gray-600 text-sm dark:text-gray-300",children:"Don't see your church?"}),a.jsxs("button",{className:"mt-1 text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center mx-auto dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>P(!0),children:[a.jsx(Me,{className:"mr-1"}),"Create your church"]})]})]})})]})]}),k&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden dark:bg-gray-800 dark:border-gray-700",children:[a.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[a.jsx("h2",{className:"text-xl font-semibold dark:text-white",children:"Create a new church"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1 dark:text-gray-300",children:"Fill out the form below to create your church"})]}),a.jsx("div",{className:"p-4",children:a.jsx("form",{onSubmit:C,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Church Name ",a.jsx("span",{className:"text-red-500 dark:text-red-400",children:"*"})]}),a.jsx("input",{type:"text",id:"name",name:"name",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:T.name,onChange:N,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Location"}),a.jsx("input",{type:"text",id:"location",name:"location",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:placeholder-gray-400",value:T.location,onChange:N,placeholder:"City, State or full address"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",rows:"3",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:placeholder-gray-400",value:T.description,onChange:N,placeholder:"Brief description of your church"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",onClick:()=>P(!1),children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center",disabled:L,children:L?a.jsxs(a.Fragment,{children:[a.jsx(os,{className:"animate-spin mr-2"}),"Creating..."]}):"Create Church"})]})]})})})]})]})},Nn=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Ya={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#","C#":"C#","D#":"D#","F#":"F#","G#":"G#","A#":"A#"},Qv=(e,t)=>{if(!e||t===0)return e;const r=/^([A-G][#b]?)(.*)$/,n=e.match(r);if(!n)return e;const[s,i,o]=n;let l=i;Ya[i]&&(l=Ya[i]);const c=Nn.indexOf(l);if(c===-1)return e;const u=(c+t)%12,d=u<0?u+12:u;return Nn[d]+o},Xv=(e,t)=>{const r=e.replace("m",""),n=t.replace("m",""),s=Ya[r]||r,i=Ya[n]||n,o=Nn.indexOf(s),l=Nn.indexOf(i);return o===-1||l===-1?0:(l-o+12)%12},Zv=(e,t,r)=>{const n=Xv(t,r);return Qv(e,n)},dd=(e,t,r)=>{if(!e||!t||!r||t===r)return e;const n=/\b([A-G][#b]?(?:m|maj|min|aug|dim|sus|add|maj7|m7|7|9|11|13|6|5)?(?:\/[A-G][#b]?)?)\b/g;return e.replace(n,s=>Zv(s,t,r))},$0=()=>{const e=Nn.map(r=>r),t=Nn.map(r=>`${r}m`);return[...e,...t]},L0=async e=>{try{const{data:t,error:r}=await R.from("songs").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Song not found");t.tags=[];try{const{error:n}=await R.from("song_tag_assignments").select("id").limit(1);if(!n){const{data:s}=await R.from("song_tag_assignments").select("tag_id").eq("song_id",e);if(s&&s.length>0){const i=s.map(l=>l.tag_id),{data:o}=await R.from("song_tags").select("id, name, color").in("id",i);o&&o.length>0&&(t.tags=o)}}}catch(n){console.warn("Could not fetch song tags:",n)}return t}catch(t){throw console.error("Error in fetchSongById:",t),t}},e2=async e=>{var c;const{data:t}=await R.auth.getUser();if(!((c=t==null?void 0:t.user)!=null&&c.id))throw new Error("User not authenticated");const{data:r,error:n}=await R.from("profiles").select("church_id").eq("id",t.user.id).single();if(n)throw n;if(!r.church_id)throw new Error("User not associated with a church");const s={...e,church_id:r.church_id,created_by:t.user.id},i=s.tags||[];delete s.tags;const{data:o,error:l}=await R.from("songs").insert(s).select().single();if(l)throw l;if(i.length>0&&o)try{await O0(o.id,i)}catch(u){console.warn("Could not assign tags to song:",u)}return o},t2=async(e,t)=>{try{const r=t.tags||[],n={...t};delete n.tags,console.log("Updating song with data:",n);const{data:s,error:i}=await R.from("songs").update(n).eq("id",e).select().single();if(i)throw console.error("Error from supabase client update:",i),i;if(!s)throw new Error("No data returned from update operation");if(console.log("Song updated successfully:",s),r.length>0)try{const{error:o}=await R.from("song_tag_assignments").select("id").limit(1);o||(await R.from("song_tag_assignments").delete().eq("song_id",e),await O0(e,r))}catch(o){console.warn("Could not update song tags:",o)}return s}catch(r){throw console.error("Error updating song:",r),r}},r2=async e=>{const{error:t}=await R.from("songs").delete().eq("id",e);if(t)throw t},n2=async()=>{try{const{error:e}=await R.from("song_tags").select("id").limit(1);if(e)return[];const{data:t,error:r}=await R.from("song_tags").select("*").order("name",{ascending:!0});if(r)throw r;return t||[]}catch(e){return console.warn("Could not fetch song tags:",e),[]}},s2=async e=>{var o;const{data:t}=await R.auth.getUser();if(!((o=t==null?void 0:t.user)!=null&&o.id))throw new Error("User not authenticated");const{data:r,error:n}=await R.from("profiles").select("church_id").eq("id",t.user.id).single();if(n)throw n;const{data:s,error:i}=await R.from("song_tags").insert({...e,church_id:r.church_id,created_by:t.user.id}).select().single();if(i)throw i;return s},O0=async(e,t)=>{const n=t.map(i=>typeof i=="object"?i.id:i).map(i=>({song_id:e,tag_id:i}));if(n.length===0)return;const{error:s}=await R.from("song_tag_assignments").insert(n);if(s)throw s},a2=async(e,t,r)=>{const n=["chord-charts","sheet-music","backing-tracks"];if(!n.includes(r))throw new Error(`Invalid attachment type. Must be one of: ${n.join(", ")}`);const{data:s,error:i}=await R.from("songs").select("church_id").eq("id",e).single();if(i)throw i;const o=s.church_id,l=`${Date.now()}_${t.name}`,c=`${o}/${e}/${r}/${l}`,{data:u,error:d}=await R.storage.from("song-attachments").upload(c,t,{cacheControl:"3600",upsert:!1});if(d)throw d;const{data:h}=R.storage.from("song-attachments").getPublicUrl(u.path);return h.publicUrl},hd=async e=>{try{const{data:t,error:r}=await R.from("songs").select("church_id").eq("id",e).single();if(r)throw r;const s=`${t.church_id}/${e}`,i=["chord-charts","sheet-music","backing-tracks"],o={};for(const l of i){const c=`${s}/${l}`,{data:u,error:d}=await R.storage.from("song-attachments").list(c);if(d&&d.message!=="The resource was not found")throw d;o[l]=(u||[]).map(h=>({...h,url:R.storage.from("song-attachments").getPublicUrl(`${c}/${h.name}`).data.publicUrl}))}return o}catch(t){return console.warn("Could not list song attachments:",t),{"chord-charts":[],"sheet-music":[],"backing-tracks":[]}}},i2=async(e,t,r)=>{try{const{data:n,error:s}=await R.from("songs").select("church_id").eq("id",e).single();if(s)throw s;const o=`${n.church_id}/${e}/${t}/${r}`,{error:l}=await R.storage.from("song-attachments").remove([o]);if(l)throw l}catch(n){throw console.warn("Could not delete song attachment:",n),n}};var R0={exports:{}},o2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",l2=o2,c2=l2;function A0(){}function M0(){}M0.resetWarningCache=A0;var u2=function(){function e(n,s,i,o,l,c){if(c!==c2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:M0,resetWarningCache:A0};return r.PropTypes=r,r};R0.exports=u2();var d2=R0.exports;const ls=Ka(d2),vc=({content:e,className:t=""})=>{if(!e)return null;const r=h2(e);return a.jsx("div",{className:`font-mono text-sm ${t}`,children:r.map((n,s)=>a.jsxs("div",{className:"chord-section mb-6",children:[n.title&&a.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-600 dark:text-blue-400",children:n.title}),a.jsx("div",{className:"chord-section-content pl-0 md:pl-2",children:n.lines.map((i,o)=>i.type==="chord-lyric-pair"?a.jsxs("div",{className:"mb-1",children:[a.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-bold whitespace-pre",children:i.chords}),a.jsx("div",{className:"whitespace-pre text-gray-900 dark:text-gray-100",children:i.lyrics})]},`line-${s}-${o}`):i.content.trim()===""?a.jsx("div",{className:"h-4"},`line-${s}-${o}`):a.jsx("div",{className:"whitespace-pre mb-1 text-gray-900 dark:text-gray-100",children:i.content},`line-${s}-${o}`))})]},`section-${s}`))})};function h2(e){if(!e)return[];const t=e.split(`
`),r=[];let n={lines:[]};for(let s=0;s<t.length;s++){const i=t[s],o=s+1<t.length?t[s+1]:null,l=i.trim().match(/^\[(.*?)\]$/);if(l){n.lines.length>0&&r.push(n),n={title:l[0],lines:[]};continue}fd(i)&&o&&!fd(o)?(n.lines.push({type:"chord-lyric-pair",chords:i,lyrics:o}),s++):n.lines.push({type:"text",content:i})}return n.lines.length>0&&r.push(n),r}function fd(e){if(!e||e.trim()===""||!/\s{2,}/.test(e))return!1;const r=/^[A-G][#b]?(m|maj|min|aug|dim|sus|add|2|4|5|6|7|9|11|13|-|\+|\/)*/,s=e.split(/\s{2,}/).filter(o=>o.trim()!=="");return s.length===0?!1:s.filter(o=>r.test(o.trim())).length>=s.length/2}vc.propTypes={content:ls.string,className:ls.string};const D0=({selectedTags:e=[],onChange:t,readOnly:r=!1})=>{const[n,s]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState(!1),[h,m]=p.useState(""),[y,v]=p.useState("#3B82F6");p.useEffect(()=>{(async()=>{try{o(!0);const f=await n2();s(f)}catch(f){console.error("Error loading tags:",f),c("Failed to load tags")}finally{o(!1)}})()},[]);const b=g=>{if(r)return;const f=e.some(w=>w.id===g.id);let x;f?x=e.filter(w=>w.id!==g.id):x=[...e,g],t(x)},_=async g=>{if(g.preventDefault(),!!h.trim())try{o(!0);const f=await s2({name:h.trim(),color:y});s([...n,f]),m(""),v("#3B82F6"),d(!1),t([...e,f])}catch(f){console.error("Error creating tag:",f),c("Failed to create tag")}finally{o(!1)}};return i&&n.length===0?a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading tags..."}):l&&n.length===0?a.jsx("div",{className:"text-red-500 dark:text-red-400 text-sm",children:l}):a.jsxs("div",{className:"song-tags",children:[e.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1 flex items-center",children:[a.jsx(j0,{className:"mr-1"})," Selected Tags:"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(g=>a.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${g.color}20`,color:g.color,borderColor:g.color},children:[g.name,!r&&a.jsx("button",{type:"button",onClick:()=>b(g),className:"ml-1 focus:outline-none",children:a.jsx(Dt,{size:10})})]},g.id))})]}),!r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Available Tags:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.map(g=>{const f=e.some(x=>x.id===g.id);return a.jsx("button",{type:"button",onClick:()=>b(g),className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-colors ${f?"bg-opacity-80 text-white":"bg-opacity-20"}`,style:{backgroundColor:f?g.color:`${g.color}20`,color:f?"white":g.color},children:g.name},g.id)}),a.jsxs("button",{type:"button",onClick:()=>d(!0),className:`inline-flex items-center px-2 py-1 border border-dashed border-gray-300 dark:border-gray-600 
                         rounded-full text-xs font-medium text-gray-500 dark:text-gray-400 
                         hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500`,children:[a.jsx(Me,{className:"mr-1",size:10}),"New Tag"]})]})]}),u&&a.jsxs("div",{className:"mt-4 p-3 border border-gray-200 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-700",children:[a.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Create New Tag"}),a.jsxs("form",{onSubmit:_,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagName",className:"block text-xs text-gray-500 dark:text-gray-400",children:"Tag Name"}),a.jsx("input",{type:"text",id:"tagName",value:h,onChange:g=>m(g.target.value),className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-1 px-2 
                             bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                             text-sm focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"Enter tag name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagColor",className:"block text-xs text-gray-500 dark:text-gray-400",children:"Tag Color"}),a.jsxs("div",{className:"flex mt-1",children:[a.jsx("input",{type:"color",id:"tagColor",value:y,onChange:g=>v(g.target.value),className:"h-8 w-8 border border-gray-300 dark:border-gray-600 rounded"}),a.jsx("input",{type:"text",value:y,onChange:g=>v(g.target.value),className:`ml-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-1 px-2 
                               bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                               text-sm focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"#HEX"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:`px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm 
                             text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800
                             hover:bg-gray-50 dark:hover:bg-gray-700 
                             focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400`,children:"Cancel"}),a.jsx("button",{type:"submit",className:`px-3 py-1 border border-transparent rounded-md text-sm text-white 
                             bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600
                             focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400`,disabled:i||!h.trim(),children:"Create"})]})]})]})]})]})},f2=({songId:e,readOnly:t=!1})=>{const[r,n]=p.useState({"chord-charts":[],"sheet-music":[],"backing-tracks":[],"youtube-links":[]}),[s,i]=p.useState(!0),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,h]=p.useState(""),[m,y]=p.useState(!1),v=p.useRef(null),[b,_]=p.useState(null),g=[{value:"chord-charts",label:"Chord Charts",icon:a.jsx(Bn,{})},{value:"sheet-music",label:"Sheet Music",icon:a.jsx(bt,{})},{value:"backing-tracks",label:"Backing Tracks",icon:a.jsx(nd,{})},{value:"youtube-links",label:"YouTube Links",icon:a.jsx(so,{})}];p.useEffect(()=>{(async()=>{if(e)try{i(!0);const L=await hd(e);try{const{data:O,error:I}=await R.from("song_youtube_links").select("*").eq("song_id",e);if(I&&I.code==="42P01")console.log("YouTube links table not yet created"),n({...L,"youtube-links":[]});else{if(I)throw I;{const $={...L,"youtube-links":(O||[]).map(N=>({name:N.title||"YouTube Video",url:N.url,id:N.id}))};n($)}}}catch(O){console.log("Could not fetch YouTube links:",O),n({...L,"youtube-links":[]})}}catch(L){console.error("Error loading attachments:",L),u("Failed to load attachments")}finally{i(!1)}})()},[e]);const f=async S=>{const L=S.target.files[0];if(!(!L||!b))try{l(!0),await a2(e,L,b);const O=await hd(e);n(I=>({...I,...O})),v.current&&(v.current.value="")}catch(O){console.error("Error uploading file:",O),u("Failed to upload file")}finally{l(!1),_(null)}},x=S=>{if(!S)return null;const L=[/(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([^&\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtu\.be\/([^\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([^\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/v\/([^\s?]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/shorts\/([^\s?]+)/];for(const O of L){const I=S.match(O);if(I&&I[1])return I[1].substring(0,11)}return null},w=async()=>{if(!d.trim())return;const S=x(d);if(!S){u("Invalid YouTube URL");return}try{l(!0);let L="YouTube Video";try{const $=await(await fetch(`https://www.youtube.com/oembed?url=${d}&format=json`)).json();$.title&&(L=$.title)}catch{console.log("Could not fetch video title, using default")}const{data:O,error:I}=await R.from("song_youtube_links").insert({song_id:e,url:d,title:L,video_id:S}).select().single();if(I)throw I;n(z=>({...z,"youtube-links":[...z["youtube-links"]||[],{name:L,url:d,id:O.id}]})),h(""),y(!1)}catch(L){console.error("Error adding YouTube link:",L),u("Failed to add YouTube link")}finally{l(!1)}},E=async(S,L,O)=>{try{if(S==="youtube-links"){const{error:I}=await R.from("song_youtube_links").delete().eq("id",O);if(I)throw I}else await i2(e,S,L);n(I=>({...I,[S]:I[S].filter(z=>S==="youtube-links"?z.id!==O:z.name!==L)}))}catch(I){console.error("Error deleting item:",I),u("Failed to delete item")}},k=S=>{if(S==="youtube-links"){y(!0);return}_(S),setTimeout(()=>{v.current&&v.current.click()},100)},P=S=>{switch(S.split(".").pop().toLowerCase()){case"pdf":return a.jsx(Bn,{className:"text-red-500"});case"doc":case"docx":return a.jsx(Bn,{className:"text-blue-500"});case"png":case"jpg":case"jpeg":return a.jsx(Bn,{className:"text-green-500"});case"mp3":case"wav":case"m4a":return a.jsx(nd,{className:"text-purple-500"});default:return a.jsx(Bn,{className:"text-gray-500"})}};if(s)return a.jsx("div",{className:"text-gray-500 text-sm",children:"Loading attachments..."});const T=Object.values(r).some(S=>S&&S.length>0);return a.jsxs("div",{className:"song-attachments",children:[c&&a.jsx("div",{className:"mb-3 text-sm text-red-500",children:c}),a.jsx("input",{type:"file",ref:v,className:"hidden",onChange:f,disabled:o}),m&&a.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(so,{className:"text-red-600 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Add YouTube Link"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Paste YouTube URL here",value:d,onChange:S=>h(S.target.value),className:"flex-1 p-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:w,disabled:o||!d.trim(),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Add"}),a.jsx("button",{onClick:()=>{y(!1),h("")},className:"px-3 py-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 text-sm rounded-md hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"})]})]})]}),!t&&!m&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Add Attachment:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(S=>a.jsxs("button",{type:"button",onClick:()=>k(S.value),disabled:o,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o&&b===S.value?a.jsx("span",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-gray-500 rounded-full"}):a.jsxs(a.Fragment,{children:[S.icon,a.jsx(Me,{className:"ml-1 mr-1",size:10})]}),S.label]},S.value))})]}),T?a.jsx("div",{className:"space-y-4",children:g.map(S=>{const L=r[S.value]||[];return L.length===0?null:a.jsxs("div",{className:"attachment-section",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[S.icon,a.jsx("span",{className:"ml-2",children:S.label}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",L.length,")"]})]}),a.jsx("ul",{className:"divide-y divide-gray-200 border border-gray-200 rounded-md overflow-hidden",children:L.map(O=>a.jsxs("li",{className:"px-4 py-3 bg-white flex items-center justify-between hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center",children:[S.value==="youtube-links"?a.jsx(so,{className:"text-red-600"}):P(O.name),a.jsx("span",{className:"ml-2 text-sm text-gray-600 truncate max-w-xs",children:O.name})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("a",{href:O.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",title:S.value==="youtube-links"?"View on YouTube":"Download",children:S.value==="youtube-links"?a.jsx(uv,{}):a.jsx(nv,{})}),!t&&a.jsx("button",{type:"button",onClick:()=>E(S.value,O.name,O.id),className:"text-red-500 hover:text-red-700",title:"Delete",children:a.jsx(_i,{})})]})]},O.id||O.name))})]},S.value)})}):a.jsxs("div",{className:"text-sm text-gray-500 p-4 bg-gray-50 text-center rounded-md",children:["No attachments available for this song.",!t&&a.jsx("p",{className:"mt-1 text-xs",children:"Use the buttons above to add chord charts, sheet music, backing tracks, or YouTube links."})]})]})},m2=({lyrics:e})=>{const r=(n=>{var l;if(!n)return[];const s=/\[(.*?)\]/g,i=n.split(s).filter(c=>c.trim()),o=[];for(let c=0;c<i.length;c+=2){const u=i[c],d=((l=i[c+1])==null?void 0:l.trim())||"";u&&d?o.push({title:u,content:d}):u&&!d&&o.push({title:"",content:u})}return o})(e);return a.jsx("div",{className:"lyrics-display",children:r.length>0?a.jsx("div",{className:"space-y-6",children:r.map((n,s)=>a.jsxs("div",{className:"verse-container",children:[n.title&&a.jsxs("h3",{className:"text-lg font-semibold mb-2 text-blue-600 dark:text-blue-400",children:["[",n.title,"]"]}),a.jsx("div",{className:"verse-content whitespace-pre-line text-gray-800 dark:text-gray-200 leading-relaxed",children:n.content})]},s))}):a.jsx("div",{className:"text-gray-500 dark:text-gray-400 italic",children:"No lyrics available for this song."})})},g2=()=>{const{id:e}=As(),t=Ue(),r=br(),n=new URLSearchParams(r.search),s=n.get("serviceKey"),i=n.get("eventId"),o=n.get("eventSongId");n.get("notes");const l=n.get("isDone"),[c,u]=p.useState(null),[d,h]=p.useState(null),[m,y]=p.useState(!0),[v,b]=p.useState(""),[_,g]=p.useState(""),[f,x]=p.useState(null),[w,E]=p.useState("song"),[k,P]=p.useState(!1),[T,S]=p.useState(!1),[L,O]=p.useState(!1),[I,z]=p.useState(!1),[$,N]=p.useState(l==="true"),[C,D]=p.useState("text-base"),j=$0(),A=[{value:"text-sm",label:"Small"},{value:"text-base",label:"Medium"},{value:"text-lg",label:"Large"},{value:"text-xl",label:"Extra Large"}];p.useEffect(()=>{(async()=>{if(i)try{const{data:J,error:se}=await R.from("events").select("title, start_time").eq("id",i).single();if(se)throw se;h(J)}catch(J){console.error("Error fetching service details:",J)}})()},[i]),p.useEffect(()=>{(async()=>{try{y(!0);const J=await L0(e);u(J);const se=s||J.default_key||"C";if(b(se),s&&J.default_key&&s!==J.default_key&&J.chords){const ke=J.chords.split(`
`).map(Qe=>dd(Qe,J.default_key,s)).join(`
`);g(ke)}else g(J.chords||"")}catch(J){console.error("Error fetching song:",J),x("Could not load the song. Please try again.")}finally{y(!1)}})()},[e,s]);const M=q=>{if(!c||!c.chords)return;const J=c.default_key||"C";if(q===J){g(c.chords),b(q);return}const ve=c.chords.split(`
`).map(ke=>dd(ke,J,q)).join(`
`);g(ve),b(q)},U=()=>{t(i?`/services/${i}`:"/songs")},G=async()=>{if(!(!o||!i))try{z(!0),N(q=>!q);try{const{error:q}=await R.from("event_songs").update({is_done:!$}).eq("id",o);if(q)throw console.log("Could not update is_done in database:",q),q;t(`/services/${i}`)}catch(q){throw console.log("Error updating is_done field:",q),N(J=>!J),q}}catch(q){console.error("Error updating song status:",q),alert("Failed to update song status. Please try again.")}finally{z(!1)}};return m?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("p",{className:"text-red-500 dark:text-red-400",children:f}),a.jsxs("button",{onClick:U,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",children:[a.jsx(is,{className:"mr-2"})," Back"]})]}):c?a.jsxs("div",{className:"pb-[100px] flex flex-col min-h-screen bg-white dark:bg-gray-800 px-4 md:px-6",children:[a.jsxs("div",{className:"py-2 border-b border-gray-200 dark:border-gray-700 flex justify-between",children:[a.jsxs("button",{onClick:U,className:"text-gray-600 dark:text-gray-400 flex items-center","aria-label":"Back",children:[a.jsx(is,{className:"mr-2"}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Back to ",i?"Service":"Songs"]})]}),a.jsxs(ie,{to:`/songs/edit/${e}`,className:"text-blue-600 dark:text-blue-400 flex items-center","aria-label":"Edit Song",children:[a.jsx(Ln,{className:"mr-2"}),a.jsx("span",{className:"text-sm",children:"Edit Song"})]})]}),a.jsx("div",{className:"py-3 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.title})}),d&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900 py-2 border-b border-blue-100 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx(G1,{className:"text-blue-500 mr-2"}),a.jsx("span",{className:"dark:text-blue-200",children:"Viewing for service: "}),a.jsx("span",{className:"text-blue-600 dark:text-blue-400 ml-1 font-medium",children:d.title})]})}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"flex",children:[a.jsxs("button",{onClick:()=>E("song"),className:`flex-1 py-2 text-center border-b-2 font-medium text-sm ${w==="song"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400"}`,"aria-pressed":w==="song",children:[a.jsx(bt,{className:"inline mr-1"}),"Song"]}),a.jsxs("button",{onClick:()=>E("attachments"),className:`flex-1 py-2 text-center border-b-2 font-medium text-sm ${w==="attachments"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400"}`,"aria-pressed":w==="attachments",children:[a.jsx(mv,{className:"inline mr-1"}),"Attachments"]})]})}),w==="song"?a.jsxs("div",{className:"flex-1",children:[c.chords&&a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center py-3",children:[a.jsxs("h2",{className:"text-base font-medium flex items-center text-gray-900 dark:text-white",children:[a.jsx(bt,{className:"mr-2"}),"Chord Chart"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>O(!L),className:"text-blue-600 dark:text-blue-400 text-sm","aria-expanded":L,children:[a.jsx(lv,{className:"inline mr-1"}),"Font Size"]}),a.jsxs("button",{onClick:()=>S(!T),className:"text-blue-600 dark:text-blue-400 text-sm","aria-expanded":T,children:[a.jsx(av,{className:"inline mr-1"}),"Transpose"]})]})]}),L&&a.jsx("div",{className:"py-3 bg-gray-50 dark:bg-gray-700 border-y border-gray-200 dark:border-gray-600",children:a.jsx("div",{className:"flex justify-between items-center px-2",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fontSizeSelect",className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Font Size:"}),a.jsx("select",{id:"fontSizeSelect",value:C,onChange:q=>D(q.target.value),className:"w-32 px-1 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:A.map(q=>a.jsx("option",{value:q.value,children:q.label},q.value))})]})})}),T&&a.jsx("div",{className:"py-3 bg-gray-50 dark:bg-gray-700 border-y border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex justify-between items-center px-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"keySelect",className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Transpose to:"}),a.jsx("select",{id:"keySelect",value:v,onChange:q=>M(q.target.value),className:"w-20 px-1 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:j.map(q=>a.jsx("option",{value:q,children:q},q))})]}),a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{children:["Original Key: ",a.jsx("span",{className:"font-medium",children:c.default_key||"Not set"})]}),v!==c.default_key&&a.jsx("button",{onClick:()=>M(c.default_key),className:"text-blue-600 dark:text-blue-400 underline",children:"Reset"})]})]})}),a.jsx("div",{className:"py-3 overflow-x-auto whitespace-nowrap",children:a.jsx(vc,{content:_,className:C})})]}),c.lyrics&&a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-base font-medium py-3 border-b border-gray-200 dark:border-gray-700 dark:text-white",children:"Lyrics"}),a.jsx("div",{className:`py-3 ${C}`,children:a.jsx(m2,{lyrics:c.lyrics})})]}),a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("button",{onClick:()=>P(!k),className:"flex w-full items-center justify-between py-3 text-left text-gray-900 dark:text-gray-100","aria-expanded":k,children:[a.jsx("span",{className:"font-medium",children:"Song Information"}),k?a.jsx(ev,{}):a.jsx(Q1,{})]}),k&&a.jsxs("div",{className:"py-3 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Artist"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.artist||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Original Key"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.default_key||"Not specified"})]}),c.tempo&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Tempo"}),a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[c.tempo," BPM"]})]})]}),c.tags&&c.tags.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Tags"}),a.jsx(D0,{selectedTags:c.tags,readOnly:!0})]})]})]}),c.notes&&a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-base font-medium py-3 border-b border-gray-200 dark:border-gray-700 dark:text-white",children:"Notes"}),a.jsx("div",{className:`py-3 break-words text-gray-900 dark:text-gray-100 ${C}`,children:c.notes.split(`
`).map((q,J)=>a.jsx("div",{children:q||a.jsx("br",{})},J))})]})]}):a.jsx("div",{className:"py-3",children:a.jsx(f2,{songId:e})}),i&&o&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 flex justify-center z-20 mb-4",children:a.jsxs("button",{onClick:G,disabled:I,className:`flex items-center justify-center px-4 py-2 
                      ${$?"bg-gray-500 dark:bg-gray-600 hover:bg-gray-600 dark:hover:bg-gray-700":"bg-green-500 dark:bg-green-600 hover:bg-green-600 dark:hover:bg-green-700"} 
                      text-white font-medium rounded-full shadow-md transition-colors text-sm`,children:[a.jsx(mn,{className:"mr-2"}),"Mark as ",$?"Not Done":"Done"]})})]}):a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("p",{className:"dark:text-white",children:"Song not found."}),a.jsxs("button",{onClick:U,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",children:[a.jsx(is,{className:"mr-2"})," Back"]})]})},I0=({value:e,onChange:t,rows:r=10})=>{const[n,s]=p.useState(!1),[i,o]=p.useState(!1),l=["C","G","D","A","E","F","Am","Em","Dm","G7","C7","D7","Cmaj7","Fmaj7","Gsus4"],c=`[Verse 1]
C        G        Am       F
Here are some example chords above lyrics
C             G              Am  F
Words should be aligned with the chords above

[Chorus]
F         G       C
This is how a chorus might look
F         G       Am      G
With more chords and lyrics here

[Bridge]
Am   G   F   C
Simple progression
`,u=m=>{if(!e)t(m+"  ");else{const y=document.getElementById("chord-editor").selectionStart,v=e.substring(0,y),b=e.substring(y);t(v+m+"  "+b),o(!0)}},d=m=>{const y=`
[${m}]
`;if(!e)t(y);else{const v=document.getElementById("chord-editor").selectionStart,b=e.substring(0,v),_=e.substring(v);t(b+y+_)}o(!0)},h=m=>{t(m.target.value),i||o(!0)};return p.useEffect(()=>{},[e,i]),a.jsxs("div",{className:"chord-editor-container",children:[a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Quick Insert Chords:"}),a.jsxs("button",{type:"button",onClick:()=>s(!n),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm flex items-center",children:[a.jsx(gv,{className:"mr-1"}),n?"Hide Help":"Show Help"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:l.map(m=>a.jsx("button",{type:"button",onClick:()=>u(m),className:`inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 
                       text-xs font-medium rounded shadow-sm text-gray-700 dark:text-gray-200 
                       bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 
                       focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400`,children:m},m))})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add Section:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:["Verse","Chorus","Bridge","Intro","Outro","Pre-Chorus"].map(m=>a.jsxs("button",{type:"button",onClick:()=>d(m),className:`inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 
                       text-xs font-medium rounded shadow-sm text-gray-700 dark:text-gray-200 
                       bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 
                       focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400`,children:[a.jsx(Me,{className:"mr-1 h-3 w-3"}),m]},m))})]}),n&&a.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-800 rounded-md",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Chord Chart Formatting Help"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mb-2",children:"Format your chord chart by placing chords above lyrics with spaces between them. Use section markers like [Verse] or [Chorus] to organize your song."}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded text-xs font-mono",children:a.jsx("pre",{className:"whitespace-pre-wrap text-gray-900 dark:text-gray-200",children:c})}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-2",children:"Tip: Make sure to keep chord names short (C, G, Am, etc.) and use spaces to align them with lyrics."})]}),a.jsx("textarea",{id:"chord-editor",value:e,onChange:h,rows:r,className:`block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                 bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 
                 sm:text-sm font-mono`,placeholder:"Enter chords here..."}),a.jsx("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Use monospaced formatting for chords. Press Tab for indentation."})]})};I0.propTypes={value:ls.string,onChange:ls.func.isRequired,rows:ls.number};const md=()=>{const e=Ue(),{id:t}=As(),r=!!t,[n,s]=p.useState(!1),[i,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState({title:"",artist:"",default_key:"C",tempo:"",lyrics:"",chords:"",notes:"",tags:[]}),[h,m]=p.useState(!1),[y,v]=p.useState({}),b=$0();p.useEffect(()=>{r&&_()},[t]);const _=async()=>{try{s(!0);const T=await L0(t);d({title:T.title||"",artist:T.artist||"",default_key:T.default_key||"C",tempo:T.tempo||"",lyrics:T.lyrics||"",chords:T.chords||"",notes:T.notes||"",tags:T.tags||[]}),T.chords&&m(!0)}catch(T){console.error("Error fetching song:",T),c("Could not load the song. Please try again.")}finally{s(!1)}},g=()=>{const T={};return u.title.trim()||(T.title="Song title is required"),u.chords&&!u.default_key&&(T.default_key="Default key is required when providing chords"),u.tempo&&(isNaN(u.tempo)||u.tempo<20||u.tempo>300)&&(T.tempo="Tempo must be a number between 20 and 300"),v(T),Object.keys(T).length===0},f=T=>{const{name:S,value:L}=T.target;d(O=>({...O,[S]:L})),y[S]&&v(O=>{const I={...O};return delete I[S],I})},x=T=>{d(S=>({...S,chords:T}))},w=T=>{d(S=>({...S,tags:T}))},E=()=>{m(!h)},k=async T=>{if(T.preventDefault(),!!g())try{o(!0);const S={...u,tempo:u.tempo===""?null:Number(u.tempo)};if(r)await t2(t,S),e(`/songs/${t}`);else{const L=await e2(S);e(`/songs/${L.id}`)}}catch(S){console.error("Error saving song:",S),c(S.message||"Failed to save the song. Please try again.")}finally{o(!1)}},P=async()=>{if(!(!r||!window.confirm("Are you sure you want to delete this song? This action cannot be undone.")))try{o(!0),await r2(t),e("/songs")}catch(S){console.error("Error deleting song:",S),c("Failed to delete the song. Please try again.")}finally{o(!1)}};return n?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>e(r?`/songs/${t}`:"/songs"),className:"inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300",children:[a.jsx(is,{className:"mr-1"})," Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-center flex-1 mx-4 text-gray-900 dark:text-white",children:r?"Edit Song":"Add New Song"}),r&&a.jsx("button",{onClick:P,className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Delete song",disabled:i,children:a.jsx(_i,{size:20})})]}),l&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 dark:border-red-700 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(v0,{className:"h-5 w-5 text-red-400 dark:text-red-300"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:l})})]})}),a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:f,className:`mt-1 block w-full border ${y.title?"border-red-300 dark:border-red-700":"border-gray-300 dark:border-gray-600"} 
                          rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                          focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`}),y.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.title})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"artist",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Artist / Composer"}),a.jsx("input",{type:"text",id:"artist",name:"artist",value:u.artist,onChange:f,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                         focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"default_key",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Default Key ",u.chords&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"default_key",name:"default_key",value:u.default_key,onChange:f,className:`mt-1 block w-full pl-3 pr-10 py-2 text-base border 
                          ${y.default_key?"border-red-300 dark:border-red-700":"border-gray-300 dark:border-gray-600"} 
                          bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                          focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm rounded-md`,children:[a.jsx("option",{value:"",children:"Select a key"}),b.map(T=>a.jsx("option",{value:T,children:T},T))]}),y.default_key&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.default_key})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tempo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tempo (BPM)"}),a.jsx("input",{type:"number",id:"tempo",name:"tempo",value:u.tempo,onChange:f,min:"20",max:"300",className:`mt-1 block w-full border 
                          ${y.tempo?"border-red-300 dark:border-red-700":"border-gray-300 dark:border-gray-600"} 
                          rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                          focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`}),y.tempo?a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.tempo}):a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Typical range: 60-180 BPM"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Tags"}),a.jsx(D0,{selectedTags:u.tags,onChange:w})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Chord Chart"}),u.chords&&a.jsx("button",{type:"button",onClick:E,className:"inline-flex items-center text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:h?a.jsxs(a.Fragment,{children:[a.jsx(iv,{className:"mr-1"})," Hide Preview"]}):a.jsxs(a.Fragment,{children:[a.jsx(gc,{className:"mr-1"})," Show Preview"]})})]}),h&&u.chords&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Preview:"}),a.jsx(vc,{content:u.chords})]}),a.jsx(I0,{value:u.chords,onChange:x,rows:10})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Lyrics"}),a.jsx("textarea",{id:"lyrics",name:"lyrics",value:u.lyrics,onChange:f,rows:15,className:`block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                     bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                     focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`,placeholder:"Enter lyrics here..."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Tip: Include section markers like [Verse], [Chorus], etc. for better organization."})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Additional Notes"}),a.jsx("textarea",{id:"notes",name:"notes",value:u.notes,onChange:f,rows:4,className:`block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                     bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                     focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`,placeholder:"Enter any additional notes, performance instructions, etc."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Include notes about song structure, performance tips, or arrangement details."})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:i,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md 
                     shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50`,children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yc,{className:"mr-2"})," Save Song"]})})})]})]})},p2=()=>{const{id:e}=As(),t=Ue(),[r,n]=p.useState(null),[s,i]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(""),[d,h]=p.useState(""),[m,y]=p.useState(!1),[v,b]=p.useState(null),[_,g]=p.useState(new Set);p.useEffect(()=>{(async()=>{try{l(!0);const{data:P,error:T}=await R.from("events").select("*").eq("id",e).single();if(T)throw T;if(n(P),P!=null&&P.church_id){const{data:O,error:I}=await R.from("churches").select("name").eq("id",P.church_id).single();!I&&O&&u(O.name)}if(P!=null&&P.team_id){const{data:O,error:I}=await R.from("worship_teams").select("name").eq("id",P.team_id).single();!I&&O&&h(O.name)}const{data:S,error:L}=await R.from("event_songs").select(`
            id,
            song_order,
            key,
            notes,
            is_done,
            songs (
              id,
              title,
              artist,
              default_key
            )
          `).eq("event_id",e).order("song_order");if(L)throw console.error("Error fetching songs:",L),L;if(console.log("Songs data:",S),S){try{if(S.some(I=>"is_done"in I)){const I=new Set(S.filter(z=>z.is_done).map(z=>z.id));g(I)}}catch{console.log("No is_done field yet, using local state only")}i(S)}else i([])}catch(P){console.error("Error fetching service details:",P)}finally{l(!1)}})()},[e]);const f=k=>{if(!v)try{const P=s.find(S=>S.id===k);if(!P)return;const T=_.has(k);t(`/songs/${P.songs.id}?serviceKey=${encodeURIComponent(P.key||P.songs.default_key)}&eventId=${e}&eventSongId=${k}&notes=${encodeURIComponent(P.notes||"")}&isDone=${T}`)}catch(P){console.error("Error navigating to song details:",P),alert("Could not navigate to song details. Please try again.")}},x=()=>{t(`/services/edit/${e}`)},w=async(k,P)=>{P&&P.stopPropagation();try{b(k),g(T=>{const S=new Set(T);return S.has(k)?S.delete(k):S.add(k),S});try{const{error:T}=await R.from("event_songs").update({is_done:!_.has(k)}).eq("id",k);T&&console.log("Could not update is_done in database:",T)}catch(T){console.log("Error updating is_done field:",T)}}catch(T){console.error("Error updating song status:",T),alert("Failed to update song status. Please try again."),g(S=>{const L=new Set(S);return L.has(k)?L.delete(k):L.add(k),L})}finally{b(null)}},E=async()=>{if(window.confirm("Are you sure you want to delete this service? This action cannot be undone."))try{y(!0);const{error:k}=await R.from("event_songs").delete().eq("event_id",e);if(k)throw k;const{error:P}=await R.from("events").delete().eq("id",e);if(P)throw P;t("/calendar")}catch(k){console.error("Error deleting service:",k),alert("Error deleting service. Please try again.")}finally{y(!1)}};return o?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?a.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:x,className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 rounded-full",title:"Edit service",children:a.jsx(Ln,{size:20})}),a.jsx("button",{onClick:E,disabled:m,className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 rounded-full disabled:opacity-50",title:"Delete service",children:a.jsx(_i,{size:20})})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"space-y-4",children:[r.description&&a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.description}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Ht,{className:"mt-1 text-gray-500 dark:text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:he(r.start_time).format("dddd, MMMM D, YYYY")}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:[a.jsx(tv,{className:"mr-1"}),he(r.start_time).format("h:mm A")," - ",he(r.end_time).format("h:mm A")]})]})]}),r.location&&a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(dv,{className:"mt-1 text-gray-500 dark:text-gray-400"}),a.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:r.location})]}),c&&a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(kr,{className:"mt-1 text-gray-500 dark:text-gray-400"}),a.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:c})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[a.jsx(bt,{className:"mr-2"})," Service Songs"]}),s.length===0?a.jsx("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No songs have been added to this service."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 text-sm text-gray-600 dark:text-gray-400",children:["Total songs: ",s.length]}),a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map(k=>{var T,S;const P=_.has(k.id);return a.jsx("li",{className:`py-4 ${P?"bg-green-800 dark:bg-green-950 bg-opacity-10 dark:bg-opacity-20":""} hover:bg-gray-50 dark:hover:bg-gray-700`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"h-8 w-8 flex items-center justify-center bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-full mr-3 font-medium",children:k.song_order}),a.jsx("div",{className:"flex-grow cursor-pointer",onClick:()=>f(k.id),children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`font-medium ${P?"line-through text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-gray-100"}`,children:((T=k.songs)==null?void 0:T.title)||"Unknown Title"}),((S=k.songs)==null?void 0:S.artist)&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.songs.artist}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[k.key&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",children:["Key: ",k.key]}),k.notes&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300",children:["Notes: ",k.notes]}),P&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300",children:[a.jsx(mn,{className:"mr-1",size:10})," Completed"]})]})]}),a.jsx("button",{onClick:L=>w(k.id,L),disabled:v===k.id,className:`ml-2 p-2 rounded-full ${P?"text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900":"text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"} 
                            ${v===k.id?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,title:P?"Mark as incomplete":"Mark as complete",children:v===k.id?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-green-500 rounded-full border-t-transparent"}):P?a.jsx(J1,{size:20}):a.jsx(xv,{size:20})})]})})]})},k.id)})})]})]})]}):a.jsxs("div",{className:"max-w-3xl mx-auto p-4 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Service Not Found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The service you're looking for doesn't exist or has been deleted."}),a.jsx("button",{onClick:()=>t("/calendar"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Calendar"})]})},y2=({selectedSongs:e=[],onSongsChange:t,churchId:r})=>{const[n,s]=p.useState([]),[i,o]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState(!1);p.useEffect(()=>{(async()=>{if(r)try{o(!0);const{data:x,error:w}=await R.from("songs").select("id, title, artist, default_key").eq("church_id",r).order("title");if(w)throw w;s(x||[])}catch(x){console.error("Error fetching songs:",x)}finally{o(!1)}})()},[r]);const h=n.filter(f=>!e.some(x=>x.songId===f.id)),m=h.filter(f=>f.title.toLowerCase().includes(l.toLowerCase())||f.artist&&f.artist.toLowerCase().includes(l.toLowerCase())),y=f=>{const x={songId:f.id,title:f.title,artist:f.artist,key:f.default_key||"",notes:"",order:e.length+1};t([...e,x]),c(""),d(!1)},v=f=>{const x=[...e];x.splice(f,1);const w=x.map((E,k)=>({...E,order:k+1}));t(w)},b=(f,x)=>{if(x==="up"&&f===0||x==="down"&&f===e.length-1)return;const w=[...e],E=x==="up"?f-1:f+1;[w[f],w[E]]=[w[E],w[f]];const k=w.map((P,T)=>({...P,order:T+1}));t(k)},_=(f,x)=>{const w=[...e];w[f].key=x,t(w)},g=(f,x)=>{const w=[...e];w[f].notes=x,t(w)};return a.jsxs("div",{children:[e.length>0?a.jsx("div",{className:"space-y-4 mb-4",children:e.map((f,x)=>a.jsxs("div",{className:"border rounded-md p-3 bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-medium dark:text-white",children:[x+1,". ",f.title]}),f.artist&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.artist})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{type:"button",onClick:()=>b(x,"up"),disabled:x===0,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-30 disabled:cursor-not-allowed dark:text-gray-300",title:"Move up",children:a.jsx(W1,{size:14})}),a.jsx("button",{type:"button",onClick:()=>b(x,"down"),disabled:x===e.length-1,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-30 disabled:cursor-not-allowed dark:text-gray-300",title:"Move down",children:a.jsx(q1,{size:14})}),a.jsx("button",{type:"button",onClick:()=>v(x),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-500 dark:text-red-400",title:"Remove song",children:a.jsx(Dt,{size:14})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Performance Key"}),a.jsx("input",{type:"text",value:f.key||"",onChange:w=>_(x,w.target.value),className:`mt-1 block w-full text-sm border border-gray-300 dark:border-gray-600 
                               rounded-md shadow-sm p-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                               focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Performance Notes"}),a.jsx("input",{type:"text",value:f.notes||"",onChange:w=>g(x,w.target.value),className:`mt-1 block w-full text-sm border border-gray-300 dark:border-gray-600 
                               rounded-md shadow-sm p-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                               focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"Notes"})]})]})]},x))}):a.jsxs("div",{className:"text-center py-8 border-2 border-dashed rounded-md mb-4 dark:border-gray-600",children:[a.jsx(bt,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No songs added"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Add songs to your service from your song library"})]}),u?a.jsxs("div",{className:"space-y-3 border p-3 rounded-md dark:border-gray-600 dark:bg-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-medium dark:text-white",children:"Add Song to Service"}),a.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:a.jsx(Dt,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ji,{className:"text-gray-400 dark:text-gray-500"})}),a.jsx("input",{type:"text",className:`block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 
                         rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                         placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-blue-500 
                         focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`,placeholder:"Search songs by title or artist...",value:l,onChange:f=>c(f.target.value)})]}),i&&a.jsx("div",{className:"flex justify-center py-5",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}),!i&&a.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md dark:border-gray-600",children:m.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:h.length===0?"No songs available. Add songs to your library first.":"No songs matching your search criteria."}):a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:m.map(f=>a.jsx("li",{className:"px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",onClick:()=>y(f),children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium dark:text-white",children:f.title}),f.artist&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.artist})]})},f.id))})})]}):a.jsxs("button",{type:"button",onClick:()=>d(!0),disabled:!r,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md 
                     shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50`,children:[a.jsx(Me,{className:"mr-2"})," Add Song"]})]})},gd=()=>{const e=Ue(),{id:t}=As(),{user:r}=Be(),n=!!t,[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState([]),[d,h]=p.useState([]),[m,y]=p.useState([]),[v,b]=p.useState([]),[_,g]=p.useState(null),f=he(),x=`Service - ${f.format("MMMM D, YYYY")}`,w=f.format("YYYY-MM-DD"),[E,k]=p.useState({title:x,description:"",start_time:`${w}T09:00`,end_time:`${w}T10:30`,service_date:w,location:"Church",church_id:"",team_id:null,event_type:"service",created_by:r==null?void 0:r.id});p.useEffect(()=>{if(E.service_date&&!n){const O=he(E.service_date);k(I=>({...I,title:`Service - ${O.format("MMMM D, YYYY")}`,start_time:`${E.service_date}T09:00`,end_time:`${E.service_date}T10:30`}))}},[E.service_date,n]),p.useEffect(()=>{(async()=>{try{i(!0);const{data:I,error:z}=await R.from("churches").select("id, name");if(z)throw z;if(u(I||[]),E.church_id){const{data:$,error:N}=await R.from("worship_teams").select("id, name, description").eq("church_id",E.church_id);if(N)throw N;h($||[])}if(n){const{data:$,error:N}=await R.from("events").select("*").eq("id",t).single();if(N)throw N;if($){const C=he($.start_time).format("YYYY-MM-DD");k({...$,start_time:he($.start_time).format("YYYY-MM-DDTHH:mm"),end_time:he($.end_time).format("YYYY-MM-DDTHH:mm"),service_date:C});const{data:D,error:j}=await R.from("event_songs").select("id, song_id, song_order, key, notes, songs(id, title, artist, default_key)").eq("event_id",t).order("song_order");if(j)throw j;D&&y(D.map(A=>{var M,U,G;return{id:A.id,songId:A.song_id,order:A.song_order,key:A.key||((M=A.songs)==null?void 0:M.default_key)||"",notes:A.notes||"",title:((U=A.songs)==null?void 0:U.title)||"",artist:((G=A.songs)==null?void 0:G.artist)||""}}))}}}catch(I){console.error("Error fetching data:",I),g("Error loading data. Please try again.")}finally{i(!1)}})()},[t,n,r]);const P=O=>{const{name:I,value:z}=O.target;if(I==="church_id"||I==="team_id"){const $=z===""?null:z;k(N=>({...N,[I]:$})),I==="church_id"&&(T($),k(N=>({...N,team_id:null})))}else k($=>({...$,[I]:z}))},T=async O=>{if(!O){h([]);return}try{const{data:I,error:z}=await R.from("worship_teams").select("id, name, description").eq("church_id",O);if(z)throw z;h(I||[])}catch(I){console.error("Error fetching teams:",I),g("Error loading teams. Please try again.")}},S=O=>{y(O)},L=async O=>{O.preventDefault();try{if(l(!0),g(null),!E.church_id){g("Please select a church"),l(!1);return}const I={...E,start_time:he(E.start_time).toISOString(),end_time:he(E.end_time).toISOString(),created_by:r.id,team_id:E.team_id||null,church_id:E.church_id||null};delete I.service_date,console.log("Submitting service data:",I);let z=t;if(n){const{error:$}=await R.from("events").update(I).eq("id",t);if($)throw console.error("Error updating service:",$),$}else{const{data:$,error:N}=await R.from("events").insert(I).select("id").single();if(N)throw console.error("Error creating service:",N),N;if(!$||!$.id)throw new Error("No service ID returned from creation");z=$.id}if(z){console.log("Service ID for songs and team members:",z);try{if(n){const{error:$}=await R.from("event_songs").delete().eq("event_id",z);if($)throw console.error("Error deleting songs:",$),$}if(m.length>0){const $=m.map(C=>({event_id:z,song_id:C.songId,song_order:C.order,key:C.key||null,notes:C.notes||null}));console.log("Inserting songs:",$);const{error:N}=await R.from("event_songs").insert($);if(N)throw console.error("Error inserting songs:",N),N}}catch($){throw console.error("Error handling songs:",$),$}if(v.length>0){if(console.log("Saving team member assignments:",v),n){const $=v.filter(N=>N.id).map(N=>N.id);if($.length>0){const{error:N}=await R.from("service_team_members").delete().eq("event_id",z).not("id","in",`(${$.join(",")})`);if(N)throw console.error("Error deleting team members:",N),N}else{const{error:N}=await R.from("service_team_members").delete().eq("event_id",z);if(N)throw console.error("Error deleting all team members:",N),N}}for(const $ of v)if($.id){const{error:N}=await R.from("service_team_members").update({role:$.role,notes:$.notes,is_confirmed:$.isConfirmed}).eq("id",$.id);if(N)throw console.error("Error updating team member:",N),N}else{const N={event_id:z,user_id:$.userId,role:$.role,notes:$.notes,is_confirmed:$.isConfirmed||!1};console.log("Adding new team member to service:",N);const{error:C}=await R.from("service_team_members").insert(N);if(C)throw console.error("Error adding team member:",C),C}}}else throw new Error("Failed to get a valid service ID");e("/calendar")}catch(I){console.error("Error saving service:",I),g(`Error saving service: ${I.message||"Please try again"}`)}finally{l(!1)}};return s?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"max-w-3xl mx-auto p-4 mb-20",children:[" ",a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:n?"Edit Service":"Create New Service"}),_&&a.jsx("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded mb-4",children:a.jsx("p",{children:_})}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4 mb-4",children:[" ",a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[" ",a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[a.jsx(Ht,{className:"inline mr-1"})," Service Date*"]}),a.jsx("input",{type:"date",id:"service_date",name:"service_date",required:!0,value:E.service_date,onChange:P,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                         focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"church_id",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Church*"}),a.jsxs("select",{id:"church_id",name:"church_id",required:!0,value:E.church_id||"",onChange:P,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                         focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,children:[a.jsx("option",{value:"",children:"Select Church"}),c.map(O=>a.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Service Title*"}),a.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:E.title,onChange:P,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                       focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`})]})]}),E.church_id&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4 mb-8",children:[" ",a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Service Songs"}),a.jsx(y2,{selectedSongs:m,onSongsChange:S,churchId:E.church_id})]}),a.jsxs("div",{className:"flex justify-center mb-16",children:[" ",a.jsx("button",{type:"submit",disabled:o,className:`px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white 
                     bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600 
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                     disabled:opacity-50`,children:o?"Saving...":n?"Update Service":"Create Service"})]})]})]})};function pd(){return a.jsx(U1,{children:a.jsx(B1,{children:a.jsx(F1,{children:a.jsx(gy,{children:a.jsxs(oy,{children:[a.jsx(me,{path:"/login",element:a.jsx(Sv,{})}),a.jsx(me,{path:"/register",element:a.jsx(Cv,{})}),a.jsx(me,{path:"/forgot-password",element:a.jsx(Ev,{})}),a.jsx(me,{path:"/reset-password",element:a.jsx(Pv,{})}),a.jsx(me,{path:"/verify-email",element:a.jsx(Tv,{})}),a.jsx(me,{path:"/auth/callback",element:a.jsx($v,{})}),a.jsxs(me,{element:a.jsx(Nv,{}),children:[a.jsx(me,{path:"/dashboard",element:a.jsx(Fv,{})}),a.jsx(me,{path:"/calendar",element:a.jsx(Uv,{})}),a.jsx(me,{path:"/songs",element:a.jsx(Bv,{})}),a.jsx(me,{path:"/songs/:id",element:a.jsx(g2,{})}),a.jsx(me,{path:"/songs/new",element:a.jsx(md,{})}),a.jsx(me,{path:"/songs/edit/:id",element:a.jsx(md,{})}),a.jsx(me,{path:"/services",element:a.jsx(Vv,{})}),a.jsx(me,{path:"/services/:id",element:a.jsx(p2,{})}),a.jsx(me,{path:"/services/new",element:a.jsx(gd,{})}),a.jsx(me,{path:"/services/edit/:id",element:a.jsx(gd,{})}),a.jsx(me,{path:"/profile",element:a.jsx(Hv,{})}),a.jsx(me,{path:"/prayer-requests",element:a.jsx(Gv,{})}),a.jsx(me,{path:"/churches",element:a.jsx(Jv,{})})]}),a.jsx(me,{path:"/",element:a.jsx(zf,{to:"/dashboard",replace:!0})}),a.jsx(me,{path:"*",element:a.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white dark:bg-gray-900 dark:text-white",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"404 - Page Not Found"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"The page you're looking for doesn't exist."}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"The server is configured with a public base URL of '/church-connect/'"}),a.jsx("button",{onClick:()=>window.location.pathname=tr(window.location.pathname.replace(/^\//,"")),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go to Correct URL"}),a.jsx("button",{onClick:()=>window.history.back(),className:"block w-full mt-2 px-4 py-2 bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:"Go Back"})]})]})})]})})})})})}d0()?(console.log("Auth parameters detected in URL, redirecting to proper auth callback..."),Zu()||va.createRoot(document.getElementById("root")).render(a.jsx(Ct.StrictMode,{children:a.jsx(pd,{})}))):Zu()||va.createRoot(document.getElementById("root")).render(a.jsx(Ct.StrictMode,{children:a.jsx(pd,{})}));export{Ka as g};

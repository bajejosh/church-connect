function L0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function O0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var hd={exports:{}},Wa={},fd={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=Symbol.for("react.element"),R0=Symbol.for("react.portal"),A0=Symbol.for("react.fragment"),M0=Symbol.for("react.strict_mode"),I0=Symbol.for("react.profiler"),z0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),F0=Symbol.for("react.forward_ref"),U0=Symbol.for("react.suspense"),B0=Symbol.for("react.memo"),V0=Symbol.for("react.lazy"),vc=Symbol.iterator;function H0(e){return e===null||typeof e!="object"?null:(e=vc&&e[vc]||e["@@iterator"],typeof e=="function"?e:null)}var md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gd=Object.assign,pd={};function kn(e,t,r){this.props=e,this.context=t,this.refs=pd,this.updater=r||md}kn.prototype.isReactComponent={};kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yd(){}yd.prototype=kn.prototype;function ul(e,t,r){this.props=e,this.context=t,this.refs=pd,this.updater=r||md}var dl=ul.prototype=new yd;dl.constructor=ul;gd(dl,kn.prototype);dl.isPureReactComponent=!0;var wc=Array.isArray,xd=Object.prototype.hasOwnProperty,hl={current:null},vd={key:!0,ref:!0,__self:!0,__source:!0};function wd(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)xd.call(t,n)&&!vd.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ns,type:e,key:i,ref:o,props:s,_owner:hl.current}}function q0(e,t){return{$$typeof:Ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ns}function W0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bc=/\/+/g;function ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?W0(""+e.key):t.toString(36)}function ra(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ns:case R0:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ki(o,0):n,wc(s)?(r="",e!=null&&(r=e.replace(bc,"$&/")+"/"),ra(s,t,r,"",function(u){return u})):s!=null&&(fl(s)&&(s=q0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",wc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ki(i,l);o+=ra(i,t,r,c,s)}else if(c=H0(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ki(i,l++),o+=ra(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Os(e,t,r){if(e==null)return e;var n=[],s=0;return ra(e,n,"","",function(i){return t.call(r,i,s++)}),n}function G0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},na={transition:null},Y0={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:na,ReactCurrentOwner:hl};function bd(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Os,forEach:function(e,t,r){Os(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Os(e,function(){t++}),t},toArray:function(e){return Os(e,function(t){return t})||[]},only:function(e){if(!fl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=kn;K.Fragment=A0;K.Profiler=I0;K.PureComponent=ul;K.StrictMode=M0;K.Suspense=U0;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y0;K.act=bd;K.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=hl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)xd.call(t,c)&&!vd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ns,type:e.type,key:s,ref:i,props:n,_owner:o}};K.createContext=function(e){return e={$$typeof:D0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:z0,_context:e},e.Consumer=e};K.createElement=wd;K.createFactory=function(e){var t=wd.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:F0,render:e}};K.isValidElement=fl;K.lazy=function(e){return{$$typeof:V0,_payload:{_status:-1,_result:e},_init:G0}};K.memo=function(e,t){return{$$typeof:B0,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=na.transition;na.transition={};try{e()}finally{na.transition=t}};K.unstable_act=bd;K.useCallback=function(e,t){return Ae.current.useCallback(e,t)};K.useContext=function(e){return Ae.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ae.current.useEffect(e,t)};K.useId=function(){return Ae.current.useId()};K.useImperativeHandle=function(e,t,r){return Ae.current.useImperativeHandle(e,t,r)};K.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ae.current.useMemo(e,t)};K.useReducer=function(e,t,r){return Ae.current.useReducer(e,t,r)};K.useRef=function(e){return Ae.current.useRef(e)};K.useState=function(e){return Ae.current.useState(e)};K.useSyncExternalStore=function(e,t,r){return Ae.current.useSyncExternalStore(e,t,r)};K.useTransition=function(){return Ae.current.useTransition()};K.version="18.3.1";fd.exports=K;var y=fd.exports;const bt=qa(y),K0=L0({__proto__:null,default:bt},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0=y,Q0=Symbol.for("react.element"),X0=Symbol.for("react.fragment"),Z0=Object.prototype.hasOwnProperty,em=J0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tm={key:!0,ref:!0,__self:!0,__source:!0};function kd(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Z0.call(t,n)&&!tm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Q0,type:e,key:i,ref:o,props:s,_owner:em.current}}Wa.Fragment=X0;Wa.jsx=kd;Wa.jsxs=kd;hd.exports=Wa;var a=hd.exports,ga={},jd={exports:{}},Ze={},_d={exports:{}},Nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,L){var I=j.length;j.push(L);e:for(;0<I;){var D=I-1>>>1,V=j[D];if(0<s(V,L))j[D]=L,j[I]=V,I=D;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var L=j[0],I=j.pop();if(I!==L){j[0]=I;e:for(var D=0,V=j.length,W=V>>>1;D<W;){var G=2*(D+1)-1,oe=j[G],xe=G+1,Q=j[xe];if(0>s(oe,I))xe<V&&0>s(Q,oe)?(j[D]=Q,j[xe]=I,D=xe):(j[D]=oe,j[G]=I,D=G);else if(xe<V&&0>s(Q,I))j[D]=Q,j[xe]=I,D=xe;else break e}}return L}function s(j,L){var I=j.sortIndex-L.sortIndex;return I!==0?I:j.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,w=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=j)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function b(j){if(v=!1,x(j),!w)if(r(c)!==null)w=!0,R(P);else{var L=r(u);L!==null&&U(b,L.startTime-j)}}function P(j,L){w=!1,v&&(v=!1,g(S),S=-1),p=!0;var I=m;try{for(x(L),h=r(c);h!==null&&(!(h.expirationTime>L)||j&&!$());){var D=h.callback;if(typeof D=="function"){h.callback=null,m=h.priorityLevel;var V=D(h.expirationTime<=L);L=e.unstable_now(),typeof V=="function"?h.callback=V:h===r(c)&&n(c),x(L)}else n(c);h=r(c)}if(h!==null)var W=!0;else{var G=r(u);G!==null&&U(b,G.startTime-L),W=!1}return W}finally{h=null,m=I,p=!1}}var _=!1,N=null,S=-1,C=5,T=-1;function $(){return!(e.unstable_now()-T<C)}function A(){if(N!==null){var j=e.unstable_now();T=j;var L=!0;try{L=N(!0,j)}finally{L?F():(_=!1,N=null)}}else _=!1}var F;if(typeof f=="function")F=function(){f(A)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,E=O.port2;O.port1.onmessage=A,F=function(){E.postMessage(null)}}else F=function(){k(A,0)};function R(j){N=j,_||(_=!0,F())}function U(j,L){S=k(function(){j(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,R(P))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var I=m;m=L;try{return j()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,L){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var I=m;m=j;try{return L()}finally{m=I}},e.unstable_scheduleCallback=function(j,L,I){var D=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?D+I:D):I=D,j){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=I+V,j={id:d++,callback:L,priorityLevel:j,startTime:I,expirationTime:V,sortIndex:-1},I>D?(j.sortIndex=I,t(u,j),r(c)===null&&j===r(u)&&(v?(g(S),S=-1):v=!0,U(b,I-D))):(j.sortIndex=V,t(c,j),w||p||(w=!0,R(P))),j},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(j){var L=m;return function(){var I=m;m=L;try{return j.apply(this,arguments)}finally{m=I}}}})(Nd);_d.exports=Nd;var rm=_d.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=y,Xe=rm;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sd=new Set,rs={};function $r(e,t){dn(e,t),dn(e+"Capture",t)}function dn(e,t){for(rs[e]=t,e=0;e<t.length;e++)Sd.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=Object.prototype.hasOwnProperty,sm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kc={},jc={};function am(e){return ro.call(jc,e)?!0:ro.call(kc,e)?!1:sm.test(e)?jc[e]=!0:(kc[e]=!0,!1)}function im(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function om(e,t,r,n){if(t===null||typeof t>"u"||im(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var ml=/[\-:]([a-z])/g;function gl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ml,gl);Ce[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ml,gl);Ce[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ml,gl);Ce[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function pl(e,t,r,n){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(om(t,r,s,n)&&(r=null),n||s===null?am(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var It=nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),yl=Symbol.for("react.strict_mode"),no=Symbol.for("react.profiler"),Cd=Symbol.for("react.provider"),Ed=Symbol.for("react.context"),xl=Symbol.for("react.forward_ref"),so=Symbol.for("react.suspense"),ao=Symbol.for("react.suspense_list"),vl=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),Pd=Symbol.for("react.offscreen"),_c=Symbol.iterator;function En(e){return e===null||typeof e!="object"?null:(e=_c&&e[_c]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,ji;function zn(e){if(ji===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ji=t&&t[1]||""}return`
`+ji+e}var _i=!1;function Ni(e,t){if(!e||_i)return"";_i=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{_i=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zn(e):""}function lm(e){switch(e.tag){case 5:return zn(e.type);case 16:return zn("Lazy");case 13:return zn("Suspense");case 19:return zn("SuspenseList");case 0:case 2:case 15:return e=Ni(e.type,!1),e;case 11:return e=Ni(e.type.render,!1),e;case 1:return e=Ni(e.type,!0),e;default:return""}}function io(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qr:return"Fragment";case Hr:return"Portal";case no:return"Profiler";case yl:return"StrictMode";case so:return"Suspense";case ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ed:return(e.displayName||"Context")+".Consumer";case Cd:return(e._context.displayName||"Context")+".Provider";case xl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vl:return t=e.displayName||null,t!==null?t:io(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return io(e(t))}catch{}}return null}function cm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return io(t);case 8:return t===yl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function um(e){var t=Td(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function As(e){e._valueTracker||(e._valueTracker=um(e))}function $d(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Td(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oo(e,t){var r=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Nc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=lr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ld(e,t){t=t.checked,t!=null&&pl(e,"checked",t,!1)}function lo(e,t){Ld(e,t);var r=lr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?co(e,t.type,r):t.hasOwnProperty("defaultValue")&&co(e,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function co(e,t,r){(t!=="number"||pa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dn=Array.isArray;function rn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function uo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(Dn(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:lr(r)}}function Od(e,t){var r=lr(t.value),n=lr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ec(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ms,Ad=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ms=Ms||document.createElement("div"),Ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ns(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dm=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(e){dm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vn[t]=Vn[e]})});function Md(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vn.hasOwnProperty(e)&&Vn[e]?(""+t).trim():t+"px"}function Id(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Md(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var hm=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fo(e,t){if(t){if(hm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function mo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=null;function wl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var po=null,nn=null,sn=null;function Pc(e){if(e=Es(e)){if(typeof po!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Qa(t),po(e.stateNode,e.type,t))}}function zd(e){nn?sn?sn.push(e):sn=[e]:nn=e}function Dd(){if(nn){var e=nn,t=sn;if(sn=nn=null,Pc(e),t)for(e=0;e<t.length;e++)Pc(t[e])}}function Fd(e,t){return e(t)}function Ud(){}var Si=!1;function Bd(e,t,r){if(Si)return e(t,r);Si=!0;try{return Fd(e,t,r)}finally{Si=!1,(nn!==null||sn!==null)&&(Ud(),Dd())}}function ss(e,t){var r=e.stateNode;if(r===null)return null;var n=Qa(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var yo=!1;if(Lt)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){yo=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{yo=!1}function fm(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Hn=!1,ya=null,xa=!1,xo=null,mm={onError:function(e){Hn=!0,ya=e}};function gm(e,t,r,n,s,i,o,l,c){Hn=!1,ya=null,fm.apply(mm,arguments)}function pm(e,t,r,n,s,i,o,l,c){if(gm.apply(this,arguments),Hn){if(Hn){var u=ya;Hn=!1,ya=null}else throw Error(z(198));xa||(xa=!0,xo=u)}}function Lr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tc(e){if(Lr(e)!==e)throw Error(z(188))}function ym(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Tc(s),e;if(i===n)return Tc(s),t;i=i.sibling}throw Error(z(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function Hd(e){return e=ym(e),e!==null?qd(e):null}function qd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qd(e);if(t!==null)return t;e=e.sibling}return null}var Wd=Xe.unstable_scheduleCallback,$c=Xe.unstable_cancelCallback,xm=Xe.unstable_shouldYield,vm=Xe.unstable_requestPaint,pe=Xe.unstable_now,wm=Xe.unstable_getCurrentPriorityLevel,bl=Xe.unstable_ImmediatePriority,Gd=Xe.unstable_UserBlockingPriority,va=Xe.unstable_NormalPriority,bm=Xe.unstable_LowPriority,Yd=Xe.unstable_IdlePriority,Ga=null,kt=null;function km(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Ga,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Nm,jm=Math.log,_m=Math.LN2;function Nm(e){return e>>>=0,e===0?32:31-(jm(e)/_m|0)|0}var Is=64,zs=4194304;function Fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Fn(l):(i&=o,i!==0&&(n=Fn(i)))}else o=r&~s,o!==0?n=Fn(o):i!==0&&(n=Fn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mt(t),s=1<<r,n|=e[r],t&=~s;return n}function Sm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-mt(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Sm(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function vo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kd(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function Ci(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ss(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=r}function Em(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function kl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Z=0;function Jd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qd,jl,Xd,Zd,eh,wo=!1,Ds=[],Xt=null,Zt=null,er=null,as=new Map,is=new Map,qt=[],Pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":is.delete(t.pointerId)}}function Tn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Es(t),t!==null&&jl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Tm(e,t,r,n,s){switch(t){case"focusin":return Xt=Tn(Xt,e,t,r,n,s),!0;case"dragenter":return Zt=Tn(Zt,e,t,r,n,s),!0;case"mouseover":return er=Tn(er,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return as.set(i,Tn(as.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,is.set(i,Tn(is.get(i)||null,e,t,r,n,s)),!0}return!1}function th(e){var t=br(e.target);if(t!==null){var r=Lr(t);if(r!==null){if(t=r.tag,t===13){if(t=Vd(r),t!==null){e.blockedOn=t,eh(e.priority,function(){Xd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);go=n,r.target.dispatchEvent(n),go=null}else return t=Es(r),t!==null&&jl(t),e.blockedOn=r,!1;t.shift()}return!0}function Oc(e,t,r){sa(e)&&r.delete(t)}function $m(){wo=!1,Xt!==null&&sa(Xt)&&(Xt=null),Zt!==null&&sa(Zt)&&(Zt=null),er!==null&&sa(er)&&(er=null),as.forEach(Oc),is.forEach(Oc)}function $n(e,t){e.blockedOn===t&&(e.blockedOn=null,wo||(wo=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,$m)))}function os(e){function t(s){return $n(s,e)}if(0<Ds.length){$n(Ds[0],e);for(var r=1;r<Ds.length;r++){var n=Ds[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xt!==null&&$n(Xt,e),Zt!==null&&$n(Zt,e),er!==null&&$n(er,e),as.forEach(t),is.forEach(t),r=0;r<qt.length;r++)n=qt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qt.length&&(r=qt[0],r.blockedOn===null);)th(r),r.blockedOn===null&&qt.shift()}var an=It.ReactCurrentBatchConfig,ba=!0;function Lm(e,t,r,n){var s=Z,i=an.transition;an.transition=null;try{Z=1,_l(e,t,r,n)}finally{Z=s,an.transition=i}}function Om(e,t,r,n){var s=Z,i=an.transition;an.transition=null;try{Z=4,_l(e,t,r,n)}finally{Z=s,an.transition=i}}function _l(e,t,r,n){if(ba){var s=bo(e,t,r,n);if(s===null)Ii(e,t,n,ka,r),Lc(e,n);else if(Tm(s,e,t,r,n))n.stopPropagation();else if(Lc(e,n),t&4&&-1<Pm.indexOf(e)){for(;s!==null;){var i=Es(s);if(i!==null&&Qd(i),i=bo(e,t,r,n),i===null&&Ii(e,t,n,ka,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ii(e,t,n,null,r)}}var ka=null;function bo(e,t,r,n){if(ka=null,e=wl(n),e=br(e),e!==null)if(t=Lr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ka=e,null}function rh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wm()){case bl:return 1;case Gd:return 4;case va:case bm:return 16;case Yd:return 536870912;default:return 16}default:return 16}}var Kt=null,Nl=null,aa=null;function nh(){if(aa)return aa;var e,t=Nl,r=t.length,n,s="value"in Kt?Kt.value:Kt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return aa=s.slice(e,1<n?1-n:void 0)}function ia(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function Rc(){return!1}function et(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fs:Rc,this.isPropagationStopped=Rc,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=et(jn),Cs=fe({},jn,{view:0,detail:0}),Rm=et(Cs),Ei,Pi,Ln,Ya=fe({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ln&&(Ln&&e.type==="mousemove"?(Ei=e.screenX-Ln.screenX,Pi=e.screenY-Ln.screenY):Pi=Ei=0,Ln=e),Ei)},movementY:function(e){return"movementY"in e?e.movementY:Pi}}),Ac=et(Ya),Am=fe({},Ya,{dataTransfer:0}),Mm=et(Am),Im=fe({},Cs,{relatedTarget:0}),Ti=et(Im),zm=fe({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=et(zm),Fm=fe({},jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Um=et(Fm),Bm=fe({},jn,{data:0}),Mc=et(Bm),Vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qm[e])?!!t[e]:!1}function Cl(){return Wm}var Gm=fe({},Cs,{key:function(e){if(e.key){var t=Vm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ym=et(Gm),Km=fe({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=et(Km),Jm=fe({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),Qm=et(Jm),Xm=fe({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zm=et(Xm),eg=fe({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tg=et(eg),rg=[9,13,27,32],El=Lt&&"CompositionEvent"in window,qn=null;Lt&&"documentMode"in document&&(qn=document.documentMode);var ng=Lt&&"TextEvent"in window&&!qn,sh=Lt&&(!El||qn&&8<qn&&11>=qn),zc=" ",Dc=!1;function ah(e,t){switch(e){case"keyup":return rg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ih(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function sg(e,t){switch(e){case"compositionend":return ih(t);case"keypress":return t.which!==32?null:(Dc=!0,zc);case"textInput":return e=t.data,e===zc&&Dc?null:e;default:return null}}function ag(e,t){if(Wr)return e==="compositionend"||!El&&ah(e,t)?(e=nh(),aa=Nl=Kt=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sh&&t.locale!=="ko"?null:t.data;default:return null}}var ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ig[e.type]:t==="textarea"}function oh(e,t,r,n){zd(n),t=ja(t,"onChange"),0<t.length&&(r=new Sl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wn=null,ls=null;function og(e){xh(e,0)}function Ka(e){var t=Kr(e);if($d(t))return e}function lg(e,t){if(e==="change")return t}var lh=!1;if(Lt){var $i;if(Lt){var Li="oninput"in document;if(!Li){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),Li=typeof Uc.oninput=="function"}$i=Li}else $i=!1;lh=$i&&(!document.documentMode||9<document.documentMode)}function Bc(){Wn&&(Wn.detachEvent("onpropertychange",ch),ls=Wn=null)}function ch(e){if(e.propertyName==="value"&&Ka(ls)){var t=[];oh(t,ls,e,wl(e)),Bd(og,t)}}function cg(e,t,r){e==="focusin"?(Bc(),Wn=t,ls=r,Wn.attachEvent("onpropertychange",ch)):e==="focusout"&&Bc()}function ug(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ka(ls)}function dg(e,t){if(e==="click")return Ka(t)}function hg(e,t){if(e==="input"||e==="change")return Ka(t)}function fg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:fg;function cs(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ro.call(t,s)||!pt(e[s],t[s]))return!1}return!0}function Vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hc(e,t){var r=Vc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vc(r)}}function uh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dh(){for(var e=window,t=pa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pa(e.document)}return t}function Pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mg(e){var t=dh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&uh(r.ownerDocument.documentElement,r)){if(n!==null&&Pl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Hc(r,i);var o=Hc(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gg=Lt&&"documentMode"in document&&11>=document.documentMode,Gr=null,ko=null,Gn=null,jo=!1;function qc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jo||Gr==null||Gr!==pa(n)||(n=Gr,"selectionStart"in n&&Pl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gn&&cs(Gn,n)||(Gn=n,n=ja(ko,"onSelect"),0<n.length&&(t=new Sl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gr)))}function Us(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yr={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},Oi={},hh={};Lt&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Ja(e){if(Oi[e])return Oi[e];if(!Yr[e])return e;var t=Yr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hh)return Oi[e]=t[r];return e}var fh=Ja("animationend"),mh=Ja("animationiteration"),gh=Ja("animationstart"),ph=Ja("transitionend"),yh=new Map,Wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(e,t){yh.set(e,t),$r(t,[e])}for(var Ri=0;Ri<Wc.length;Ri++){var Ai=Wc[Ri],pg=Ai.toLowerCase(),yg=Ai[0].toUpperCase()+Ai.slice(1);ur(pg,"on"+yg)}ur(fh,"onAnimationEnd");ur(mh,"onAnimationIteration");ur(gh,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(ph,"onTransitionEnd");dn("onMouseEnter",["mouseout","mouseover"]);dn("onMouseLeave",["mouseout","mouseover"]);dn("onPointerEnter",["pointerout","pointerover"]);dn("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function Gc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,pm(n,t,void 0,e),e.currentTarget=null}function xh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Gc(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Gc(s,l,u),i=c}}}if(xa)throw e=xo,xa=!1,xo=null,e}function ae(e,t){var r=t[Eo];r===void 0&&(r=t[Eo]=new Set);var n=e+"__bubble";r.has(n)||(vh(t,e,2,!1),r.add(n))}function Mi(e,t,r){var n=0;t&&(n|=4),vh(r,e,n,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function us(e){if(!e[Bs]){e[Bs]=!0,Sd.forEach(function(r){r!=="selectionchange"&&(xg.has(r)||Mi(r,!1,e),Mi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,Mi("selectionchange",!1,t))}}function vh(e,t,r,n){switch(rh(t)){case 1:var s=Lm;break;case 4:s=Om;break;default:s=_l}r=s.bind(null,t,r,e),s=void 0,!yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ii(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=br(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Bd(function(){var u=i,d=wl(r),h=[];e:{var m=yh.get(e);if(m!==void 0){var p=Sl,w=e;switch(e){case"keypress":if(ia(r)===0)break e;case"keydown":case"keyup":p=Ym;break;case"focusin":w="focus",p=Ti;break;case"focusout":w="blur",p=Ti;break;case"beforeblur":case"afterblur":p=Ti;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Qm;break;case fh:case mh:case gh:p=Dm;break;case ph:p=Zm;break;case"scroll":p=Rm;break;case"wheel":p=tg;break;case"copy":case"cut":case"paste":p=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ic}var v=(t&4)!==0,k=!v&&e==="scroll",g=v?m!==null?m+"Capture":null:m;v=[];for(var f=u,x;f!==null;){x=f;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=ss(f,g),b!=null&&v.push(ds(f,b,x)))),k)break;f=f.return}0<v.length&&(m=new p(m,w,null,r,d),h.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==go&&(w=r.relatedTarget||r.fromElement)&&(br(w)||w[Ot]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=u,w=w?br(w):null,w!==null&&(k=Lr(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(v=Ac,b="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ic,b="onPointerLeave",g="onPointerEnter",f="pointer"),k=p==null?m:Kr(p),x=w==null?m:Kr(w),m=new v(b,f+"leave",p,r,d),m.target=k,m.relatedTarget=x,b=null,br(d)===u&&(v=new v(g,f+"enter",w,r,d),v.target=x,v.relatedTarget=k,b=v),k=b,p&&w)t:{for(v=p,g=w,f=0,x=v;x;x=zr(x))f++;for(x=0,b=g;b;b=zr(b))x++;for(;0<f-x;)v=zr(v),f--;for(;0<x-f;)g=zr(g),x--;for(;f--;){if(v===g||g!==null&&v===g.alternate)break t;v=zr(v),g=zr(g)}v=null}else v=null;p!==null&&Yc(h,m,p,v,!1),w!==null&&k!==null&&Yc(h,k,w,v,!0)}}e:{if(m=u?Kr(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var P=lg;else if(Fc(m))if(lh)P=hg;else{P=ug;var _=cg}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=dg);if(P&&(P=P(e,u))){oh(h,P,r,d);break e}_&&_(e,m,u),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&co(m,"number",m.value)}switch(_=u?Kr(u):window,e){case"focusin":(Fc(_)||_.contentEditable==="true")&&(Gr=_,ko=u,Gn=null);break;case"focusout":Gn=ko=Gr=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,qc(h,r,d);break;case"selectionchange":if(gg)break;case"keydown":case"keyup":qc(h,r,d)}var N;if(El)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Wr?ah(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(sh&&r.locale!=="ko"&&(Wr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Wr&&(N=nh()):(Kt=d,Nl="value"in Kt?Kt.value:Kt.textContent,Wr=!0)),_=ja(u,S),0<_.length&&(S=new Mc(S,e,null,r,d),h.push({event:S,listeners:_}),N?S.data=N:(N=ih(r),N!==null&&(S.data=N)))),(N=ng?sg(e,r):ag(e,r))&&(u=ja(u,"onBeforeInput"),0<u.length&&(d=new Mc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}xh(h,t)})}function ds(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ja(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ss(e,r),i!=null&&n.unshift(ds(e,i,s)),i=ss(e,t),i!=null&&n.push(ds(e,i,s))),e=e.return}return n}function zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yc(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ss(r,i),c!=null&&o.unshift(ds(r,c,l))):s||(c=ss(r,i),c!=null&&o.push(ds(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var vg=/\r\n?/g,wg=/\u0000|\uFFFD/g;function Kc(e){return(typeof e=="string"?e:""+e).replace(vg,`
`).replace(wg,"")}function Vs(e,t,r){if(t=Kc(t),Kc(e)!==t&&r)throw Error(z(425))}function _a(){}var _o=null,No=null;function So(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Co=typeof setTimeout=="function"?setTimeout:void 0,bg=typeof clearTimeout=="function"?clearTimeout:void 0,Jc=typeof Promise=="function"?Promise:void 0,kg=typeof queueMicrotask=="function"?queueMicrotask:typeof Jc<"u"?function(e){return Jc.resolve(null).then(e).catch(jg)}:Co;function jg(e){setTimeout(function(){throw e})}function zi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),os(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);os(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _n=Math.random().toString(36).slice(2),wt="__reactFiber$"+_n,hs="__reactProps$"+_n,Ot="__reactContainer$"+_n,Eo="__reactEvents$"+_n,_g="__reactListeners$"+_n,Ng="__reactHandles$"+_n;function br(e){var t=e[wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ot]||r[wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qc(e);e!==null;){if(r=e[wt])return r;e=Qc(e)}return t}e=r,r=e.parentNode}return null}function Es(e){return e=e[wt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Qa(e){return e[hs]||null}var Po=[],Jr=-1;function dr(e){return{current:e}}function ie(e){0>Jr||(e.current=Po[Jr],Po[Jr]=null,Jr--)}function se(e,t){Jr++,Po[Jr]=e.current,e.current=t}var cr={},$e=dr(cr),Be=dr(!1),Sr=cr;function hn(e,t){var r=e.type.contextTypes;if(!r)return cr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function Na(){ie(Be),ie($e)}function Xc(e,t,r){if($e.current!==cr)throw Error(z(168));se($e,t),se(Be,r)}function wh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(z(108,cm(e)||"Unknown",s));return fe({},r,n)}function Sa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cr,Sr=$e.current,se($e,e),se(Be,Be.current),!0}function Zc(e,t,r){var n=e.stateNode;if(!n)throw Error(z(169));r?(e=wh(e,t,Sr),n.__reactInternalMemoizedMergedChildContext=e,ie(Be),ie($e),se($e,e)):ie(Be),se(Be,r)}var Et=null,Xa=!1,Di=!1;function bh(e){Et===null?Et=[e]:Et.push(e)}function Sg(e){Xa=!0,bh(e)}function hr(){if(!Di&&Et!==null){Di=!0;var e=0,t=Z;try{var r=Et;for(Z=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Et=null,Xa=!1}catch(s){throw Et!==null&&(Et=Et.slice(e+1)),Wd(bl,hr),s}finally{Z=t,Di=!1}}return null}var Qr=[],Xr=0,Ca=null,Ea=0,rt=[],nt=0,Cr=null,Pt=1,Tt="";function pr(e,t){Qr[Xr++]=Ea,Qr[Xr++]=Ca,Ca=e,Ea=t}function kh(e,t,r){rt[nt++]=Pt,rt[nt++]=Tt,rt[nt++]=Cr,Cr=e;var n=Pt;e=Tt;var s=32-mt(n)-1;n&=~(1<<s),r+=1;var i=32-mt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Pt=1<<32-mt(t)+s|r<<s|n,Tt=i+e}else Pt=1<<i|r<<s|n,Tt=e}function Tl(e){e.return!==null&&(pr(e,1),kh(e,1,0))}function $l(e){for(;e===Ca;)Ca=Qr[--Xr],Qr[Xr]=null,Ea=Qr[--Xr],Qr[Xr]=null;for(;e===Cr;)Cr=rt[--nt],rt[nt]=null,Tt=rt[--nt],rt[nt]=null,Pt=rt[--nt],rt[nt]=null}var Qe=null,Je=null,le=!1,ft=null;function jh(e,t){var r=st(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,Je=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cr!==null?{id:Pt,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=st(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qe=e,Je=null,!0):!1;default:return!1}}function To(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $o(e){if(le){var t=Je;if(t){var r=t;if(!eu(e,t)){if(To(e))throw Error(z(418));t=tr(r.nextSibling);var n=Qe;t&&eu(e,t)?jh(n,r):(e.flags=e.flags&-4097|2,le=!1,Qe=e)}}else{if(To(e))throw Error(z(418));e.flags=e.flags&-4097|2,le=!1,Qe=e}}}function tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function Hs(e){if(e!==Qe)return!1;if(!le)return tu(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!So(e.type,e.memoizedProps)),t&&(t=Je)){if(To(e))throw _h(),Error(z(418));for(;t;)jh(e,t),t=tr(t.nextSibling)}if(tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Je=tr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Qe?tr(e.stateNode.nextSibling):null;return!0}function _h(){for(var e=Je;e;)e=tr(e.nextSibling)}function fn(){Je=Qe=null,le=!1}function Ll(e){ft===null?ft=[e]:ft.push(e)}var Cg=It.ReactCurrentBatchConfig;function On(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function qs(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ru(e){var t=e._init;return t(e._payload)}function Nh(e){function t(g,f){if(e){var x=g.deletions;x===null?(g.deletions=[f],g.flags|=16):x.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=ar(g,f),g.index=0,g.sibling=null,g}function i(g,f,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<f?(g.flags|=2,f):x):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,f,x,b){return f===null||f.tag!==6?(f=Wi(x,g.mode,b),f.return=g,f):(f=s(f,x),f.return=g,f)}function c(g,f,x,b){var P=x.type;return P===qr?d(g,f,x.props.children,b,x.key):f!==null&&(f.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Bt&&ru(P)===f.type)?(b=s(f,x.props),b.ref=On(g,f,x),b.return=g,b):(b=fa(x.type,x.key,x.props,null,g.mode,b),b.ref=On(g,f,x),b.return=g,b)}function u(g,f,x,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=Gi(x,g.mode,b),f.return=g,f):(f=s(f,x.children||[]),f.return=g,f)}function d(g,f,x,b,P){return f===null||f.tag!==7?(f=Nr(x,g.mode,b,P),f.return=g,f):(f=s(f,x),f.return=g,f)}function h(g,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Wi(""+f,g.mode,x),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Rs:return x=fa(f.type,f.key,f.props,null,g.mode,x),x.ref=On(g,null,f),x.return=g,x;case Hr:return f=Gi(f,g.mode,x),f.return=g,f;case Bt:var b=f._init;return h(g,b(f._payload),x)}if(Dn(f)||En(f))return f=Nr(f,g.mode,x,null),f.return=g,f;qs(g,f)}return null}function m(g,f,x,b){var P=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:l(g,f,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rs:return x.key===P?c(g,f,x,b):null;case Hr:return x.key===P?u(g,f,x,b):null;case Bt:return P=x._init,m(g,f,P(x._payload),b)}if(Dn(x)||En(x))return P!==null?null:d(g,f,x,b,null);qs(g,x)}return null}function p(g,f,x,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,l(f,g,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rs:return g=g.get(b.key===null?x:b.key)||null,c(f,g,b,P);case Hr:return g=g.get(b.key===null?x:b.key)||null,u(f,g,b,P);case Bt:var _=b._init;return p(g,f,x,_(b._payload),P)}if(Dn(b)||En(b))return g=g.get(x)||null,d(f,g,b,P,null);qs(f,b)}return null}function w(g,f,x,b){for(var P=null,_=null,N=f,S=f=0,C=null;N!==null&&S<x.length;S++){N.index>S?(C=N,N=null):C=N.sibling;var T=m(g,N,x[S],b);if(T===null){N===null&&(N=C);break}e&&N&&T.alternate===null&&t(g,N),f=i(T,f,S),_===null?P=T:_.sibling=T,_=T,N=C}if(S===x.length)return r(g,N),le&&pr(g,S),P;if(N===null){for(;S<x.length;S++)N=h(g,x[S],b),N!==null&&(f=i(N,f,S),_===null?P=N:_.sibling=N,_=N);return le&&pr(g,S),P}for(N=n(g,N);S<x.length;S++)C=p(N,g,S,x[S],b),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?S:C.key),f=i(C,f,S),_===null?P=C:_.sibling=C,_=C);return e&&N.forEach(function($){return t(g,$)}),le&&pr(g,S),P}function v(g,f,x,b){var P=En(x);if(typeof P!="function")throw Error(z(150));if(x=P.call(x),x==null)throw Error(z(151));for(var _=P=null,N=f,S=f=0,C=null,T=x.next();N!==null&&!T.done;S++,T=x.next()){N.index>S?(C=N,N=null):C=N.sibling;var $=m(g,N,T.value,b);if($===null){N===null&&(N=C);break}e&&N&&$.alternate===null&&t(g,N),f=i($,f,S),_===null?P=$:_.sibling=$,_=$,N=C}if(T.done)return r(g,N),le&&pr(g,S),P;if(N===null){for(;!T.done;S++,T=x.next())T=h(g,T.value,b),T!==null&&(f=i(T,f,S),_===null?P=T:_.sibling=T,_=T);return le&&pr(g,S),P}for(N=n(g,N);!T.done;S++,T=x.next())T=p(N,g,S,T.value,b),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?S:T.key),f=i(T,f,S),_===null?P=T:_.sibling=T,_=T);return e&&N.forEach(function(A){return t(g,A)}),le&&pr(g,S),P}function k(g,f,x,b){if(typeof x=="object"&&x!==null&&x.type===qr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Rs:e:{for(var P=x.key,_=f;_!==null;){if(_.key===P){if(P=x.type,P===qr){if(_.tag===7){r(g,_.sibling),f=s(_,x.props.children),f.return=g,g=f;break e}}else if(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Bt&&ru(P)===_.type){r(g,_.sibling),f=s(_,x.props),f.ref=On(g,_,x),f.return=g,g=f;break e}r(g,_);break}else t(g,_);_=_.sibling}x.type===qr?(f=Nr(x.props.children,g.mode,b,x.key),f.return=g,g=f):(b=fa(x.type,x.key,x.props,null,g.mode,b),b.ref=On(g,f,x),b.return=g,g=b)}return o(g);case Hr:e:{for(_=x.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){r(g,f.sibling),f=s(f,x.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=Gi(x,g.mode,b),f.return=g,g=f}return o(g);case Bt:return _=x._init,k(g,f,_(x._payload),b)}if(Dn(x))return w(g,f,x,b);if(En(x))return v(g,f,x,b);qs(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,x),f.return=g,g=f):(r(g,f),f=Wi(x,g.mode,b),f.return=g,g=f),o(g)):r(g,f)}return k}var mn=Nh(!0),Sh=Nh(!1),Pa=dr(null),Ta=null,Zr=null,Ol=null;function Rl(){Ol=Zr=Ta=null}function Al(e){var t=Pa.current;ie(Pa),e._currentValue=t}function Lo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function on(e,t){Ta=e,Ol=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(Ol!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(Ta===null)throw Error(z(308));Zr=e,Ta.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var kr=null;function Ml(e){kr===null?kr=[e]:kr.push(e)}function Ch(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ml(t)):(r.next=s.next,s.next=r),t.interleaved=r,Rt(e,n)}function Rt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vt=!1;function Il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,X&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Rt(e,r)}return s=n.interleaved,s===null?(t.next=t,Ml(n)):(t.next=s.next,s.next=t),n.interleaved=t,Rt(e,r)}function oa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kl(e,r)}}function nu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function $a(e,t,r,n){var s=e.updateQueue;Vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(m=t,p=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(p,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,m=typeof w=="function"?w.call(p,h,m):w,m==null)break e;h=fe({},h,m);break e;case 2:Vt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Pr|=o,e.lanes=o,e.memoizedState=h}}function su(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(z(191,s));s.call(n)}}}var Ps={},jt=dr(Ps),fs=dr(Ps),ms=dr(Ps);function jr(e){if(e===Ps)throw Error(z(174));return e}function zl(e,t){switch(se(ms,t),se(fs,e),se(jt,Ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ho(t,e)}ie(jt),se(jt,t)}function gn(){ie(jt),ie(fs),ie(ms)}function Ph(e){jr(ms.current);var t=jr(jt.current),r=ho(t,e.type);t!==r&&(se(fs,e),se(jt,r))}function Dl(e){fs.current===e&&(ie(jt),ie(fs))}var ue=dr(0);function La(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fi=[];function Fl(){for(var e=0;e<Fi.length;e++)Fi[e]._workInProgressVersionPrimary=null;Fi.length=0}var la=It.ReactCurrentDispatcher,Ui=It.ReactCurrentBatchConfig,Er=0,de=null,we=null,je=null,Oa=!1,Yn=!1,gs=0,Eg=0;function Ee(){throw Error(z(321))}function Ul(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pt(e[r],t[r]))return!1;return!0}function Bl(e,t,r,n,s,i){if(Er=i,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=e===null||e.memoizedState===null?Lg:Og,e=r(n,s),Yn){i=0;do{if(Yn=!1,gs=0,25<=i)throw Error(z(301));i+=1,je=we=null,t.updateQueue=null,la.current=Rg,e=r(n,s)}while(Yn)}if(la.current=Ra,t=we!==null&&we.next!==null,Er=0,je=we=de=null,Oa=!1,t)throw Error(z(300));return e}function Vl(){var e=gs!==0;return gs=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?de.memoizedState=je=e:je=je.next=e,je}function ot(){if(we===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=je===null?de.memoizedState:je.next;if(t!==null)je=t,we=e;else{if(e===null)throw Error(z(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},je===null?de.memoizedState=je=e:je=je.next=e}return je}function ps(e,t){return typeof t=="function"?t(e):t}function Bi(e){var t=ot(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=we,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Er&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,de.lanes|=d,Pr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,pt(n,t.memoizedState)||(Ue=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,de.lanes|=i,Pr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vi(e){var t=ot(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);pt(i,t.memoizedState)||(Ue=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Th(){}function $h(e,t){var r=de,n=ot(),s=t(),i=!pt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ue=!0),n=n.queue,Hl(Rh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||je!==null&&je.memoizedState.tag&1){if(r.flags|=2048,ys(9,Oh.bind(null,r,n,s,t),void 0,null),_e===null)throw Error(z(349));Er&30||Lh(r,t,s)}return s}function Lh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Oh(e,t,r,n){t.value=r,t.getSnapshot=n,Ah(t)&&Mh(e)}function Rh(e,t,r){return r(function(){Ah(t)&&Mh(e)})}function Ah(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pt(e,r)}catch{return!0}}function Mh(e){var t=Rt(e,1);t!==null&&gt(t,e,1,-1)}function au(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t.queue=e,e=e.dispatch=$g.bind(null,de,e),[t.memoizedState,e]}function ys(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ih(){return ot().memoizedState}function ca(e,t,r,n){var s=vt();de.flags|=e,s.memoizedState=ys(1|t,r,void 0,n===void 0?null:n)}function Za(e,t,r,n){var s=ot();n=n===void 0?null:n;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,n!==null&&Ul(n,o.deps)){s.memoizedState=ys(t,r,i,n);return}}de.flags|=e,s.memoizedState=ys(1|t,r,i,n)}function iu(e,t){return ca(8390656,8,e,t)}function Hl(e,t){return Za(2048,8,e,t)}function zh(e,t){return Za(4,2,e,t)}function Dh(e,t){return Za(4,4,e,t)}function Fh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uh(e,t,r){return r=r!=null?r.concat([e]):null,Za(4,4,Fh.bind(null,t,e),r)}function ql(){}function Bh(e,t){var r=ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ul(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vh(e,t){var r=ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ul(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hh(e,t,r){return Er&21?(pt(r,t)||(r=Kd(),de.lanes|=r,Pr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=r)}function Pg(e,t){var r=Z;Z=r!==0&&4>r?r:4,e(!0);var n=Ui.transition;Ui.transition={};try{e(!1),t()}finally{Z=r,Ui.transition=n}}function qh(){return ot().memoizedState}function Tg(e,t,r){var n=sr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wh(e))Gh(t,r);else if(r=Ch(e,t,r,n),r!==null){var s=Re();gt(r,e,n,s),Yh(r,t,n)}}function $g(e,t,r){var n=sr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wh(e))Gh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,pt(l,o)){var c=t.interleaved;c===null?(s.next=s,Ml(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ch(e,t,s,n),r!==null&&(s=Re(),gt(r,e,n,s),Yh(r,t,n))}}function Wh(e){var t=e.alternate;return e===de||t!==null&&t===de}function Gh(e,t){Yn=Oa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kl(e,r)}}var Ra={readContext:it,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Lg={readContext:it,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:iu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ca(4194308,4,Fh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return ca(4,2,e,t)},useMemo:function(e,t){var r=vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Tg.bind(null,de,e),[n.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:au,useDebugValue:ql,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=au(!1),t=e[0];return e=Pg.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=de,s=vt();if(le){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),_e===null)throw Error(z(349));Er&30||Lh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,iu(Rh.bind(null,n,i,e),[e]),n.flags|=2048,ys(9,Oh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=vt(),t=_e.identifierPrefix;if(le){var r=Tt,n=Pt;r=(n&~(1<<32-mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Eg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Og={readContext:it,useCallback:Bh,useContext:it,useEffect:Hl,useImperativeHandle:Uh,useInsertionEffect:zh,useLayoutEffect:Dh,useMemo:Vh,useReducer:Bi,useRef:Ih,useState:function(){return Bi(ps)},useDebugValue:ql,useDeferredValue:function(e){var t=ot();return Hh(t,we.memoizedState,e)},useTransition:function(){var e=Bi(ps)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Th,useSyncExternalStore:$h,useId:qh,unstable_isNewReconciler:!1},Rg={readContext:it,useCallback:Bh,useContext:it,useEffect:Hl,useImperativeHandle:Uh,useInsertionEffect:zh,useLayoutEffect:Dh,useMemo:Vh,useReducer:Vi,useRef:Ih,useState:function(){return Vi(ps)},useDebugValue:ql,useDeferredValue:function(e){var t=ot();return we===null?t.memoizedState=e:Hh(t,we.memoizedState,e)},useTransition:function(){var e=Vi(ps)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Th,useSyncExternalStore:$h,useId:qh,unstable_isNewReconciler:!1};function ut(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Oo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ei={isMounted:function(e){return(e=e._reactInternals)?Lr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Re(),s=sr(e),i=$t(n,s);i.payload=t,r!=null&&(i.callback=r),t=rr(e,i,s),t!==null&&(gt(t,e,s,n),oa(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Re(),s=sr(e),i=$t(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=rr(e,i,s),t!==null&&(gt(t,e,s,n),oa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Re(),n=sr(e),s=$t(r,n);s.tag=2,t!=null&&(s.callback=t),t=rr(e,s,n),t!==null&&(gt(t,e,n,r),oa(t,e,n))}};function ou(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!cs(r,n)||!cs(s,i):!0}function Kh(e,t,r){var n=!1,s=cr,i=t.contextType;return typeof i=="object"&&i!==null?i=it(i):(s=Ve(t)?Sr:$e.current,n=t.contextTypes,i=(n=n!=null)?hn(e,s):cr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ei,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ei.enqueueReplaceState(t,t.state,null)}function Ro(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Il(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=it(i):(i=Ve(t)?Sr:$e.current,s.context=hn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Oo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ei.enqueueReplaceState(s,s.state,null),$a(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pn(e,t){try{var r="",n=t;do r+=lm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Hi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ao(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ag=typeof WeakMap=="function"?WeakMap:Map;function Jh(e,t,r){r=$t(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ma||(Ma=!0,qo=n),Ao(e,t)},r}function Qh(e,t,r){r=$t(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ao(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ao(e,t),typeof n!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function cu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ag;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Kg.bind(null,e,t,r),t.then(e,e))}function uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function du(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$t(-1,1),t.tag=2,rr(r,t,1))),r.lanes|=1),e)}var Mg=It.ReactCurrentOwner,Ue=!1;function Oe(e,t,r,n){t.child=e===null?Sh(t,null,r,n):mn(t,e.child,r,n)}function hu(e,t,r,n,s){r=r.render;var i=t.ref;return on(t,s),n=Bl(e,t,r,n,i,s),r=Vl(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(le&&r&&Tl(t),t.flags|=1,Oe(e,t,n,s),t.child)}function fu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Zl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Xh(e,t,i,n,s)):(e=fa(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:cs,r(o,n)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=ar(i,n),e.ref=t.ref,e.return=t,t.child=e}function Xh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(cs(i,n)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,At(e,t,s)}return Mo(e,t,r,n,s)}function Zh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(tn,Ke),Ke|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(tn,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,se(tn,Ke),Ke|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,se(tn,Ke),Ke|=n;return Oe(e,t,s,r),t.child}function ef(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mo(e,t,r,n,s){var i=Ve(r)?Sr:$e.current;return i=hn(t,i),on(t,s),r=Bl(e,t,r,n,i,s),n=Vl(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(le&&n&&Tl(t),t.flags|=1,Oe(e,t,r,s),t.child)}function mu(e,t,r,n,s){if(Ve(r)){var i=!0;Sa(t)}else i=!1;if(on(t,s),t.stateNode===null)ua(e,t),Kh(t,r,n),Ro(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=it(u):(u=Ve(r)?Sr:$e.current,u=hn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&lu(t,o,n,u),Vt=!1;var m=t.memoizedState;o.state=m,$a(t,n,o,s),c=t.memoizedState,l!==n||m!==c||Be.current||Vt?(typeof d=="function"&&(Oo(t,r,d,n),c=t.memoizedState),(l=Vt||ou(t,r,l,n,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Eh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ut(t.type,l),o.props=u,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=it(c):(c=Ve(r)?Sr:$e.current,c=hn(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&lu(t,o,n,c),Vt=!1,m=t.memoizedState,o.state=m,$a(t,n,o,s);var w=t.memoizedState;l!==h||m!==w||Be.current||Vt?(typeof p=="function"&&(Oo(t,r,p,n),w=t.memoizedState),(u=Vt||ou(t,r,u,n,m,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Io(e,t,r,n,i,s)}function Io(e,t,r,n,s,i){ef(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Zc(t,r,!1),At(e,t,i);n=t.stateNode,Mg.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=mn(t,e.child,null,i),t.child=mn(t,null,l,i)):Oe(e,t,l,i),t.memoizedState=n.state,s&&Zc(t,r,!0),t.child}function tf(e){var t=e.stateNode;t.pendingContext?Xc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xc(e,t.context,!1),zl(e,t.containerInfo)}function gu(e,t,r,n,s){return fn(),Ll(s),t.flags|=256,Oe(e,t,r,n),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function rf(e,t,r){var n=t.pendingProps,s=ue.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),se(ue,s&1),e===null)return $o(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ni(o,n,0,null),e=Nr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Do(r),t.memoizedState=zo,e):Wl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ig(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ar(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ar(l,i):(i=Nr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Do(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=zo,n}return i=e.child,e=i.sibling,n=ar(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Wl(e,t){return t=ni({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,r,n){return n!==null&&Ll(n),mn(t,e.child,null,r),e=Wl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ig(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Hi(Error(z(422))),Ws(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ni({mode:"visible",children:n.children},s,0,null),i=Nr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&mn(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=zo,i);if(!(t.mode&1))return Ws(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(z(419)),n=Hi(i,n,void 0),Ws(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ue||l){if(n=_e,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rt(e,s),gt(n,e,s,-1))}return Xl(),n=Hi(Error(z(421))),Ws(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Jg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Je=tr(s.nextSibling),Qe=t,le=!0,ft=null,e!==null&&(rt[nt++]=Pt,rt[nt++]=Tt,rt[nt++]=Cr,Pt=e.id,Tt=e.overflow,Cr=t),t=Wl(t,n.children),t.flags|=4096,t)}function pu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lo(e.return,t,r)}function qi(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function nf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Oe(e,t,n.children,r),n=ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pu(e,r,t);else if(e.tag===19)pu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(se(ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&La(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),qi(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&La(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}qi(t,!0,r,null,i);break;case"together":qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ua(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zg(e,t,r){switch(t.tag){case 3:tf(t),fn();break;case 5:Ph(t);break;case 1:Ve(t.type)&&Sa(t);break;case 4:zl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;se(Pa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(se(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?rf(e,t,r):(se(ue,ue.current&1),e=At(e,t,r),e!==null?e.sibling:null);se(ue,ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return nf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(ue,ue.current),n)break;return null;case 22:case 23:return t.lanes=0,Zh(e,t,r)}return At(e,t,r)}var sf,Fo,af,of;sf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fo=function(){};af=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,jr(jt.current);var i=null;switch(r){case"input":s=oo(e,s),n=oo(e,n),i=[];break;case"select":s=fe({},s,{value:void 0}),n=fe({},n,{value:void 0}),i=[];break;case"textarea":s=uo(e,s),n=uo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_a)}fo(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ae("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};of=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rn(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Dg(e,t,r){var n=t.pendingProps;switch($l(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Ve(t.type)&&Na(),Pe(t),null;case 3:return n=t.stateNode,gn(),ie(Be),ie($e),Fl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Yo(ft),ft=null))),Fo(e,t),Pe(t),null;case 5:Dl(t);var s=jr(ms.current);if(r=t.type,e!==null&&t.stateNode!=null)af(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(z(166));return Pe(t),null}if(e=jr(jt.current),Hs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wt]=t,n[hs]=i,e=(t.mode&1)!==0,r){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(s=0;s<Un.length;s++)ae(Un[s],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":Nc(n,i),ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ae("invalid",n);break;case"textarea":Cc(n,i),ae("invalid",n)}fo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Vs(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Vs(n.textContent,l,e),s=["children",""+l]):rs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",n)}switch(r){case"input":As(n),Sc(n,i,!0);break;case"textarea":As(n),Ec(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_a)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[wt]=t,e[hs]=n,sf(e,t,!1,!1),t.stateNode=e;e:{switch(o=mo(r,n),r){case"dialog":ae("cancel",e),ae("close",e),s=n;break;case"iframe":case"object":case"embed":ae("load",e),s=n;break;case"video":case"audio":for(s=0;s<Un.length;s++)ae(Un[s],e);s=n;break;case"source":ae("error",e),s=n;break;case"img":case"image":case"link":ae("error",e),ae("load",e),s=n;break;case"details":ae("toggle",e),s=n;break;case"input":Nc(e,n),s=oo(e,n),ae("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=fe({},n,{value:void 0}),ae("invalid",e);break;case"textarea":Cc(e,n),s=uo(e,n),ae("invalid",e);break;default:s=n}fo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Id(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ad(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ns(e,c):typeof c=="number"&&ns(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ae("scroll",e):c!=null&&pl(e,i,c,o))}switch(r){case"input":As(e),Sc(e,n,!1);break;case"textarea":As(e),Ec(e);break;case"option":n.value!=null&&e.setAttribute("value",""+lr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?rn(e,!!n.multiple,i,!1):n.defaultValue!=null&&rn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_a)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)of(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(z(166));if(r=jr(ms.current),jr(jt.current),Hs(t)){if(n=t.stateNode,r=t.memoizedProps,n[wt]=t,(i=n.nodeValue!==r)&&(e=Qe,e!==null))switch(e.tag){case 3:Vs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wt]=t,t.stateNode=n}return Pe(t),null;case 13:if(ie(ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&Je!==null&&t.mode&1&&!(t.flags&128))_h(),fn(),t.flags|=98560,i=!1;else if(i=Hs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[wt]=t}else fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),i=!1}else ft!==null&&(Yo(ft),ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?be===0&&(be=3):Xl())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return gn(),Fo(e,t),e===null&&us(t.stateNode.containerInfo),Pe(t),null;case 10:return Al(t.type._context),Pe(t),null;case 17:return Ve(t.type)&&Na(),Pe(t),null;case 19:if(ie(ue),i=t.memoizedState,i===null)return Pe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Rn(i,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=La(e),o!==null){for(t.flags|=128,Rn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>yn&&(t.flags|=128,n=!0,Rn(i,!1),t.lanes=4194304)}else{if(!n)if(e=La(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!le)return Pe(t),null}else 2*pe()-i.renderingStartTime>yn&&r!==1073741824&&(t.flags|=128,n=!0,Rn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,r=ue.current,se(ue,n?r&1|2:r&1),t):(Pe(t),null);case 22:case 23:return Ql(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ke&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function Fg(e,t){switch($l(t),t.tag){case 1:return Ve(t.type)&&Na(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gn(),ie(Be),ie($e),Fl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dl(t),null;case 13:if(ie(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ue),null;case 4:return gn(),null;case 10:return Al(t.type._context),null;case 22:case 23:return Ql(),null;case 24:return null;default:return null}}var Gs=!1,Te=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,H=null;function en(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){me(e,t,n)}else r.current=null}function Uo(e,t,r){try{r()}catch(n){me(e,t,n)}}var yu=!1;function Bg(e,t){if(_o=ba,e=dh(),Pl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(No={focusedElem:e,selectionRange:r},ba=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,k=w.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:ut(t.type,v),k);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(b){me(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return w=yu,yu=!1,w}function Kn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Uo(t,r,i)}s=s.next}while(s!==n)}}function ti(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Bo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[hs],delete t[Eo],delete t[_g],delete t[Ng])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cf(e){return e.tag===5||e.tag===3||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_a));else if(n!==4&&(e=e.child,e!==null))for(Vo(e,t,r),e=e.sibling;e!==null;)Vo(e,t,r),e=e.sibling}function Ho(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ho(e,t,r),e=e.sibling;e!==null;)Ho(e,t,r),e=e.sibling}var Ne=null,dt=!1;function Dt(e,t,r){for(r=r.child;r!==null;)uf(e,t,r),r=r.sibling}function uf(e,t,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Ga,r)}catch{}switch(r.tag){case 5:Te||en(r,t);case 6:var n=Ne,s=dt;Ne=null,Dt(e,t,r),Ne=n,dt=s,Ne!==null&&(dt?(e=Ne,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ne.removeChild(r.stateNode));break;case 18:Ne!==null&&(dt?(e=Ne,r=r.stateNode,e.nodeType===8?zi(e.parentNode,r):e.nodeType===1&&zi(e,r),os(e)):zi(Ne,r.stateNode));break;case 4:n=Ne,s=dt,Ne=r.stateNode.containerInfo,dt=!0,Dt(e,t,r),Ne=n,dt=s;break;case 0:case 11:case 14:case 15:if(!Te&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Uo(r,t,o),s=s.next}while(s!==n)}Dt(e,t,r);break;case 1:if(!Te&&(en(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){me(r,t,l)}Dt(e,t,r);break;case 21:Dt(e,t,r);break;case 22:r.mode&1?(Te=(n=Te)||r.memoizedState!==null,Dt(e,t,r),Te=n):Dt(e,t,r);break;default:Dt(e,t,r)}}function vu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ug),t.forEach(function(n){var s=Qg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ct(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ne=l.stateNode,dt=!1;break e;case 3:Ne=l.stateNode.containerInfo,dt=!0;break e;case 4:Ne=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(Ne===null)throw Error(z(160));uf(i,o,s),Ne=null,dt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)df(t,e),t=t.sibling}function df(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),yt(e),n&4){try{Kn(3,e,e.return),ti(3,e)}catch(v){me(e,e.return,v)}try{Kn(5,e,e.return)}catch(v){me(e,e.return,v)}}break;case 1:ct(t,e),yt(e),n&512&&r!==null&&en(r,r.return);break;case 5:if(ct(t,e),yt(e),n&512&&r!==null&&en(r,r.return),e.flags&32){var s=e.stateNode;try{ns(s,"")}catch(v){me(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ld(s,i),mo(l,o);var u=mo(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Id(s,h):d==="dangerouslySetInnerHTML"?Ad(s,h):d==="children"?ns(s,h):pl(s,d,h,u)}switch(l){case"input":lo(s,i);break;case"textarea":Od(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?rn(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?rn(s,!!i.multiple,i.defaultValue,!0):rn(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch(v){me(e,e.return,v)}}break;case 6:if(ct(t,e),yt(e),n&4){if(e.stateNode===null)throw Error(z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){me(e,e.return,v)}}break;case 3:if(ct(t,e),yt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{os(t.containerInfo)}catch(v){me(e,e.return,v)}break;case 4:ct(t,e),yt(e);break;case 13:ct(t,e),yt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Kl=pe())),n&4&&vu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Te=(u=Te)||d,ct(t,e),Te=u):ct(t,e),yt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(h=H=d;H!==null;){switch(m=H,p=m.child,m.tag){case 0:case 11:case 14:case 15:Kn(4,m,m.return);break;case 1:en(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){me(n,r,v)}}break;case 5:en(m,m.return);break;case 22:if(m.memoizedState!==null){bu(h);continue}}p!==null?(p.return=m,H=p):bu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Md("display",o))}catch(v){me(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){me(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ct(t,e),yt(e),n&4&&vu(e);break;case 21:break;default:ct(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cf(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ns(s,""),n.flags&=-33);var i=xu(e);Ho(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=xu(e);Vo(e,l,o);break;default:throw Error(z(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vg(e,t,r){H=e,hf(e)}function hf(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Gs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Te;l=Gs;var u=Te;if(Gs=o,(Te=c)&&!u)for(H=s;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?ku(s):c!==null?(c.return=o,H=c):ku(s);for(;i!==null;)H=i,hf(i),i=i.sibling;H=s,Gs=l,Te=u}wu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):wu(e)}}function wu(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||ti(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Te)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ut(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&su(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}su(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&os(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Te||t.flags&512&&Bo(t)}catch(m){me(t,t.return,m)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function bu(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function ku(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ti(4,t)}catch(c){me(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){me(t,s,c)}}var i=t.return;try{Bo(t)}catch(c){me(t,i,c)}break;case 5:var o=t.return;try{Bo(t)}catch(c){me(t,o,c)}}}catch(c){me(t,t.return,c)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var Hg=Math.ceil,Aa=It.ReactCurrentDispatcher,Gl=It.ReactCurrentOwner,at=It.ReactCurrentBatchConfig,X=0,_e=null,ye=null,Se=0,Ke=0,tn=dr(0),be=0,xs=null,Pr=0,ri=0,Yl=0,Jn=null,De=null,Kl=0,yn=1/0,St=null,Ma=!1,qo=null,nr=null,Ys=!1,Jt=null,Ia=0,Qn=0,Wo=null,da=-1,ha=0;function Re(){return X&6?pe():da!==-1?da:da=pe()}function sr(e){return e.mode&1?X&2&&Se!==0?Se&-Se:Cg.transition!==null?(ha===0&&(ha=Kd()),ha):(e=Z,e!==0||(e=window.event,e=e===void 0?16:rh(e.type)),e):1}function gt(e,t,r,n){if(50<Qn)throw Qn=0,Wo=null,Error(z(185));Ss(e,r,n),(!(X&2)||e!==_e)&&(e===_e&&(!(X&2)&&(ri|=r),be===4&&Wt(e,Se)),He(e,n),r===1&&X===0&&!(t.mode&1)&&(yn=pe()+500,Xa&&hr()))}function He(e,t){var r=e.callbackNode;Cm(e,t);var n=wa(e,e===_e?Se:0);if(n===0)r!==null&&$c(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$c(r),t===1)e.tag===0?Sg(ju.bind(null,e)):bh(ju.bind(null,e)),kg(function(){!(X&6)&&hr()}),r=null;else{switch(Jd(n)){case 1:r=bl;break;case 4:r=Gd;break;case 16:r=va;break;case 536870912:r=Yd;break;default:r=va}r=wf(r,ff.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ff(e,t){if(da=-1,ha=0,X&6)throw Error(z(327));var r=e.callbackNode;if(ln()&&e.callbackNode!==r)return null;var n=wa(e,e===_e?Se:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=za(e,n);else{t=n;var s=X;X|=2;var i=gf();(_e!==e||Se!==t)&&(St=null,yn=pe()+500,_r(e,t));do try{Gg();break}catch(l){mf(e,l)}while(!0);Rl(),Aa.current=i,X=s,ye!==null?t=0:(_e=null,Se=0,t=be)}if(t!==0){if(t===2&&(s=vo(e),s!==0&&(n=s,t=Go(e,s))),t===1)throw r=xs,_r(e,0),Wt(e,n),He(e,pe()),r;if(t===6)Wt(e,n);else{if(s=e.current.alternate,!(n&30)&&!qg(s)&&(t=za(e,n),t===2&&(i=vo(e),i!==0&&(n=i,t=Go(e,i))),t===1))throw r=xs,_r(e,0),Wt(e,n),He(e,pe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(z(345));case 2:yr(e,De,St);break;case 3:if(Wt(e,n),(n&130023424)===n&&(t=Kl+500-pe(),10<t)){if(wa(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Co(yr.bind(null,e,De,St),t);break}yr(e,De,St);break;case 4:if(Wt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-mt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hg(n/1960))-n,10<n){e.timeoutHandle=Co(yr.bind(null,e,De,St),n);break}yr(e,De,St);break;case 5:yr(e,De,St);break;default:throw Error(z(329))}}}return He(e,pe()),e.callbackNode===r?ff.bind(null,e):null}function Go(e,t){var r=Jn;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=za(e,t),e!==2&&(t=De,De=r,t!==null&&Yo(t)),e}function Yo(e){De===null?De=e:De.push.apply(De,e)}function qg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!pt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~Yl,t&=~ri,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mt(t),n=1<<r;e[r]=-1,t&=~n}}function ju(e){if(X&6)throw Error(z(327));ln();var t=wa(e,0);if(!(t&1))return He(e,pe()),null;var r=za(e,t);if(e.tag!==0&&r===2){var n=vo(e);n!==0&&(t=n,r=Go(e,n))}if(r===1)throw r=xs,_r(e,0),Wt(e,t),He(e,pe()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,De,St),He(e,pe()),null}function Jl(e,t){var r=X;X|=1;try{return e(t)}finally{X=r,X===0&&(yn=pe()+500,Xa&&hr())}}function Tr(e){Jt!==null&&Jt.tag===0&&!(X&6)&&ln();var t=X;X|=1;var r=at.transition,n=Z;try{if(at.transition=null,Z=1,e)return e()}finally{Z=n,at.transition=r,X=t,!(X&6)&&hr()}}function Ql(){Ke=tn.current,ie(tn)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bg(r)),ye!==null)for(r=ye.return;r!==null;){var n=r;switch($l(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Na();break;case 3:gn(),ie(Be),ie($e),Fl();break;case 5:Dl(n);break;case 4:gn();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:Al(n.type._context);break;case 22:case 23:Ql()}r=r.return}if(_e=e,ye=e=ar(e.current,null),Se=Ke=t,be=0,xs=null,Yl=ri=Pr=0,De=Jn=null,kr!==null){for(t=0;t<kr.length;t++)if(r=kr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}kr=null}return e}function mf(e,t){do{var r=ye;try{if(Rl(),la.current=Ra,Oa){for(var n=de.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Oa=!1}if(Er=0,je=we=de=null,Yn=!1,gs=0,Gl.current=null,r===null||r.return===null){be=1,xs=t,ye=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=uu(o);if(p!==null){p.flags&=-257,du(p,o,l,i,t),p.mode&1&&cu(i,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){cu(i,u,t),Xl();break e}c=Error(z(426))}}else if(le&&l.mode&1){var k=uu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),du(k,o,l,i,t),Ll(pn(c,l));break e}}i=c=pn(c,l),be!==4&&(be=2),Jn===null?Jn=[i]:Jn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Jh(i,c,t);nu(i,g);break e;case 1:l=c;var f=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(nr===null||!nr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Qh(i,l,t);nu(i,b);break e}}i=i.return}while(i!==null)}yf(r)}catch(P){t=P,ye===r&&r!==null&&(ye=r=r.return);continue}break}while(!0)}function gf(){var e=Aa.current;return Aa.current=Ra,e===null?Ra:e}function Xl(){(be===0||be===3||be===2)&&(be=4),_e===null||!(Pr&268435455)&&!(ri&268435455)||Wt(_e,Se)}function za(e,t){var r=X;X|=2;var n=gf();(_e!==e||Se!==t)&&(St=null,_r(e,t));do try{Wg();break}catch(s){mf(e,s)}while(!0);if(Rl(),X=r,Aa.current=n,ye!==null)throw Error(z(261));return _e=null,Se=0,be}function Wg(){for(;ye!==null;)pf(ye)}function Gg(){for(;ye!==null&&!xm();)pf(ye)}function pf(e){var t=vf(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?yf(e):ye=t,Gl.current=null}function yf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Fg(r,t),r!==null){r.flags&=32767,ye=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ye=null;return}}else if(r=Dg(r,t,Ke),r!==null){ye=r;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);be===0&&(be=5)}function yr(e,t,r){var n=Z,s=at.transition;try{at.transition=null,Z=1,Yg(e,t,r,n)}finally{at.transition=s,Z=n}return null}function Yg(e,t,r,n){do ln();while(Jt!==null);if(X&6)throw Error(z(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Em(e,i),e===_e&&(ye=_e=null,Se=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ys||(Ys=!0,wf(va,function(){return ln(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=at.transition,at.transition=null;var o=Z;Z=1;var l=X;X|=4,Gl.current=null,Bg(e,r),df(r,e),mg(No),ba=!!_o,No=_o=null,e.current=r,Vg(r),vm(),X=l,Z=o,at.transition=i}else e.current=r;if(Ys&&(Ys=!1,Jt=e,Ia=s),i=e.pendingLanes,i===0&&(nr=null),km(r.stateNode),He(e,pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ma)throw Ma=!1,e=qo,qo=null,e;return Ia&1&&e.tag!==0&&ln(),i=e.pendingLanes,i&1?e===Wo?Qn++:(Qn=0,Wo=e):Qn=0,hr(),null}function ln(){if(Jt!==null){var e=Jd(Ia),t=at.transition,r=Z;try{if(at.transition=null,Z=16>e?16:e,Jt===null)var n=!1;else{if(e=Jt,Jt=null,Ia=0,X&6)throw Error(z(331));var s=X;for(X|=4,H=e.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Kn(8,d,i)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var m=d.sibling,p=d.return;if(lf(d),d===u){H=null;break}if(m!==null){m.return=p,H=m;break}H=p}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,H=g;break e}H=i.return}}var f=e.current;for(H=f;H!==null;){o=H;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,H=x;else e:for(o=f;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ti(9,l)}}catch(P){me(l,l.return,P)}if(l===o){H=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,H=b;break e}H=l.return}}if(X=s,hr(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Ga,e)}catch{}n=!0}return n}finally{Z=r,at.transition=t}}return!1}function _u(e,t,r){t=pn(r,t),t=Jh(e,t,1),e=rr(e,t,1),t=Re(),e!==null&&(Ss(e,1,t),He(e,t))}function me(e,t,r){if(e.tag===3)_u(e,e,r);else for(;t!==null;){if(t.tag===3){_u(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nr===null||!nr.has(n))){e=pn(r,e),e=Qh(t,e,1),t=rr(t,e,1),e=Re(),t!==null&&(Ss(t,1,e),He(t,e));break}}t=t.return}}function Kg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(Se&r)===r&&(be===4||be===3&&(Se&130023424)===Se&&500>pe()-Kl?_r(e,0):Yl|=r),He(e,t)}function xf(e,t){t===0&&(e.mode&1?(t=zs,zs<<=1,!(zs&130023424)&&(zs=4194304)):t=1);var r=Re();e=Rt(e,t),e!==null&&(Ss(e,t,r),He(e,r))}function Jg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xf(e,r)}function Qg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(t),xf(e,r)}var vf;vf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)Ue=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ue=!1,zg(e,t,r);Ue=!!(e.flags&131072)}else Ue=!1,le&&t.flags&1048576&&kh(t,Ea,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ua(e,t),e=t.pendingProps;var s=hn(t,$e.current);on(t,r),s=Bl(null,t,n,e,s,r);var i=Vl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(n)?(i=!0,Sa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Il(t),s.updater=ei,t.stateNode=s,s._reactInternals=t,Ro(t,n,e,r),t=Io(null,t,n,!0,i,r)):(t.tag=0,le&&i&&Tl(t),Oe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ua(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Zg(n),e=ut(n,e),s){case 0:t=Mo(null,t,n,e,r);break e;case 1:t=mu(null,t,n,e,r);break e;case 11:t=hu(null,t,n,e,r);break e;case 14:t=fu(null,t,n,ut(n.type,e),r);break e}throw Error(z(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),Mo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),mu(e,t,n,s,r);case 3:e:{if(tf(t),e===null)throw Error(z(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Eh(e,t),$a(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=pn(Error(z(423)),t),t=gu(e,t,n,r,s);break e}else if(n!==s){s=pn(Error(z(424)),t),t=gu(e,t,n,r,s);break e}else for(Je=tr(t.stateNode.containerInfo.firstChild),Qe=t,le=!0,ft=null,r=Sh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fn(),n===s){t=At(e,t,r);break e}Oe(e,t,n,r)}t=t.child}return t;case 5:return Ph(t),e===null&&$o(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,So(n,s)?o=null:i!==null&&So(n,i)&&(t.flags|=32),ef(e,t),Oe(e,t,o,r),t.child;case 6:return e===null&&$o(t),null;case 13:return rf(e,t,r);case 4:return zl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=mn(t,null,n,r):Oe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),hu(e,t,n,s,r);case 7:return Oe(e,t,t.pendingProps,r),t.child;case 8:return Oe(e,t,t.pendingProps.children,r),t.child;case 12:return Oe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,se(Pa,n._currentValue),n._currentValue=o,i!==null)if(pt(i.value,o)){if(i.children===s.children&&!Be.current){t=At(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=$t(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Lo(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Lo(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,on(t,r),s=it(s),n=n(s),t.flags|=1,Oe(e,t,n,r),t.child;case 14:return n=t.type,s=ut(n,t.pendingProps),s=ut(n.type,s),fu(e,t,n,s,r);case 15:return Xh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),ua(e,t),t.tag=1,Ve(n)?(e=!0,Sa(t)):e=!1,on(t,r),Kh(t,n,s),Ro(t,n,s,r),Io(null,t,n,!0,e,r);case 19:return nf(e,t,r);case 22:return Zh(e,t,r)}throw Error(z(156,t.tag))};function wf(e,t){return Wd(e,t)}function Xg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,r,n){return new Xg(e,t,r,n)}function Zl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zg(e){if(typeof e=="function")return Zl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xl)return 11;if(e===vl)return 14}return 2}function ar(e,t){var r=e.alternate;return r===null?(r=st(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fa(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Zl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qr:return Nr(r.children,s,i,t);case yl:o=8,s|=8;break;case no:return e=st(12,r,t,s|2),e.elementType=no,e.lanes=i,e;case so:return e=st(13,r,t,s),e.elementType=so,e.lanes=i,e;case ao:return e=st(19,r,t,s),e.elementType=ao,e.lanes=i,e;case Pd:return ni(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cd:o=10;break e;case Ed:o=9;break e;case xl:o=11;break e;case vl:o=14;break e;case Bt:o=16,n=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=st(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Nr(e,t,r,n){return e=st(7,e,n,t),e.lanes=r,e}function ni(e,t,r,n){return e=st(22,e,n,t),e.elementType=Pd,e.lanes=r,e.stateNode={isHidden:!1},e}function Wi(e,t,r){return e=st(6,e,null,t),e.lanes=r,e}function Gi(e,t,r){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ep(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ec(e,t,r,n,s,i,o,l,c){return e=new ep(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=st(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Il(i),e}function tp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function bf(e){if(!e)return cr;e=e._reactInternals;e:{if(Lr(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(Ve(r))return wh(e,r,t)}return t}function kf(e,t,r,n,s,i,o,l,c){return e=ec(r,n,!0,e,s,i,o,l,c),e.context=bf(null),r=e.current,n=Re(),s=sr(r),i=$t(n,s),i.callback=t??null,rr(r,i,s),e.current.lanes=s,Ss(e,s,n),He(e,n),e}function si(e,t,r,n){var s=t.current,i=Re(),o=sr(s);return r=bf(r),t.context===null?t.context=r:t.pendingContext=r,t=$t(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rr(s,t,o),e!==null&&(gt(e,s,o,i),oa(e,s,o)),o}function Da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function tc(e,t){Nu(e,t),(e=e.alternate)&&Nu(e,t)}function rp(){return null}var jf=typeof reportError=="function"?reportError:function(e){console.error(e)};function rc(e){this._internalRoot=e}ai.prototype.render=rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));si(e,t,null,null)};ai.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tr(function(){si(null,e,null,null)}),t[Ot]=null}};function ai(e){this._internalRoot=e}ai.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qt.length&&t!==0&&t<qt[r].priority;r++);qt.splice(r,0,e),r===0&&th(e)}};function nc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Su(){}function np(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Da(o);i.call(u)}}var o=kf(t,n,e,0,null,!1,!1,"",Su);return e._reactRootContainer=o,e[Ot]=o.current,us(e.nodeType===8?e.parentNode:e),Tr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Da(c);l.call(u)}}var c=ec(e,0,!1,null,null,!1,!1,"",Su);return e._reactRootContainer=c,e[Ot]=c.current,us(e.nodeType===8?e.parentNode:e),Tr(function(){si(t,c,r,n)}),c}function oi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Da(o);l.call(c)}}si(t,o,e,s)}else o=np(r,t,e,s,n);return Da(o)}Qd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fn(t.pendingLanes);r!==0&&(kl(t,r|1),He(t,pe()),!(X&6)&&(yn=pe()+500,hr()))}break;case 13:Tr(function(){var n=Rt(e,1);if(n!==null){var s=Re();gt(n,e,1,s)}}),tc(e,1)}};jl=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var r=Re();gt(t,e,134217728,r)}tc(e,134217728)}};Xd=function(e){if(e.tag===13){var t=sr(e),r=Rt(e,t);if(r!==null){var n=Re();gt(r,e,t,n)}tc(e,t)}};Zd=function(){return Z};eh=function(e,t){var r=Z;try{return Z=e,t()}finally{Z=r}};po=function(e,t,r){switch(t){case"input":if(lo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Qa(n);if(!s)throw Error(z(90));$d(n),lo(n,s)}}}break;case"textarea":Od(e,r);break;case"select":t=r.value,t!=null&&rn(e,!!r.multiple,t,!1)}};Fd=Jl;Ud=Tr;var sp={usingClientEntryPoint:!1,Events:[Es,Kr,Qa,zd,Dd,Jl]},An={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ap={bundleType:An.bundleType,version:An.version,rendererPackageName:An.rendererPackageName,rendererConfig:An.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hd(e),e===null?null:e.stateNode},findFiberByHostInstance:An.findFiberByHostInstance||rp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{Ga=Ks.inject(ap),kt=Ks}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sp;Ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nc(t))throw Error(z(200));return tp(e,t,null,r)};Ze.createRoot=function(e,t){if(!nc(e))throw Error(z(299));var r=!1,n="",s=jf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ec(e,1,!1,null,null,r,!1,n,s),e[Ot]=t.current,us(e.nodeType===8?e.parentNode:e),new rc(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Hd(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return Tr(e)};Ze.hydrate=function(e,t,r){if(!ii(t))throw Error(z(200));return oi(null,e,t,!0,r)};Ze.hydrateRoot=function(e,t,r){if(!nc(e))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=jf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=kf(t,null,e,1,r??null,s,!1,i,o),e[Ot]=t.current,us(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ai(t)};Ze.render=function(e,t,r){if(!ii(t))throw Error(z(200));return oi(null,e,t,!1,r)};Ze.unmountComponentAtNode=function(e){if(!ii(e))throw Error(z(40));return e._reactRootContainer?(Tr(function(){oi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};Ze.unstable_batchedUpdates=Jl;Ze.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ii(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return oi(e,t,r,!1,n)};Ze.version="18.3.1-next-f1338f8080-20240426";function _f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_f)}catch(e){console.error(e)}}_f(),jd.exports=Ze;var ip=jd.exports,Cu=ip;ga.createRoot=Cu.createRoot,ga.hydrateRoot=Cu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(this,arguments)}var Qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qt||(Qt={}));const Eu="popstate";function op(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:c=""}=Or(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ko("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Fa(i))}function n(s,i){sc(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return cp(t,r,n,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lp(){return Math.random().toString(36).substr(2,8)}function Pu(e,t){return{usr:e.state,key:e.key,idx:t}}function Ko(e,t,r,n){return r===void 0&&(r=null),vs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Or(t):t,{state:r,key:t&&t.key||n||lp()})}function Fa(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Or(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cp(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Qt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(vs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Qt.Pop;let k=d(),g=k==null?null:k-u;u=k,c&&c({action:l,location:v.location,delta:g})}function m(k,g){l=Qt.Push;let f=Ko(v.location,k,g);r&&r(f,k),u=d()+1;let x=Pu(f,u),b=v.createHref(f);try{o.pushState(x,"",b)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(b)}i&&c&&c({action:l,location:v.location,delta:1})}function p(k,g){l=Qt.Replace;let f=Ko(v.location,k,g);r&&r(f,k),u=d();let x=Pu(f,u),b=v.createHref(f);o.replaceState(x,"",b),i&&c&&c({action:l,location:v.location,delta:0})}function w(k){let g=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof k=="string"?k:Fa(k);return f=f.replace(/ $/,"%20"),he(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let v={get action(){return l},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Eu,h),c=k,()=>{s.removeEventListener(Eu,h),c=null}},createHref(k){return t(s,k)},createURL:w,encodeLocation(k){let g=w(k);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:p,go(k){return o.go(k)}};return v}var Tu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tu||(Tu={}));function up(e,t,r){return r===void 0&&(r="/"),dp(e,t,r)}function dp(e,t,r,n){let s=typeof t=="string"?Or(t):t,i=xn(s.pathname||"/",r);if(i==null)return null;let o=Nf(e);hp(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=jp(i);l=bp(o[c],u)}return l}function Nf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(he(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ir([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(he(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Nf(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:vp(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Sf(i.path))s(i,o,c)}),t}function Sf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Sf(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function hp(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wp(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fp=/^:[\w-]+$/,mp=3,gp=2,pp=1,yp=10,xp=-2,$u=e=>e==="*";function vp(e,t){let r=e.split("/"),n=r.length;return r.some($u)&&(n+=xp),t&&(n+=gp),r.filter(s=>!$u(s)).reduce((s,i)=>s+(fp.test(i)?mp:i===""?pp:yp),n)}function wp(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function bp(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Jo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ir([i,h.pathname]),pathnameBase:Cp(ir([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=ir([i,h.pathnameBase]))}return o}function Jo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=kp(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[h];return p&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function kp(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),sc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function jp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _p(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Or(e):e;return{pathname:r?r.startsWith("/")?r:Np(r,t):t,search:Ep(n),hash:Pp(s)}}function Np(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Yi(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sp(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ac(e,t){let r=Sp(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ic(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Or(e):(s=vs({},e),he(!s.pathname||!s.pathname.includes("?"),Yi("?","pathname","search",s)),he(!s.pathname||!s.pathname.includes("#"),Yi("#","pathname","hash",s)),he(!s.search||!s.search.includes("#"),Yi("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=_p(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ir=e=>e.join("/").replace(/\/\/+/g,"/"),Cp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ep=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cf=["post","put","patch","delete"];new Set(Cf);const $p=["get",...Cf];new Set($p);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ws.apply(this,arguments)}const li=y.createContext(null),Ef=y.createContext(null),zt=y.createContext(null),ci=y.createContext(null),Nt=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Pf=y.createContext(null);function Lp(e,t){let{relative:r}=t===void 0?{}:t;Nn()||he(!1);let{basename:n,navigator:s}=y.useContext(zt),{hash:i,pathname:o,search:l}=ui(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ir([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Nn(){return y.useContext(ci)!=null}function Rr(){return Nn()||he(!1),y.useContext(ci).location}function Tf(e){y.useContext(zt).static||y.useLayoutEffect(e)}function Ie(){let{isDataRoute:e}=y.useContext(Nt);return e?Gp():Op()}function Op(){Nn()||he(!1);let e=y.useContext(li),{basename:t,future:r,navigator:n}=y.useContext(zt),{matches:s}=y.useContext(Nt),{pathname:i}=Rr(),o=JSON.stringify(ac(s,r.v7_relativeSplatPath)),l=y.useRef(!1);return Tf(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=ic(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ir([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const Rp=y.createContext(null);function Ap(e){let t=y.useContext(Nt).outlet;return t&&y.createElement(Rp.Provider,{value:e},t)}function Ts(){let{matches:e}=y.useContext(Nt),t=e[e.length-1];return t?t.params:{}}function ui(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(zt),{matches:s}=y.useContext(Nt),{pathname:i}=Rr(),o=JSON.stringify(ac(s,n.v7_relativeSplatPath));return y.useMemo(()=>ic(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Mp(e,t){return Ip(e,t)}function Ip(e,t,r,n){Nn()||he(!1);let{navigator:s,static:i}=y.useContext(zt),{matches:o}=y.useContext(Nt),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=Rr(),h;if(t){var m;let g=typeof t=="string"?Or(t):t;u==="/"||(m=g.pathname)!=null&&m.startsWith(u)||he(!1),h=g}else h=d;let p=h.pathname||"/",w=p;if(u!=="/"){let g=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=up(e,{pathname:w}),k=Bp(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:ir([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:ir([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return t&&k?y.createElement(ci.Provider,{value:{location:ws({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Qt.Pop}},k):k}function zp(){let e=Wp(),t=Tp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,null)}const Dp=y.createElement(zp,null);class Fp extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Nt.Provider,{value:this.props.routeContext},y.createElement(Pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Up(e){let{routeContext:t,match:r,children:n}=e,s=y.useContext(li);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Nt.Provider,{value:t},n)}function Bp(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||he(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=r,w=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let p,w=!1,v=null,k=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Dp,c&&(u<0&&m===0?(Yp("route-fallback"),w=!0,k=null):u===m&&(w=!0,k=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,m+1)),f=()=>{let x;return p?x=v:w?x=k:h.route.Component?x=y.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,y.createElement(Up,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?y.createElement(Fp,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var $f=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($f||{}),Lf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lf||{});function Vp(e){let t=y.useContext(li);return t||he(!1),t}function Hp(e){let t=y.useContext(Ef);return t||he(!1),t}function qp(e){let t=y.useContext(Nt);return t||he(!1),t}function Of(e){let t=qp(),r=t.matches[t.matches.length-1];return r.route.id||he(!1),r.route.id}function Wp(){var e;let t=y.useContext(Pf),r=Hp(),n=Of();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Gp(){let{router:e}=Vp($f.UseNavigateStable),t=Of(Lf.UseNavigateStable),r=y.useRef(!1);return Tf(()=>{r.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ws({fromRouteId:t},i)))},[e,t])}const Lu={};function Yp(e,t,r){Lu[e]||(Lu[e]=!0)}function Kp(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Rf(e){let{to:t,replace:r,state:n,relative:s}=e;Nn()||he(!1);let{future:i,static:o}=y.useContext(zt),{matches:l}=y.useContext(Nt),{pathname:c}=Rr(),u=Ie(),d=ic(t,ac(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Jp(e){return Ap(e.context)}function ce(e){he(!1)}function Qp(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Qt.Pop,navigator:i,static:o=!1,future:l}=e;Nn()&&he(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:ws({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Or(n));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:w="default"}=n,v=y.useMemo(()=>{let k=xn(d,c);return k==null?null:{location:{pathname:k,search:h,hash:m,state:p,key:w},navigationType:s}},[c,d,h,m,p,w,s]);return v==null?null:y.createElement(zt.Provider,{value:u},y.createElement(ci.Provider,{children:r,value:v}))}function Xp(e){let{children:t,location:r}=e;return Mp(Qo(t),r)}new Promise(()=>{});function Qo(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let i=[...t,s];if(n.type===y.Fragment){r.push.apply(r,Qo(n.props.children,i));return}n.type!==ce&&he(!1),!n.props.index||!n.props.children||he(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Qo(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(this,arguments)}function Af(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Zp(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ey(e,t){return e.button===0&&(!t||t==="_self")&&!Zp(e)}const ty=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ry=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ny="6";try{window.__reactRouterVersion=ny}catch{}const sy=y.createContext({isTransitioning:!1}),ay="startTransition",Ou=K0[ay];function iy(e){let{basename:t,children:r,future:n,window:s}=e,i=y.useRef();i.current==null&&(i.current=op({window:s,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(h=>{u&&Ou?Ou(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>Kp(n),[n]),y.createElement(Qp,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const oy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ly=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ge=y.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=Af(t,ty),{basename:p}=y.useContext(zt),w,v=!1;if(typeof u=="string"&&ly.test(u)&&(w=u,oy))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),P=xn(b.pathname,p);b.origin===x.origin&&P!=null?u=P+b.search+b.hash:v=!0}catch{}let k=Lp(u,{relative:s}),g=uy(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function f(x){n&&n(x),x.defaultPrevented||g(x)}return y.createElement("a",Ua({},m,{href:w||k,onClick:v||i?n:f,ref:r,target:c}))}),vr=y.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=Af(t,ry),m=ui(c,{relative:h.relative}),p=Rr(),w=y.useContext(Ef),{navigator:v,basename:k}=y.useContext(zt),g=w!=null&&dy(m)&&u===!0,f=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,x=p.pathname,b=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(x=x.toLowerCase(),b=b?b.toLowerCase():null,f=f.toLowerCase()),b&&k&&(b=xn(b,k)||b);const P=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let _=x===f||!o&&x.startsWith(f)&&x.charAt(P)==="/",N=b!=null&&(b===f||!o&&b.startsWith(f)&&b.charAt(f.length)==="/"),S={isActive:_,isPending:N,isTransitioning:g},C=_?n:void 0,T;typeof i=="function"?T=i(S):T=[i,_?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(S):l;return y.createElement(ge,Ua({},h,{"aria-current":C,className:T,ref:r,style:$,to:c,viewTransition:u}),typeof d=="function"?d(S):d)});var Xo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xo||(Xo={}));var Ru;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ru||(Ru={}));function cy(e){let t=y.useContext(li);return t||he(!1),t}function uy(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ie(),u=Rr(),d=ui(e,{relative:o});return y.useCallback(h=>{if(ey(h,r)){h.preventDefault();let m=n!==void 0?n:Fa(u)===Fa(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function dy(e,t){t===void 0&&(t={});let r=y.useContext(sy);r==null&&he(!1);let{basename:n}=cy(Xo.useViewTransitionState),s=ui(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=xn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=xn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Jo(s.pathname,o)!=null||Jo(s.pathname,i)!=null}const hy="modulepreload",fy=function(e){return"/church-connect/"+e},Au={},vn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=fy(c),c in Au)return;Au[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":hy,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},my=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vn(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class oc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class gy extends oc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class py extends oc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yy extends oc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zo||(Zo={}));var xy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class vy{constructor(t,{headers:r={},customFetch:n,region:s=Zo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=my(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return xy(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new gy(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new py(d);if(!d.ok)throw new yy(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield d.json():m==="application/octet-stream"?p=yield d.blob():m==="text/event-stream"?p=d:m==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Fe={},lc={},di={},$s={},hi={},fi={},wy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wn=wy();const by=wn.fetch,Mf=wn.fetch.bind(wn),If=wn.Headers,ky=wn.Request,jy=wn.Response,Sn=Object.freeze(Object.defineProperty({__proto__:null,Headers:If,Request:ky,Response:jy,default:Mf,fetch:by},Symbol.toStringTag,{value:"Module"})),_y=O0(Sn);var mi={};Object.defineProperty(mi,"__esModule",{value:!0});let Ny=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};mi.default=Ny;var zf=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fi,"__esModule",{value:!0});const Sy=zf(_y),Cy=zf(mi);let Ey=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Sy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,p="OK")}catch{i.status===404&&v===""?(m=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new Cy.default(u)}return{error:u,data:d,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};fi.default=Ey;var Py=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hi,"__esModule",{value:!0});const Ty=Py(fi);let $y=class extends Ty.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};hi.default=$y;var Ly=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($s,"__esModule",{value:!0});const Oy=Ly(hi);let Ry=class extends Oy.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$s.default=Ry;var Ay=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(di,"__esModule",{value:!0});const Mn=Ay($s);let My=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Mn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Mn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Mn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Mn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Mn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};di.default=My;var gi={},pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.version=void 0;pi.version="0.0.0-automated";Object.defineProperty(gi,"__esModule",{value:!0});gi.DEFAULT_HEADERS=void 0;const Iy=pi;gi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Iy.version}`};var Df=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lc,"__esModule",{value:!0});const zy=Df(di),Dy=Df($s),Fy=gi;let Uy=class Ff{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Fy.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new zy.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ff(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Dy.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};lc.default=Uy;var Cn=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const Uf=Cn(lc);Fe.PostgrestClient=Uf.default;const Bf=Cn(di);Fe.PostgrestQueryBuilder=Bf.default;const Vf=Cn($s);Fe.PostgrestFilterBuilder=Vf.default;const Hf=Cn(hi);Fe.PostgrestTransformBuilder=Hf.default;const qf=Cn(fi);Fe.PostgrestBuilder=qf.default;const Wf=Cn(mi);Fe.PostgrestError=Wf.default;var By=Fe.default={PostgrestClient:Uf.default,PostgrestQueryBuilder:Bf.default,PostgrestFilterBuilder:Vf.default,PostgrestTransformBuilder:Hf.default,PostgrestBuilder:qf.default,PostgrestError:Wf.default};const{PostgrestClient:Vy,PostgrestQueryBuilder:k2,PostgrestFilterBuilder:j2,PostgrestTransformBuilder:_2,PostgrestBuilder:N2,PostgrestError:S2}=By,Hy="2.11.2",qy={"X-Client-Info":`realtime-js/${Hy}`},Wy="1.0.0",Gf=1e4,Gy=1e3;var cn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cn||(cn={}));var Ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ye||(Ye={}));var ht;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ht||(ht={}));var el;(function(e){e.websocket="websocket"})(el||(el={}));var wr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wr||(wr={}));class Yy{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Yf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const Mu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Ky(o,e,t,s),i),{})},Ky=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Kf(i,o):tl(o)},Kf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Zy(t,r)}switch(e){case re.bool:return Jy(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return Qy(t);case re.json:case re.jsonb:return Xy(t);case re.timestamp:return ex(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return tl(t);default:return tl(t)}},tl=e=>e,Jy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Qy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Xy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Zy=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Kf(t,l))}return e},ex=e=>typeof e=="string"?e.replace(" ","T"):e,Jf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ki{constructor(t,r,n={},s=Gf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Iu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Iu||(Iu={}));class Xn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Xn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(k=>k.presence_ref),p=h.map(k=>k.presence_ref),w=d.filter(k=>p.indexOf(k.presence_ref)<0),v=h.filter(k=>m.indexOf(k.presence_ref)<0);w.length>0&&(l[u]=w),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),m=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zu||(zu={}));var Du;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Du||(Du={}));var Ct;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ct||(Ct={}));class cc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ki(this,ht.join,this.params,this.timeout),this.rejoinTimer=new Yf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Xn(this),this.broadcastEndpointURL=Jf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ct.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ct.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Ct.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,w=[];for(let v=0;v<p;v++){const k=m[v],{filter:{event:g,schema:f,table:x,filter:b}}=k,P=d&&d[v];if(P&&P.event===g&&P.schema===f&&P.table===x&&P.filter===b)w.push(Object.assign(Object.assign({},k),{id:P.id}));else{this.unsubscribe(),t==null||t(Ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Ct.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Ki(this,ht.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ki(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ht;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,v,k;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(v=p.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,v,k,g,f,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,P=(w=p.filter)===null||w===void 0?void 0:w.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const b=(f=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:v,table:k,commit_timestamp:g,type:f,errors:x}=w;m=Object.assign(Object.assign({},{schema:v,table:k,commit_timestamp:g,eventType:f,new:{},old:{},errors:x}),this._getPayloadRecords(w))}p.callback(m,n)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&cc.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ht.close,{},t)}_onError(t){this._on(ht.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Mu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Mu(t.columns,t.old_record)),r}}const tx=()=>{},rx=typeof WebSocket<"u",nx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sx{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=qy,this.params={},this.timeout=Gf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=tx,this.conn=null,this.sendBuffer=[],this.serializer=new Yy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>vn(async()=>{const{default:c}=await Promise.resolve().then(()=>Sn);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${el.websocket}`,this.httpEndpoint=Jf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(rx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ax(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),vn(async()=>{const{default:t}=await import("./browser-DPSC1-eI.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wy}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cn.connecting:return wr.Connecting;case cn.open:return wr.Open;case cn.closing:return wr.Closing;default:return wr.Closed}}isConnected(){return this.connectionState()===wr.Open}channel(t,r={config:{}}){const n=new cc(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(ht.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Gy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ht.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([nx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ax{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=cn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class uc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ix extends uc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rl extends uc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ox=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Qf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vn(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},lx=()=>ox(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vn(()=>Promise.resolve().then(()=>Sn),void 0)).Response:Response}),nl=e=>{if(Array.isArray(e))return e.map(r=>nl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=nl(n)}),t};var Ar=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ji=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cx=(e,t,r)=>Ar(void 0,void 0,void 0,function*(){const n=yield lx();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new ix(Ji(s),e.status||500))}).catch(s=>{t(new rl(Ji(s),s))}):t(new rl(Ji(e),e))}),ux=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ls(e,t,r,n,s,i){return Ar(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,ux(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>cx(c,l,n))})})}function Ba(e,t,r,n){return Ar(this,void 0,void 0,function*(){return Ls(e,"GET",t,r,n)})}function Ht(e,t,r,n,s){return Ar(this,void 0,void 0,function*(){return Ls(e,"POST",t,n,s,r)})}function dx(e,t,r,n,s){return Ar(this,void 0,void 0,function*(){return Ls(e,"PUT",t,n,s,r)})}function hx(e,t,r,n){return Ar(this,void 0,void 0,function*(){return Ls(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Xf(e,t,r,n,s){return Ar(this,void 0,void 0,function*(){return Ls(e,"DELETE",t,n,s,r)})}var ze=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const fx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mx{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Qf(s)}uploadOrUpdate(t,r,n,s){return ze(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(ke(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Fu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ze(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ht(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new uc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}update(t,r,n){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ze(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ze(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ht(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ze(this,void 0,void 0,function*(){try{const s=yield Ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}download(t,r){return ze(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ba(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ke(l))return{data:null,error:l};throw l}})}info(t){return ze(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ba(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:nl(n),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}exists(t){return ze(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield hx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ke(n)&&n instanceof rl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}list(t,r,n){return ze(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fx),r),{prefix:t||""});return{data:yield Ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gx="2.7.1",px={"X-Client-Info":`storage-js/${gx}`};var Dr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class yx{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},px),r),this.fetch=Qf(n)}listBuckets(){return Dr(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}})}getBucket(t){return Dr(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Dr(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Dr(this,void 0,void 0,function*(){try{return{data:yield dx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Dr(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Dr(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}}class xx extends yx{constructor(t,r={},n){super(t,r,n)}from(t){return new mx(this.url,this.headers,t,this.fetch)}}const vx="2.49.4";let Bn="";typeof Deno<"u"?Bn="deno":typeof document<"u"?Bn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bn="react-native":Bn="node";const wx={"X-Client-Info":`supabase-js-${Bn}/${vx}`},bx={headers:wx},kx={schema:"public"},jx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_x={};var Nx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Sx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Mf:t=fetch,(...r)=>t(...r)},Cx=()=>typeof Headers>"u"?If:Headers,Ex=(e,t,r)=>{const n=Sx(r),s=Cx();return(i,o)=>Nx(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Px=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Tx(e){return e.replace(/\/$/,"")}function $x(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Px(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Zf="2.69.1",Vr=30*1e3,sl=3,Qi=sl*Vr,Lx="http://localhost:9999",Ox="supabase.auth.token",Rx={"X-Client-Info":`gotrue-js/${Zf}`},al="X-Supabase-Api-Version",e0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ax=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mx=6e5;class dc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ix extends dc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function zx(e){return Y(e)&&e.name==="AuthApiError"}class t0 extends dc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class fr extends dc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ft extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dx(e){return Y(e)&&e.name==="AuthSessionMissingError"}class Xi extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Js extends fr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qs extends fr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fx(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class Uu extends fr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class il extends fr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Zi(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class Bu extends fr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zn extends fr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hu=` 	
\r=`.split(""),Ux=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hu.length;t+=1)e[Hu[t].charCodeAt(0)]=-2;for(let t=0;t<Vu.length;t+=1)e[Vu[t].charCodeAt(0)]=t;return e})();function r0(e,t,r){const n=Ux[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qu(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Hx(o,n,r)};for(let o=0;o<e.length;o+=1)r0(e.charCodeAt(o),s,i);return t.join("")}function Bx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Vx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Bx(n,t)}}function Hx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qx(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)r0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Wx(e){const t=[];return Vx(e,r=>t.push(r)),new Uint8Array(t)}function Gx(e){return Math.round(Date.now()/1e3)+e}function Yx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",gr={tested:!1,writable:!1},es=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gr.tested)return gr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gr.tested=!0,gr.writable=!0}catch{gr.tested=!0,gr.writable=!1}return gr.writable};function Kx(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const n0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vn(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Jx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",s0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Xs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zs=async(e,t)=>{await e.removeItem(t)};class yi{constructor(){this.promise=new yi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yi.promiseConstructor=Promise;function eo(e){const t=e.split(".");if(t.length!==3)throw new Zn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ax.test(t[n]))throw new Zn("JWT not in base64url format");return{header:JSON.parse(qu(t[0])),payload:JSON.parse(qu(t[1])),signature:qx(t[2]),raw:{header:t[0],payload:t[1]}}}async function Qx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Xx(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Zx(e){return("0"+e.toString(16)).substr(-2)}function e1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Zx).join("")}async function t1(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function r1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await t1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fr(e,t,r=!1){const n=e1();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await s0(e,`${t}-code-verifier`,s);const i=await r1(n);return[i,n===i?"plain":"s256"]}const n1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function s1(e){const t=e.headers.get(al);if(!t||!t.match(n1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function a1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function i1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var o1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const xr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l1=[502,503,504];async function Wu(e){var t;if(!Jx(e))throw new il(xr(e),0);if(l1.includes(e.status))throw new il(xr(e),e.status);let r;try{r=await e.json()}catch(i){throw new t0(xr(i),i)}let n;const s=s1(e);if(s&&s.getTime()>=e0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bu(xr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ft}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Bu(xr(r),e.status,r.weak_password.reasons);throw new Ix(xr(r),e.status||500,n)}const c1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function J(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[al]||(i[al]=e0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await u1(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function u1(e,t,r,n,s,i){const o=c1(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new il(xr(c),0)}if(l.ok||await Wu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Wu(c)}}function Ut(e){var t;let r=null;m1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Gx(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Gu(e){const t=Ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function d1(e){return{data:e,error:null}}function h1(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=o1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function f1(e){return e}function m1(e){return e.access_token&&e.refresh_token&&e.expires_in}var g1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class p1{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=n0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gt})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=g1(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:h1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gt})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:f1});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);u[`${k}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Y(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gt})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Gt})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gt})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}}const y1={getItem:e=>es()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{es()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{es()&&globalThis.localStorage.removeItem(e)}};function Yu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function x1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ur={debug:!!(globalThis&&es()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class a0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class v1 extends a0{}async function w1(e,t,r){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new v1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ur.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}x1();const b1={url:Lx,storageKey:Ox,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ku(e,t,r){return await r()}class bs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bs.nextInstanceID,bs.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},b1),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new p1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=n0(s.fetch),this.lock=s.lock||Ku,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=w1:this.lock=Ku,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:es()?this.storage=y1:(this.memoryStorage={},this.storage=Yu(this.memoryStorage)):(this.memoryStorage={},this.storage=Yu(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Kx(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fx(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?{error:r}:{error:new t0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ut}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Fr(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:w},xform:Ut})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ut})}else throw new Js("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gu})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gu})}else throw new Js("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Xs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ut});if(await Zs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ut}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Xi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fr(this.storage,this.storageKey));const{error:h}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Js("You must provide either an email or phone number.")}catch(l){if(Y(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ut});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fr(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:d1})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ft;const{error:s}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Js("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Qi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Gt})})}catch(r){if(Y(r))return Dx(r)&&(await this._removeSession(),await Zs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ft;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Fr(this.storage,this.storageKey));const{data:u,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Gt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ft;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=eo(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Y(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ft;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!xt())throw new Qs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uu("No code detected.");const{data:f,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Qs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const p=m-d;p*1e3<=Vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:v,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(Y(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(zx(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Zs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Yx(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Fr(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return xt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Y(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Xx(async s=>(s>0&&await Qx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ut})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Zi(i)&&Date.now()+o-n<Vr})}catch(n){if(this._debug(r,"error",n),Y(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Xs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Qi;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Qi}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Zi(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ft;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Y(i)){const o={session:null,error:i};return Zi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await s0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Zs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vr}ms, refresh threshold is ${sl} ticks`),s<=sl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof a0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=eo(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Mx>Date.now()))return n;const{data:s,error:i}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Zn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Zn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=eo(n);if(a1(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=i1(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Wx(`${l}.${c}`)))throw new Zn("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}bs.nextInstanceID=0;const k1=bs;class j1 extends k1{constructor(t){super(t)}}var _1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class N1{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Tx(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:kx,realtime:_x,auth:Object.assign(Object.assign({},jx),{storageKey:c}),global:bx},d=$x(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Ex(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Vy(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new vy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return _1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new j1({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new sx(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S1=(e,t,r)=>new N1(e,t,r),xi=()=>"/church-connect/",Yt=e=>{const t=xi(),r=e.startsWith("/")?e.substring(1):e,n=t.startsWith("/")?t.substring(1):t;return r.startsWith(n)?"/"+r:t+r},i0=()=>{const e=window.location.hash;return e.includes("access_token=")||e.includes("refresh_token=")||e.includes("type=recovery")||e.includes("type=signup")},Ju=()=>{const e=xi(),t=window.location.pathname;if(i0()){const r=window.location.hash;if(!t.startsWith(e)){const n=t.startsWith("/")?t.substring(1):t,s=e+n;return window.location.href=`${window.location.origin}${s}${r}`,!0}return!1}if(t==="/"&&e!=="/")return window.location.pathname=e,!0;if(!t.startsWith(e)&&!t.includes("/auth/callback")){const r=t.startsWith("/")?t.substring(1):t,n=e+r;return window.location.pathname=n,!0}return!1},C1=()=>{const e=window.location.origin,t=xi();return`${e}${t}#/auth/callback`},E1="https://xlsazndxtgqlsyohzjhp.supabase.co",P1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhsc2F6bmR4dGdxbHN5b2h6amhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM4Nzc3MTIsImV4cCI6MjA1OTQ1MzcxMn0.N1oXEwBKFjmiP0zacqY6HTHr-50-PZZjTBUzkkIyub4",T1=()=>{if(!(typeof window>"u"))return C1()},M=S1(E1,P1,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,redirectTo:T1()}}),o0=y.createContext(),ea=()=>{const e=window.location.origin,t=xi();return window.location.hostname==="bajejosh.github.io"||t.startsWith("/church-connect")?`${e}${t}#`:`${e}${t}`},$1=({children:e})=>{const[t,r]=y.useState(null),[n,s]=y.useState(!0),[i,o]=y.useState(null);y.useEffect(()=>{(async()=>{var k;try{const{data:g,error:f}=await M.auth.getSession();if(f)throw f;r(((k=g==null?void 0:g.session)==null?void 0:k.user)||null)}catch(g){o(g.message)}finally{s(!1)}})();const{data:{subscription:v}}=M.auth.onAuthStateChange((k,g)=>{r((g==null?void 0:g.user)||null),s(!1)});return()=>v.unsubscribe()},[]);const p={user:t,loading:n,error:i,signUp:async(w,v,k={})=>{try{const{data:g,error:f}=await M.auth.signUp({email:w,password:v,options:{data:k,emailRedirectTo:`${ea()}/auth/callback`}});if(f)throw f;return g}catch(g){throw o(g.message),g}},signIn:async(w,v)=>{try{const{data:k,error:g}=await M.auth.signInWithPassword({email:w,password:v,options:{redirectTo:`${ea()}/auth/callback`}});if(g)throw g;return k}catch(k){throw o(k.message),k}},signOut:async()=>{try{r(null),localStorage.removeItem("userFullName"),localStorage.removeItem("userAvatarUrl");const{error:w}=await M.auth.signOut();w&&(console.warn("Warning during sign out process:",w.message),w.message.includes("Auth session missing")&&console.log("Session was already expired or invalid")),window.location.href=`${window.location.origin}${Yt("login")}`}catch(w){console.warn("Error in sign out process:",w.message),window.location.href=`${window.location.origin}${Yt("login")}`}},resetPassword:async w=>{try{const{error:v}=await M.auth.resetPasswordForEmail(w,{redirectTo:`${ea()}/auth/callback?reset=true`});if(v)throw v}catch(v){throw o(v.message),v}},updatePassword:async w=>{try{const{error:v}=await M.auth.updateUser({password:w});if(v)throw v}catch(v){throw o(v.message),v}},updateProfile:async w=>{try{if(w.email){const{error:k}=await M.auth.updateUser({email:w.email,options:{emailRedirectTo:`${ea()}/auth/callback`}});if(k)throw k}const{error:v}=await M.from("profiles").update({full_name:w.fullName,updated_at:new Date}).eq("id",t.id);if(v)throw v}catch(v){throw o(v.message),v}},isAuthenticated:!!t};return a.jsx(o0.Provider,{value:p,children:e})},We=()=>{const e=y.useContext(o0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},l0=y.createContext(),L1=({children:e})=>{const[t,r]=y.useState(()=>{const s=localStorage.getItem("theme");return s?s==="dark":!0});y.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(s=>!s)};return a.jsx(l0.Provider,{value:{darkMode:t,toggleDarkMode:n},children:e})},c0=()=>{const e=y.useContext(l0);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},u0=y.createContext(),O1=({children:e})=>{const[t,r]=y.useState(!1),n=()=>{r(i=>!i)},s=()=>{r(!1)};return a.jsx(u0.Provider,{value:{isSidebarOpen:t,toggleSidebar:n,closeSidebar:s},children:e})},d0=()=>{const e=y.useContext(u0);if(e===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return e};var h0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qu=bt.createContext&&bt.createContext(h0),or=function(){return or=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},or.apply(this,arguments)},R1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function f0(e){return e&&e.map(function(t,r){return bt.createElement(t.tag,or({key:r},t.attr),f0(t.child))})}function q(e){return function(t){return bt.createElement(A1,or({attr:or({},e.attr)},t),f0(e.child))}}function A1(e){var t=function(r){var n=e.attr,s=e.size,i=e.title,o=R1(e,["attr","size","title"]),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),bt.createElement("svg",or({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:or(or({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&bt.createElement("title",null,i),e.children)};return Qu!==void 0?bt.createElement(Qu.Consumer,null,function(r){return t(r)}):t(h0)}function to(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(e)}function M1(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"}}]})(e)}function ma(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function I1(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(e)}function z1(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function D1(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function m0(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"}}]})(e)}function mr(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function F1(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"}}]})(e)}function Xu(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function U1(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function un(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function B1(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function V1(e){return q({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function H1(e){return q({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function q1(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function Mr(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M464.46 246.68L352 179.2V128h48c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-48V16c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v48h-48c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h48v51.2l-112.46 67.48A31.997 31.997 0 0 0 160 274.12V512h96v-96c0-35.35 28.65-64 64-64s64 28.65 64 64v96h96V274.12c0-11.24-5.9-21.66-15.54-27.44zM0 395.96V496c0 8.84 7.16 16 16 16h112V320L19.39 366.54A32.024 32.024 0 0 0 0 395.96zm620.61-29.42L512 320v192h112c8.84 0 16-7.16 16-16V395.96c0-12.8-7.63-24.37-19.39-29.42z"}}]})(e)}function W1(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function G1(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function Y1(e){return q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M352 128h-96V32c0-17.67-14.33-32-32-32h-64c-17.67 0-32 14.33-32 32v96H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h96v224c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V256h96c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"}}]})(e)}function K1(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function vi(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function J1(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"}}]})(e)}function wi(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function Q1(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"}}]})(e)}function X1(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function Z1(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function hc(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function In(e){return q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function Zu(e){return q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-64 268c0 10.7-12.9 16-20.5 8.5L104 376H76c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h28l35.5-36.5c7.6-7.6 20.5-2.2 20.5 8.5v136zm33.2-47.6c9.1-9.3 9.1-24.1 0-33.4-22.1-22.8 12.2-56.2 34.4-33.5 27.2 27.9 27.2 72.4 0 100.4-21.8 22.3-56.9-10.4-34.4-33.5zm86-117.1c54.4 55.9 54.4 144.8 0 200.8-21.8 22.4-57-10.3-34.4-33.5 36.2-37.2 36.3-96.5 0-133.8-22.1-22.8 12.3-56.3 34.4-33.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function ev(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function tv(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"}}]})(e)}function rv(e){return q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function ks(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function g0(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function nv(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function sv(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(e)}function js(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function av(e){return q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function iv(e){return q({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"}}]})(e)}function fc(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(e)}function lt(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"}}]})(e)}function ov(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function lv(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"}}]})(e)}function Le(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function Mt(e){return q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M256 128c35.35 0 64-28.65 64-64S291.35 0 256 0s-64 28.65-64 64 28.65 64 64 64zm-30.63 169.75c14.06 16.72 39 19.09 55.97 5.22l88-72.02c17.09-13.98 19.59-39.19 5.62-56.28-13.97-17.11-39.19-19.59-56.31-5.62l-57.44 47-38.91-46.31c-15.44-18.39-39.22-27.92-64-25.33-24.19 2.48-45.25 16.27-56.37 36.92l-49.37 92.03c-23.4 43.64-8.69 96.37 34.19 123.75L131.56 432H40c-22.09 0-40 17.91-40 40s17.91 40 40 40h208c34.08 0 53.77-42.79 28.28-68.28L166.42 333.86l34.8-64.87 24.15 28.76z"}}]})(e)}function cv(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(e)}function p0(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function bi(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function uv(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}}]})(e)}function dv(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function ol(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function mc(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(e)}function y0(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"}}]})(e)}function _s(e){return q({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function gc(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function hv(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208H432c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function x0(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function _t(e){return q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function v0(e){return q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function fv(e){return q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}}]})(e)}function mv(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"}}]})(e)}function w0(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"}}]})(e)}function gv(e){return q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"}}]})(e)}const pv=({className:e=""})=>{const{darkMode:t,toggleDarkMode:r}=c0();return a.jsx("button",{onClick:r,className:`p-2 rounded-full transition-colors duration-200 ${t?"bg-gray-800 text-yellow-300 hover:bg-gray-700":"bg-blue-100 text-blue-800 hover:bg-blue-200"} ${e}`,"aria-label":t?"Switch to light mode":"Switch to dark mode",title:t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(mc,{className:"w-5 h-5"}):a.jsx(fc,{className:"w-5 h-5"})})},yv=()=>{var c,u,d;const{user:e,signOut:t}=We(),{darkMode:r}=c0(),{toggleSidebar:n}=d0(),[s,i]=y.useState(!1),o=Ie(),l=async()=>{try{await t(),o("/login")}catch(h){console.error("Error signing out:",h),o("/login")}};return a.jsx("header",{className:"bg-white shadow-sm dark:bg-dark-secondary sticky top-0 z-30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{className:"mr-2 md:hidden text-gray-600 dark:text-gray-300",onClick:n,children:a.jsx(z1,{className:"text-xl"})}),a.jsx(ge,{to:"/dashboard",className:"flex items-center",children:a.jsx("span",{className:"text-xl font-bold text-blue-600",children:"Church Connect"})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(pv,{}),a.jsx("button",{className:"text-gray-600 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400",children:a.jsx(D1,{className:"text-xl"})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{className:"flex items-center",onClick:()=>i(!s),children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:((u=(c=e==null?void 0:e.user_metadata)==null?void 0:c.full_name)==null?void 0:u.charAt(0))||((d=e==null?void 0:e.email)==null?void 0:d.charAt(0))||"U"})}),s&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-10",children:[a.jsx(ge,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>i(!1),children:"Your Profile"}),a.jsx(ge,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>i(!1),children:"Settings"}),a.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:l,children:[a.jsx(dv,{className:"mr-2"}),"Sign out"]})]})]})]})]})})},xv=()=>a.jsx("nav",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 py-2 md:hidden dark:bg-dark-secondary dark:border-gray-800",children:a.jsxs("div",{className:"flex justify-around items-center",children:[a.jsxs(vr,{to:"/dashboard",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(g0,{className:"text-xl mb-1"}),a.jsx("span",{children:"Home"})]}),a.jsxs(vr,{to:"/calendar",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(mr,{className:"text-xl mb-1"}),a.jsx("span",{children:"Calendar"})]}),a.jsxs(vr,{to:"/songs",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(lt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Songs"})]}),a.jsxs(vr,{to:"/prayer-requests",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(Mt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Prayer"})]}),a.jsxs(vr,{to:"/profile",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:[a.jsx(_t,{className:"text-xl mb-1"}),a.jsx("span",{children:"Profile"})]})]})}),ed=({className:e})=>{var s,i,o,l;const{user:t}=We(),r=[{path:"/dashboard",icon:a.jsx(g0,{}),label:"Dashboard"},{path:"/calendar",icon:a.jsx(mr,{}),label:"Calendar"},{path:"/services",icon:a.jsx(iv,{}),label:"Services"},{path:"/songs",icon:a.jsx(lt,{}),label:"Songs"},{path:"/teams",icon:a.jsx(v0,{}),label:"Teams"},{path:"/prayer-requests",icon:a.jsx(Mt,{}),label:"Prayer Requests"},{path:"/churches",icon:a.jsx(Mr,{}),label:"Churches"}],n=[{path:"/profile",icon:a.jsx(_t,{}),label:"Profile"},{path:"/settings",icon:a.jsx(G1,{}),label:"Settings"}];return a.jsxs("aside",{className:`${e} flex flex-col h-[calc(100vh-4rem)] overflow-y-auto fixed`,children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:((i=(s=t==null?void 0:t.user_metadata)==null?void 0:s.full_name)==null?void 0:i.charAt(0))||((o=t==null?void 0:t.email)==null?void 0:o.charAt(0))||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:((l=t==null?void 0:t.user_metadata)==null?void 0:l.full_name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(t==null?void 0:t.email)||"No email"})]})]})}),a.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:r.map(c=>a.jsxs(vr,{to:c.path,className:({isActive:u})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:c.icon}),c.label]},c.path))}),a.jsx("div",{className:"px-2 py-4 space-y-1 border-t",children:n.map(c=>a.jsxs(vr,{to:c.path,className:({isActive:u})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:c.icon}),c.label]},c.path))})]})},vv=({children:e})=>{const[t,r]=y.useState(window.innerWidth<768),{isSidebarOpen:n,closeSidebar:s}=d0();return y.useEffect(()=>{const i=()=>{r(window.innerWidth<768)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),y.useEffect(()=>{!t&&n&&s()},[t,n,s]),a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gradient-dark",children:[a.jsx(yv,{}),a.jsxs("div",{className:"flex flex-1",children:[!t&&a.jsx(ed,{className:"hidden md:block w-64 bg-white shadow-md dark:bg-dark-secondary"}),t&&n&&a.jsxs("div",{className:"fixed inset-0 z-40 flex",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity",onClick:s,"aria-hidden":"true"}),a.jsx("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white dark:bg-dark-secondary transform transition ease-in-out duration-300",children:a.jsx(ed,{className:"flex-1 h-0 overflow-y-auto"})})]}),a.jsx("main",{className:"flex-1 px-4 md:px-6 pt-4 pb-[100px] md:ml-64",children:e})]}),t&&a.jsx(xv,{})]})},wv=()=>{const{isAuthenticated:e,loading:t}=We();return t?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e?a.jsx(vv,{children:a.jsx(Jp,{})}):a.jsx(Rf,{to:"/login",replace:!0})},bv=()=>{const{signIn:e}=We(),t=Ie(),[r,n]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,h]=y.useState(()=>{const w=localStorage.getItem("darkMode");return w===null?!0:w==="true"});y.useEffect(()=>{d?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",d),d?document.body.classList.add("dark","bg-gray-900"):document.body.classList.remove("dark","bg-gray-900")},[d]);const m=()=>{h(w=>!w)},p=async w=>{w.preventDefault();try{l(null),u(!0),await e(r,s),t("/dashboard")}catch(v){l(v.message||"Failed to sign in"),console.error("Login error:",v)}finally{u(!1)}};return a.jsx("div",{className:`min-h-screen flex items-center justify-center ${d?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"} px-4 py-12 sm:px-6 lg:px-8`,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("button",{onClick:m,className:`p-2 rounded-full ${d?"bg-gray-700 text-gray-200":"bg-gray-200 text-gray-700"}`,"aria-label":d?"Switch to light mode":"Switch to dark mode",children:d?a.jsx(mc,{}):a.jsx(fc,{})})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:`text-3xl font-bold ${d?"text-blue-400":"text-blue-600"}`,children:"Church Connect"}),a.jsx("h2",{className:`mt-6 text-2xl font-bold ${d?"text-white":"text-gray-900"}`,children:"Welcome back"}),a.jsx("p",{className:`mt-2 text-sm ${d?"text-gray-400":"text-gray-600"}`,children:"Sign in to your account"})]}),a.jsxs("div",{className:`${d?"bg-gray-800":"bg-white"} p-8 shadow rounded-lg`,children:[o&&a.jsx("div",{className:`mb-4 p-3 ${d?"bg-red-900 text-red-200":"bg-red-100 text-red-700"} rounded-md text-sm`,children:o}),a.jsxs("form",{className:"space-y-6",onSubmit:p,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:`block text-sm font-medium ${d?"text-gray-300":"text-gray-700"}`,children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(wi,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${d?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"you@example.com",value:r,onChange:w=>n(w.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:`block text-sm font-medium ${d?"text-gray-300":"text-gray-700"}`,children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(js,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${d?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"",value:s,onChange:w=>i(w.target.value)})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:`h-4 w-4 text-blue-600 focus:ring-blue-500 ${d?"border-gray-600":"border-gray-300"} rounded`}),a.jsx("label",{htmlFor:"remember-me",className:`ml-2 block text-sm ${d?"text-gray-300":"text-gray-700"}`,children:"Remember me"})]}),a.jsx("div",{className:"text-sm",children:a.jsx(ge,{to:"/forgot-password",className:`font-medium ${d?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(uv,{className:"mr-2"}),"Sign in"]})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:`w-full border-t ${d?"border-gray-600":"border-gray-300"}`})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:`px-2 ${d?"bg-gray-800 text-gray-400":"bg-white text-gray-500"}`,children:"Or"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:["Don't have an account?"," ",a.jsx(ge,{to:"/register",className:`font-medium ${d?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:"Sign up"})]})})]})]})]})})},kv=()=>{const{signUp:e}=We(),t=Ie(),[r,n]=y.useState({email:"",password:"",confirmPassword:"",fullName:"",churchName:""}),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(()=>{const p=localStorage.getItem("darkMode");return p===null?!0:p==="true"});y.useEffect(()=>{c?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",c),c?document.body.classList.add("dark","bg-gray-900"):document.body.classList.remove("dark","bg-gray-900")},[c]);const d=()=>{u(p=>!p)},h=p=>{const{name:w,value:v}=p.target;n(k=>({...k,[w]:v}))},m=async p=>{if(p.preventDefault(),r.password!==r.confirmPassword){i("Passwords do not match");return}try{i(null),l(!0),await e(r.email,r.password,{full_name:r.fullName,church_name:r.churchName}),t("/verify-email")}catch(w){i(w.message||"Failed to sign up")}finally{l(!1)}};return a.jsx("div",{className:`min-h-screen flex items-center justify-center ${c?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"} px-4 py-12 sm:px-6 lg:px-8`,children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("button",{onClick:d,className:`p-2 rounded-full ${c?"bg-gray-700 text-gray-200":"bg-gray-200 text-gray-700"}`,"aria-label":c?"Switch to light mode":"Switch to dark mode",children:c?a.jsx(mc,{}):a.jsx(fc,{})})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:`text-3xl font-bold ${c?"text-blue-400":"text-blue-600"}`,children:"Church Connect"}),a.jsx("h2",{className:`mt-6 text-2xl font-bold ${c?"text-white":"text-gray-900"}`,children:"Create an account"}),a.jsx("p",{className:`mt-2 text-sm ${c?"text-gray-400":"text-gray-600"}`,children:"Join the community today"})]}),a.jsxs("div",{className:`${c?"bg-gray-800":"bg-white"} p-8 shadow rounded-lg`,children:[s&&a.jsx("div",{className:`mb-4 p-3 ${c?"bg-red-900 text-red-200":"bg-red-100 text-red-700"} rounded-md text-sm`,children:s}),a.jsxs("form",{className:"space-y-4",onSubmit:m,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(wi,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"you@example.com",value:r.email,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Full Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(_t,{className:"text-gray-400"})}),a.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"John Doe",value:r.fullName,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"churchName",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Church Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Mr,{className:"text-gray-400"})}),a.jsx("input",{id:"churchName",name:"churchName",type:"text",className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Grace Community Church",value:r.churchName,onChange:h})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional - You can join or create a church later"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(js,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"",value:r.password,onChange:h})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:`block text-sm font-medium ${c?"text-gray-300":"text-gray-700"}`,children:"Confirm Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(js,{className:"text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:`appearance-none block w-full pl-10 px-3 py-3 border ${c?"border-gray-600 bg-gray-700 text-gray-100 placeholder-gray-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"",value:r.confirmPassword,onChange:h})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:o,className:"mt-4 w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(x0,{className:"mr-2"}),"Sign up"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:`text-sm ${c?"text-gray-400":"text-gray-600"}`,children:["Already have an account?"," ",a.jsx(ge,{to:"/login",className:`font-medium ${c?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:"Sign in"})]})})]})]})})},jv=()=>{const{resetPassword:e}=We(),[t,r]=y.useState(""),[n,s]=y.useState(null),[i,o]=y.useState(!1),[l,c]=y.useState(""),u=async d=>{d.preventDefault();try{s(null),o(!0),c(""),await e(t),c("Password reset instructions have been sent to your email. Please check your inbox."),r("")}catch(h){s(h.message||"Failed to send password reset email")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address below and we'll send you a link to reset your password"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[n&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:n}),l&&a.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm",children:l}),a.jsxs("form",{className:"space-y-6",onSubmit:u,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(wi,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",value:t,onChange:d=>r(d.target.value)})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(ov,{className:"mr-2"}),"Send Reset Link"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",a.jsx(ge,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to login"})]})})]})]})})},_v=()=>{const{updatePassword:e}=We(),t=Ie(),[r,n]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,h]=y.useState(null);y.useEffect(()=>{const p=window.location.hash.substring(1);new URLSearchParams(p).get("access_token")?h(!0):l("Invalid reset link. Please request a new password reset link.")},[]);const m=async p=>{if(p.preventDefault(),r!==s){l("Passwords do not match");return}if(r.length<6){l("Password must be at least 6 characters");return}try{l(null),u(!0),await e(r),t("/login",{state:{message:"Password successfully reset. Please log in with your new password."}})}catch(w){l(w.message||"Failed to reset password")}finally{u(!1)}};return o&&!d?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsx("button",{onClick:()=>t("/forgot-password"),className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Request New Reset Link"})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Set new password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please enter a new password for your account"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[o&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsxs("form",{className:"space-y-6",onSubmit:m,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(js,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"",value:r,onChange:p=>n(p.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(js,{className:"text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"",value:s,onChange:p=>i(p.target.value)})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(un,{className:"mr-2"}),"Reset Password"]})})]})]})]})})},Nv=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Verify your email"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(wi,{className:"text-2xl text-blue-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Check your inbox"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We sent a verification link to your email address. Please click the link to verify your account."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border border-gray-200 rounded-md bg-gray-50",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Next steps:"}),a.jsxs("ul",{className:"text-sm text-gray-600 text-left space-y-2",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(un,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Check your email inbox (and spam folder)"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(un,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Click the verification link in the email"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(un,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Return to Church Connect and sign in"})]})]})]}),a.jsx(ge,{to:"/login",className:"block w-full py-3 px-4 text-center border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Login"})]}),a.jsxs("p",{className:"mt-6 text-sm text-gray-500",children:["Didn't receive an email? Check your spam folder or"," ",a.jsx(ge,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"try again"})]})]})]})}),Sv=()=>{const e=Ie(),[t,r]=y.useState(null),[n,s]=y.useState("Verifying your account...");return y.useEffect(()=>{(async()=>{try{s("Processing authentication...");const o=new URLSearchParams(window.location.hash.substring(1)),l=o.get("error_description");if(l)throw new Error(l);if(console.log("Auth hash found:",window.location.hash?"Yes (hash exists)":"No"),o.get("type")==="recovery"){s("Password reset confirmed"),e(Yt("dashboard"),{replace:!0});return}const{data:u,error:d}=await M.auth.getSession();if(d)throw d;if(u!=null&&u.session)s("Authentication successful, redirecting to dashboard"),console.log("Authentication successful, redirecting to dashboard"),setTimeout(()=>{e(Yt("dashboard"),{replace:!0})},100);else{const h=o.get("access_token"),m=o.get("refresh_token");if(h){s("Processing access token...");try{const{data:p,error:w}=await M.auth.setSession({access_token:h,refresh_token:m||""});if(w)throw w;if(p!=null&&p.session){s("Session established, redirecting to dashboard"),setTimeout(()=>{e(Yt("dashboard"),{replace:!0})},100);return}}catch(p){console.error("Token processing error:",p)}}s("No session found, redirecting to login"),console.log("No session found, redirecting to login"),setTimeout(()=>{e(Yt("login"),{replace:!0})},100)}}catch(o){console.error("Auth callback error:",o),r(o.message),s("Authentication error, redirecting to login"),setTimeout(()=>{e(Yt("login"),{replace:!0})},1500)}})()},[e]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:t?"Authentication Error":"Verifying Your Account"}),t?a.jsx("div",{className:"text-red-500 mb-4",children:t}):a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:n})]}),t&&a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Redirecting you to the login page..."})]})})};var b0={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(qe,function(){var r=1e3,n=6e4,s=36e5,i="millisecond",o="second",l="minute",c="hour",u="day",d="week",h="month",m="quarter",p="year",w="date",v="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var E=["th","st","nd","rd"],R=O%100;return"["+O+(E[(R-20)%10]||E[R]||E[0])+"]"}},x=function(O,E,R){var U=String(O);return!U||U.length>=E?O:""+Array(E+1-U.length).join(R)+O},b={s:x,z:function(O){var E=-O.utcOffset(),R=Math.abs(E),U=Math.floor(R/60),j=R%60;return(E<=0?"+":"-")+x(U,2,"0")+":"+x(j,2,"0")},m:function O(E,R){if(E.date()<R.date())return-O(R,E);var U=12*(R.year()-E.year())+(R.month()-E.month()),j=E.clone().add(U,h),L=R-j<0,I=E.clone().add(U+(L?-1:1),h);return+(-(U+(R-j)/(L?j-I:I-j))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:h,y:p,w:d,d:u,D:w,h:c,m:l,s:o,ms:i,Q:m}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},P="en",_={};_[P]=f;var N="$isDayjsObject",S=function(O){return O instanceof A||!(!O||!O[N])},C=function O(E,R,U){var j;if(!E)return P;if(typeof E=="string"){var L=E.toLowerCase();_[L]&&(j=L),R&&(_[L]=R,j=L);var I=E.split("-");if(!j&&I.length>1)return O(I[0])}else{var D=E.name;_[D]=E,j=D}return!U&&j&&(P=j),j||!U&&P},T=function(O,E){if(S(O))return O.clone();var R=typeof E=="object"?E:{};return R.date=O,R.args=arguments,new A(R)},$=b;$.l=C,$.i=S,$.w=function(O,E){return T(O,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var A=function(){function O(R){this.$L=C(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[N]=!0}var E=O.prototype;return E.parse=function(R){this.$d=function(U){var j=U.date,L=U.utc;if(j===null)return new Date(NaN);if($.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var I=j.match(k);if(I){var D=I[2]-1||0,V=(I[7]||"0").substring(0,3);return L?new Date(Date.UTC(I[1],D,I[3]||1,I[4]||0,I[5]||0,I[6]||0,V)):new Date(I[1],D,I[3]||1,I[4]||0,I[5]||0,I[6]||0,V)}}return new Date(j)}(R),this.init()},E.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},E.$utils=function(){return $},E.isValid=function(){return this.$d.toString()!==v},E.isSame=function(R,U){var j=T(R);return this.startOf(U)<=j&&j<=this.endOf(U)},E.isAfter=function(R,U){return T(R)<this.startOf(U)},E.isBefore=function(R,U){return this.endOf(U)<T(R)},E.$g=function(R,U,j){return $.u(R)?this[U]:this.set(j,R)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(R,U){var j=this,L=!!$.u(U)||U,I=$.p(R),D=function(te,ee){var ve=$.w(j.$u?Date.UTC(j.$y,ee,te):new Date(j.$y,ee,te),j);return L?ve:ve.endOf(u)},V=function(te,ee){return $.w(j.toDate()[te].apply(j.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(ee)),j)},W=this.$W,G=this.$M,oe=this.$D,xe="set"+(this.$u?"UTC":"");switch(I){case p:return L?D(1,0):D(31,11);case h:return L?D(1,G):D(0,G+1);case d:var Q=this.$locale().weekStart||0,B=(W<Q?W+7:W)-Q;return D(L?oe-B:oe+(6-B),G);case u:case w:return V(xe+"Hours",0);case c:return V(xe+"Minutes",1);case l:return V(xe+"Seconds",2);case o:return V(xe+"Milliseconds",3);default:return this.clone()}},E.endOf=function(R){return this.startOf(R,!1)},E.$set=function(R,U){var j,L=$.p(R),I="set"+(this.$u?"UTC":""),D=(j={},j[u]=I+"Date",j[w]=I+"Date",j[h]=I+"Month",j[p]=I+"FullYear",j[c]=I+"Hours",j[l]=I+"Minutes",j[o]=I+"Seconds",j[i]=I+"Milliseconds",j)[L],V=L===u?this.$D+(U-this.$W):U;if(L===h||L===p){var W=this.clone().set(w,1);W.$d[D](V),W.init(),this.$d=W.set(w,Math.min(this.$D,W.daysInMonth())).$d}else D&&this.$d[D](V);return this.init(),this},E.set=function(R,U){return this.clone().$set(R,U)},E.get=function(R){return this[$.p(R)]()},E.add=function(R,U){var j,L=this;R=Number(R);var I=$.p(U),D=function(G){var oe=T(L);return $.w(oe.date(oe.date()+Math.round(G*R)),L)};if(I===h)return this.set(h,this.$M+R);if(I===p)return this.set(p,this.$y+R);if(I===u)return D(1);if(I===d)return D(7);var V=(j={},j[l]=n,j[c]=s,j[o]=r,j)[I]||1,W=this.$d.getTime()+R*V;return $.w(W,this)},E.subtract=function(R,U){return this.add(-1*R,U)},E.format=function(R){var U=this,j=this.$locale();if(!this.isValid())return j.invalidDate||v;var L=R||"YYYY-MM-DDTHH:mm:ssZ",I=$.z(this),D=this.$H,V=this.$m,W=this.$M,G=j.weekdays,oe=j.months,xe=j.meridiem,Q=function(ee,ve,Ge,tt){return ee&&(ee[ve]||ee(U,L))||Ge[ve].slice(0,tt)},B=function(ee){return $.s(D%12||12,ee,"0")},te=xe||function(ee,ve,Ge){var tt=ee<12?"AM":"PM";return Ge?tt.toLowerCase():tt};return L.replace(g,function(ee,ve){return ve||function(Ge){switch(Ge){case"YY":return String(U.$y).slice(-2);case"YYYY":return $.s(U.$y,4,"0");case"M":return W+1;case"MM":return $.s(W+1,2,"0");case"MMM":return Q(j.monthsShort,W,oe,3);case"MMMM":return Q(oe,W);case"D":return U.$D;case"DD":return $.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return Q(j.weekdaysMin,U.$W,G,2);case"ddd":return Q(j.weekdaysShort,U.$W,G,3);case"dddd":return G[U.$W];case"H":return String(D);case"HH":return $.s(D,2,"0");case"h":return B(1);case"hh":return B(2);case"a":return te(D,V,!0);case"A":return te(D,V,!1);case"m":return String(V);case"mm":return $.s(V,2,"0");case"s":return String(U.$s);case"ss":return $.s(U.$s,2,"0");case"SSS":return $.s(U.$ms,3,"0");case"Z":return I}return null}(ee)||I.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(R,U,j){var L,I=this,D=$.p(U),V=T(R),W=(V.utcOffset()-this.utcOffset())*n,G=this-V,oe=function(){return $.m(I,V)};switch(D){case p:L=oe()/12;break;case h:L=oe();break;case m:L=oe()/3;break;case d:L=(G-W)/6048e5;break;case u:L=(G-W)/864e5;break;case c:L=G/s;break;case l:L=G/n;break;case o:L=G/r;break;default:L=G}return j?L:$.a(L)},E.daysInMonth=function(){return this.endOf(h).$D},E.$locale=function(){return _[this.$L]},E.locale=function(R,U){if(!R)return this.$L;var j=this.clone(),L=C(R,U,!0);return L&&(j.$L=L),j},E.clone=function(){return $.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},O}(),F=A.prototype;return T.prototype=F,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",u],["$M",h],["$y",p],["$D",w]].forEach(function(O){F[O[1]]=function(E){return this.$g(E,O[0],O[1])}}),T.extend=function(O,E){return O.$i||(O(E,A,T),O.$i=!0),T},T.locale=C,T.isDayjs=S,T.unix=function(O){return T(1e3*O)},T.en=_[P],T.Ls=_,T.p={},T})})(b0);var Cv=b0.exports;const ne=qa(Cv);var k0={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(qe,function(){return function(r,n,s){r=r||{};var i=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(u,d,h,m){return i.fromToBase(u,d,h,m)}s.en.relativeTime=o,i.fromToBase=function(u,d,h,m,p){for(var w,v,k,g=h.$locale().relativeTime||o,f=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=f.length,b=0;b<x;b+=1){var P=f[b];P.d&&(w=m?s(u).diff(h,P.d,!0):h.diff(u,P.d,!0));var _=(r.rounding||Math.round)(Math.abs(w));if(k=w>0,_<=P.r||!P.r){_<=1&&b>0&&(P=f[b-1]);var N=g[P.l];p&&(_=p(""+_)),v=typeof N=="string"?N.replace("%d",_):N(_,d,P.l,k);break}}if(d)return v;var S=k?g.future:g.past;return typeof S=="function"?S(v):S.replace("%s",v)},i.to=function(u,d){return l(u,d,this,!0)},i.from=function(u,d){return l(u,d,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}})})(k0);var Ev=k0.exports;const pc=qa(Ev),Pv=({post:e,authorInfo:t,relativeTime:r,formattedDate:n,isEvent:s,isPrayer:i,isAnnouncement:o})=>{const[l,c]=y.useState(null);y.useEffect(()=>{if(e.is_anonymous||t&&t.full_name||e.full_name&&e.full_name!=="User"||!e.user_id)return;(async()=>{try{const{data:m,error:p}=await M.from("profiles").select("full_name, avatar_url").eq("id",e.user_id).single();if(p)throw p;m&&m.full_name&&c(m)}catch(m){console.error("Error fetching author info:",m)}})()},[e.user_id,e.is_anonymous,t]);const u=()=>{var h;if(e.is_anonymous)return"Anonymous";if(t!=null&&t.full_name&&t.full_name!=="User")return t.full_name;if(l!=null&&l.full_name&&l.full_name!=="User")return l.full_name;if(e.full_name&&e.full_name!=="User")return e.full_name;if((h=e.profile)!=null&&h.full_name&&e.profile.full_name!=="User")return e.profile.full_name;if(e.author_name&&e.author_name!=="User")return e.author_name;if(e.user_id===localStorage.getItem("userId")){const m=localStorage.getItem("userFullName");if(m)return m}return"User"},d=()=>{var h;return t!=null&&t.avatar_url?t.avatar_url:l!=null&&l.avatar_url?l.avatar_url:e.avatar_url?e.avatar_url:(h=e.profile)!=null&&h.avatar_url?e.profile.avatar_url:null};return a.jsx("div",{className:"flex items-center",children:e.is_anonymous?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3",children:a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(_t,{className:"text-gray-400 dark:text-gray-500"})})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Anonymous"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r,e.church_name&&`  ${e.church_name}`]}),td(s,i,o)]}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",title:n,children:n})]})]}):a.jsxs(ge,{to:`/profile/${e.user_id}`,className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3",children:d()?a.jsx("img",{src:d(),alt:u(),className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(_t,{className:"text-gray-400 dark:text-gray-500"})})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:u()}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r,e.church_name&&`  ${e.church_name}`]}),td(s,i,o)]}),a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",title:n,children:n})]})]})})},td=(e,t,r)=>!e&&!t&&!r?null:a.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full ${e?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":t?"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300"}`,children:[e&&a.jsx(mr,{className:"mr-1 text-xs"}),t&&a.jsx(Mt,{className:"mr-1 text-xs"}),r&&a.jsx(m0,{className:"mr-1 text-xs"}),e?"Event":t?"Prayer":"Announcement"]}),ll=e=>{if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/|youtube\.com\/watch\?.*v=)([^&?\/\s]+)/,/youtube\.com\/shorts\/([^&?\/\s]+)/,/youtu\.be\/([^&?\/\s]+)/];for(const r of t){const n=e.match(r);if(n&&n[1])return n[1]}return null},cl=e=>{if(!e)return null;const t=/suno\.com\/song\/([^?\/\s]+)/,r=e.match(t);if(r&&r[1])return r[1];try{const n=new URL(e);if(e.includes("suno.com")&&n.searchParams.get("sh"))return n.searchParams.get("sh")}catch{}return null},Tv=e=>{try{return new URL(e),!0}catch{return!1}},rd=e=>!e||!Tv(e)?"text":ll(e)?"youtube":cl(e)||e.includes("suno.com")?"suno":"url",nd=e=>({type:"youtube",videoId:e,src:`https://www.youtube.com/embed/${e}`}),ta=e=>({type:"suno",songId:e,src:`https://suno.com/player/${e}`}),Br=e=>({type:"url",url:e}),sd=e=>{if(!e)return[{type:"text",content:""}];const t=e.trim(),r=rd(t);if(r==="youtube"){const o=ll(t);if(o)return[nd(o)]}if(r==="suno"){const o=cl(t);if(o)return[ta(o)];if(t.includes("suno.com"))try{const c=new URL(t).searchParams.get("sh");if(c)return[ta(c)]}catch{}}if(r==="url")return[Br(t)];const n=/(https?:\/\/[^\s]+)/g,s=e.split(n),i=[];return s.forEach((o,l)=>{if(n.test(o)){const c=rd(o);if(c==="youtube"){const u=ll(o);u?i.push(nd(u)):i.push(Br(o))}else if(c==="suno"){const u=cl(o);if(u)i.push(ta(u));else if(o.includes("suno.com"))try{const h=new URL(o).searchParams.get("sh");h?i.push(ta(h)):i.push(Br(o))}catch{i.push(Br(o))}else i.push(Br(o))}else i.push(Br(o))}else o&&i.push({type:"text",content:o})}),i},$v=({post:e,currentUserId:t})=>{const[r,n]=y.useState(!1),[s,i]=y.useState(""),[o,l]=y.useState([]),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[m,p]=y.useState(e.userReactions||{}),[w,v]=y.useState(null),[k,g]=y.useState(!1);y.useEffect(()=>{e.userReactions&&p(e.userReactions)},[e.userReactions]),y.useEffect(()=>{(async()=>{var L,I;if(!e.is_anonymous){if((L=e.profile)!=null&&L.full_name&&((I=e.profile)==null?void 0:I.full_name)!=="User"){v(e.profile);return}if(e.user_id)try{const{data:D,error:V}=await M.from("profiles").select("full_name, avatar_url").eq("id",e.user_id).single();if(V)throw V;D&&v(D)}catch(D){console.error("Error fetching author info:",D)}}})()},[e.user_id,e.is_anonymous,e.profile]);const f=j=>{const L=new Date(j),D=Math.floor((new Date-L)/1e3);if(D<60)return"just now";if(D<3600){const V=Math.floor(D/60);return`${V} ${V===1?"minute":"minutes"} ago`}else if(D<86400){const V=Math.floor(D/3600);return`${V} ${V===1?"hour":"hours"} ago`}else if(D<604800){const V=Math.floor(D/86400);return`${V} ${V===1?"day":"days"} ago`}else return new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},x=f(e.created_at),b=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),P=e.post_type==="event",_=e.post_type==="prayer",N=e.post_type==="announcement",S=j=>{var I;const L=(I=e.reactions)==null?void 0:I.find(D=>D.reaction_type===j);return L?parseInt(L.count):0},C=S("like"),T=S("pray"),$=async j=>{if(t)try{const{data:L,error:I}=await M.rpc("toggle_post_reaction",{post_id_param:e.id,user_id_param:t,reaction_type_param:j});if(I)throw I;p(D=>({...D,[j]:L}))}catch(L){console.error("Error toggling reaction:",L)}};y.useEffect(()=>{r&&F()},[r]);const A=j=>{var L;return j?j.user_id===t?localStorage.getItem("userFullName")||"You":(L=j.profiles)!=null&&L.full_name&&j.profiles.full_name!=="User"?j.profiles.full_name:"User":"User"},F=async()=>{if(e.id)try{u(!0);const{data:j,error:L}=await M.from("comments").select("*").eq("post_id",e.id).order("created_at",{ascending:!0});if(L)throw L;if(!j||j.length===0){l([]);return}const I=await Promise.all(j.map(async D=>{if(!D.user_id)return{...D,profiles:null};try{const{data:V}=await M.from("profiles").select("full_name, avatar_url").eq("id",D.user_id).single();return{...D,profiles:V}}catch(V){return console.error("Error fetching commenter profile:",V),{...D,profiles:null}}}));l(I)}catch(j){console.error("Error fetching comments:",j)}finally{u(!1)}},O=async j=>{if(j.preventDefault(),!(!s.trim()||!t))try{h(!0);const{data:L,error:I}=await M.from("comments").insert({post_id:e.id,user_id:t,content:s.trim()}).select();if(I)throw I;if(L&&L.length>0){const D={...L[0],profiles:{full_name:localStorage.getItem("userFullName")||"You",avatar_url:localStorage.getItem("userAvatarUrl")||null}};l(V=>[...V,D])}i("")}catch(L){console.error("Error submitting comment:",L)}finally{h(!1)}},E=(j,L)=>{switch(j.type){case"youtube":return a.jsx("div",{className:"aspect-w-16 aspect-h-9 mt-3 rounded-lg overflow-hidden",children:a.jsx("iframe",{src:j.src,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full border-0"})},`youtube-${L}`);case"suno":return a.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:a.jsx("iframe",{src:j.src,title:"Suno music player",allow:"autoplay",className:"w-full h-24 border-0"})},`suno-${L}`);case"url":return a.jsx("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:j.url},`url-${L}`);case"text":default:return a.jsx("span",{children:j.content},`text-${L}`)}},R=()=>sd(e.content).map((L,I)=>E(L,I)),U=(j,L)=>sd(j).map((D,V)=>E(D,`comment-${L}-${V}`));return a.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden mb-4",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsx(Pv,{post:e,authorInfo:w,relativeTime:x,formattedDate:b,isEvent:P,isPrayer:_,isAnnouncement:N}),a.jsxs("div",{className:"relative ml-auto",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>g(!k),children:a.jsx(J1,{})}),k&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>g(!1),children:"Save post"}),t===e.user_id&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>g(!1),children:"Edit post"}),a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>g(!1),children:"Delete post"})]})]})})]})]}),a.jsxs("div",{className:"p-4 pt-0",children:[a.jsx("div",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-line",children:R()}),e.media_urls&&e.media_urls.length>0&&a.jsx("div",{className:`mt-3 grid ${e.media_urls.length>1?"grid-cols-2 gap-2":"grid-cols-1"}`,children:e.media_urls.map((j,L)=>a.jsx("img",{src:j,alt:`Post media ${L+1}`,className:"w-full h-auto rounded-md object-cover"},L))})]}),(C>0||T>0||e.commentsCount>0)&&a.jsxs("div",{className:"px-4 py-2 flex justify-between text-sm text-gray-500 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{children:[C>0&&a.jsxs("span",{className:"flex items-center inline-block mr-3",children:[a.jsx(ks,{className:"text-red-500 mr-1"})," ",C]}),T>0&&a.jsxs("span",{className:"flex items-center inline-block mr-3",children:[a.jsx(Mt,{className:"text-purple-500 mr-1"})," ",T]})]}),e.commentsCount>0&&a.jsxs("button",{className:"hover:underline",onClick:()=>n(!r),children:[e.commentsCount," ",e.commentsCount===1?"comment":"comments"]})]}),a.jsxs("div",{className:"px-2 py-2 flex justify-between items-center border-t border-gray-100 dark:border-gray-700",children:[a.jsx("button",{className:`flex-1 flex items-center justify-center p-2 rounded-md ${m.like?"text-red-500 font-medium":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>$("like"),children:a.jsxs("span",{className:"inline-flex items-center",children:[m.like?a.jsx(ks,{className:"mr-2"}):a.jsx(gv,{className:"mr-2"}),"Like"]})}),a.jsx("button",{className:"flex-1 flex items-center justify-center p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md",onClick:()=>n(!r),children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(w0,{className:"mr-2"}),"Comment"]})}),a.jsx("button",{className:`flex-1 flex items-center justify-center p-2 rounded-md ${m.pray?"text-purple-500 font-medium":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>$("pray"),children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Mt,{className:"mr-2"}),"Pray"]})})]}),r&&a.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-900 border-t border-gray-100 dark:border-gray-700",children:[t&&a.jsxs("form",{onSubmit:O,className:"mb-4 flex",children:[a.jsx("input",{type:"text",placeholder:"Write a comment...",className:"flex-1 p-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-l-md focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:j=>i(j.target.value),disabled:d}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-r-md disabled:opacity-50",disabled:!s.trim()||d,children:d?"Sending...":"Post"})]}),c?a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2",children:"Loading comments..."}):o.length===0?a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2",children:"No comments yet. Be the first to comment!"}):a.jsx("div",{className:"space-y-4",children:o.map(j=>{var L;return a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 flex-shrink-0",children:(L=j.profiles)!=null&&L.avatar_url?a.jsx("img",{src:j.profiles.avatar_url,alt:A(j),className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(_t,{className:"text-gray-400 dark:text-gray-500"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg px-3 py-2 shadow-sm",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-gray-100",children:A(j)}),a.jsx("div",{className:"text-gray-800 dark:text-gray-200",children:U(j.content,j.id)})]}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-2",children:f(j.created_at)})]})]},j.id)})})]})]})},Lv=({onPostCreated:e,churchId:t})=>{var T,$;const{user:r}=We(),[n,s]=y.useState(""),[i,o]=y.useState("regular"),[l,c]=y.useState([]),[u,d]=y.useState([]),[h,m]=y.useState(!1),[p,w]=y.useState(!1),[v,k]=y.useState(!1),g=y.useRef(),f=A=>{s(A.target.value),!p&&A.target.value&&w(!0)},x=A=>{const F=Array.from(A.target.files);if(F.length===0)return;const O=F.filter(R=>R.type.startsWith("image/")||R.type.startsWith("video/")),E=O.map(R=>({file:R,url:URL.createObjectURL(R),type:R.type.startsWith("image/")?"image":"video"}));c([...l,...O]),d([...u,...E]),w(!0)},b=A=>{URL.revokeObjectURL(u[A].url);const F=[...l];F.splice(A,1);const O=[...u];O.splice(A,1),c(F),d(O)},P=A=>{o(A),w(!0)},_=async A=>{if(A.preventDefault(),!(!n.trim()&&l.length===0))try{m(!0);const F={user_id:r.id,church_id:t,content:n.trim(),media_urls:[],post_type:i,is_anonymous:i==="prayer"&&v},{data:O,error:E}=await M.from("posts").insert(F).select().single();if(E)throw console.error("Post creation error:",E),E;console.log("Post created successfully:",O),s(""),c([]),d([]),o("regular"),k(!1),w(!1),e&&e(O)}catch(F){console.error("Error creating post:",F),alert("Failed to create post. Please try again: "+F.message)}finally{m(!1)}},N=({type:A,icon:F,label:O,active:E})=>a.jsxs("button",{type:"button",className:`flex items-center px-3 py-1.5 rounded-full text-sm ${E?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>P(A),children:[F,a.jsx("span",{className:"ml-1",children:O})]}),{avatar_url:S,full_name:C}=(r==null?void 0:r.user_metadata)||{};return a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:a.jsxs("form",{onSubmit:_,children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200",children:S?a.jsx("img",{src:S,alt:C,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(_t,{className:"text-gray-400"})})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{placeholder:`What's on your mind, ${(C==null?void 0:C.split(" ")[0])||"there"}?`,className:"w-full border rounded-lg p-3 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-lg text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-800 dark:border-gray-700 resize-none",rows:p?4:2,value:n,onChange:f,onClick:()=>w(!0)}),u.length>0&&a.jsx("div",{className:`grid gap-2 mb-3 ${u.length>1?"grid-cols-2":"grid-cols-1"}`,children:u.map((A,F)=>a.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100",children:[A.type==="image"?a.jsx("img",{src:A.url,alt:`Upload preview ${F+1}`,className:"w-full h-48 object-cover"}):a.jsx("video",{src:A.url,className:"w-full h-48 object-cover",controls:!0}),a.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white rounded-full p-1",onClick:()=>b(F),children:a.jsx(_s,{})})]},F))})]})]})}),p&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto pb-1",children:[a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap",children:"Post type:"}),a.jsx(N,{type:"regular",icon:a.jsx(_t,{className:"text-blue-500"}),label:"Regular",active:i==="regular"}),a.jsx(N,{type:"prayer",icon:a.jsx(Mt,{className:"text-purple-500"}),label:"Prayer Request",active:i==="prayer"}),a.jsx(N,{type:"event",icon:a.jsx(mr,{className:"text-green-500"}),label:"Event",active:i==="event"}),(((T=r==null?void 0:r.user_metadata)==null?void 0:T.role)==="admin"||(($=r==null?void 0:r.user_metadata)==null?void 0:$.role)==="worship_leader")&&a.jsx(N,{type:"announcement",icon:a.jsx(m0,{className:"text-yellow-500"}),label:"Announcement",active:i==="announcement"})]})}),i==="prayer"&&a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 dark:text-gray-300 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:A=>k(A.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("span",{children:"Post anonymously"})]})}),a.jsxs("div",{className:"px-4 py-2 flex items-center justify-between border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-3 py-1.5",onClick:()=>g.current.click(),children:[a.jsx(nv,{className:"text-green-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Photo"})]}),a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-3 py-1.5",onClick:()=>g.current.click(),children:[a.jsx(fv,{className:"text-red-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Video"})]}),a.jsx("input",{type:"file",multiple:!0,ref:g,className:"hidden",onChange:x,accept:"image/*,video/*"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",className:"px-4 py-1.5 text-sm border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>{w(!1),s(""),c([]),d([]),o("regular"),k(!1)},children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h||!n.trim()&&l.length===0,className:"px-4 py-1.5 text-sm font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:h?a.jsxs(a.Fragment,{children:[a.jsx(ol,{className:"animate-spin mr-1.5"}),"Posting..."]}):"Post"})]})]})]})]})})},Ov=({currentUserId:e,churchId:t})=>{const{user:r}=We(),[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null),[u,d]=y.useState("all"),[h,m]=y.useState(0),[p,w]=y.useState(!0),[v,k]=y.useState(0),g=10;y.useEffect(()=>{f()},[h,u,v,t]),y.useEffect(()=>{e&&(r!=null&&r.user_metadata)&&(async()=>{try{const S=r.user_metadata.full_name,C=r.user_metadata.avatar_url;if(S)try{localStorage.setItem("userFullName",S),C&&localStorage.setItem("userAvatarUrl",C);const T=JSON.parse(localStorage.getItem("usernamesCache")||"{}");T[e]=S,localStorage.setItem("usernamesCache",JSON.stringify(T))}catch(T){console.error("Error updating localStorage cache:",T)}}catch(S){console.error("Error setting user metadata:",S)}})()},[e,r]);const f=async()=>{try{o(!0);let N=M.from("posts_with_authors").select("*").order("created_at",{ascending:!1}).range(h*g,(h+1)*g-1);if(u==="following"&&e){const{data:$}=await M.from("follows").select("following_id").eq("follower_id",e),A=($==null?void 0:$.map(F=>F.following_id))||[];if(A.length===0){w(!1),s([]),o(!1);return}else N=N.in("user_id",A)}else u==="church"&&t?N=N.eq("church_id",t):u!=="all"&&(N=N.eq("post_type",u));const{data:S,error:C}=await N;if(C){console.error("Error with posts_with_authors view:",C);let $=M.from("posts").select("*").order("created_at",{ascending:!1}).range(h*g,(h+1)*g-1);if(u==="following"&&e){const E=(followingData==null?void 0:followingData.map(R=>R.following_id))||[];$=$.in("user_id",E)}else u==="church"&&t?$=$.eq("church_id",t):u!=="all"&&($=$.eq("post_type",u));const{data:A,error:F}=await $;if(F)throw F;w(A.length===g);const O=await Promise.all(A.map(async E=>{var j,L;let R="User",U=null;if(E.user_id===e)R=((j=r==null?void 0:r.user_metadata)==null?void 0:j.full_name)||"You",U=(L=r==null?void 0:r.user_metadata)==null?void 0:L.avatar_url;else try{const I=JSON.parse(localStorage.getItem("usernamesCache")||"{}");if(I[E.user_id])R=I[E.user_id];else{const{data:D}=await M.rpc("get_user_full_name",{user_id_param:E.user_id});if(D){R=D;const V=JSON.parse(localStorage.getItem("usernamesCache")||"{}");V[E.user_id]=D,localStorage.setItem("usernamesCache",JSON.stringify(V))}}}catch(I){console.log("Error fetching user data:",I)}return x(E,R,U)}));b(O),o(!1);return}w(S.length===g);const T=await Promise.all(S.map(async $=>{const A=$.full_name||"User",F=$.avatar_url;if(A&&A!=="User"&&$.user_id)try{const O=JSON.parse(localStorage.getItem("usernamesCache")||"{}");O[$.user_id]=A,localStorage.setItem("usernamesCache",JSON.stringify(O))}catch(O){console.log("Error updating usernames cache:",O)}return x($,A,F)}));b(T)}catch(N){console.error("Error fetching posts:",N),c(N.message)}finally{o(!1)}},x=async(N,S,C)=>{let T={full_name:S,avatar_url:C},$=null;if(N.church_id&&!N.church_name){const{data:j,error:L}=await M.from("churches").select("name").eq("id",N.church_id).single();L||($=j)}else N.church_name&&($={name:N.church_name});const{data:A,error:F}=await M.from("reactions").select("reaction_type").eq("post_id",N.id),O=A?Array.from(A.reduce((j,{reaction_type:L})=>(j.set(L,(j.get(L)||0)+1),j),new Map)).map(([j,L])=>({reaction_type:j,count:L})):[];F&&console.error("Error fetching reactions:",F);const{count:E,error:R}=await M.from("comments").select("id",{count:"exact"}).eq("post_id",N.id);R&&console.error("Error fetching comments count:",R);let U={};if(e){const{data:j,error:L}=await M.from("reactions").select("reaction_type").eq("post_id",N.id).eq("user_id",e);L&&console.error("Error fetching user reactions:",L),j==null||j.forEach(I=>{U[I.reaction_type]=!0})}return{...N,profile:T,church:$,reactions:O||[],commentsCount:E||0,userReactions:U,created_at:N.created_at||new Date().toISOString()}},b=N=>{s(h===0?N:S=>[...S,...N])},P=N=>{var S,C;if(e){const T={...N,profile:{full_name:((S=r==null?void 0:r.user_metadata)==null?void 0:S.full_name)||"You",avatar_url:((C=r==null?void 0:r.user_metadata)==null?void 0:C.avatar_url)||null},reactions:[],commentsCount:0,userReactions:{}};s($=>[T,...$])}else m(0),k(T=>T+1)},_=()=>{!i&&p&&m(N=>N+1)};return a.jsxs("div",{className:"space-y-4",children:[e&&a.jsx(Lv,{onPostCreated:P,churchId:t}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow flex items-center space-x-1 overflow-x-auto",children:[a.jsx(ev,{className:"text-gray-400 mr-2 flex-shrink-0"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="all"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("all"),children:"All"}),e&&a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${u==="following"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("following"),children:"Following"}),t&&a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${u==="church"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("church"),children:"My Church"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="event"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("event"),children:"Events"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="prayer"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("prayer"),children:"Prayer"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="announcement"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,onClick:()=>d("announcement"),children:"Announcements"})]}),l?a.jsxs("div",{className:"bg-red-100 dark:bg-red-900 p-4 rounded-md text-red-800 dark:text-red-200",children:["Error loading posts: ",l]}):n.length===0&&!i?a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"No posts found"}),a.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:u==="following"?"You're not following anyone yet, or the people you follow haven't posted anything.":u==="church"?"Your church doesn't have any posts yet.":u!=="all"?`No ${u} posts found.`:"There are no posts yet. Be the first to share something!"})]}):a.jsxs("div",{className:"space-y-4",children:[n.map(N=>a.jsx($v,{post:N,currentUserId:e},N.id)),i&&a.jsx("div",{className:"space-y-4",children:[1,2].map(N=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/6 animate-pulse"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 animate-pulse"})]}),a.jsx("div",{className:"h-40 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]},N))}),p&&!i&&a.jsx("button",{onClick:_,className:"w-full py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md",children:"Load more"})]})]})};ne.extend(pc);const Rv=()=>{const{user:e}=We(),[t,r]=y.useState([]),[n,s]=y.useState([]),[i,o]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(null),[h,m]=y.useState(null);return y.useEffect(()=>{(async()=>{try{c(!0);const w=localStorage.getItem("userChurchId");if(w)m(w);else try{const{data:v,error:k}=await M.from("profiles").select("church_id").eq("id",e.id).single();k?console.error("Profile error:",k):v!=null&&v.church_id&&(m(v.church_id),localStorage.setItem("userChurchId",v.church_id))}catch(v){console.error("Error querying profiles:",v)}if(h||w){const v=h||w,{data:k,error:g}=await M.from("churches").select("*").eq("id",v).single();g?console.error("Church error:",g):d(k);const f=ne().toISOString(),x=ne().add(7,"day").toISOString(),{data:b,error:P}=await M.from("events").select("*").eq("church_id",v).gte("start_time",f).lte("start_time",x).order("start_time",{ascending:!0}).limit(5);P?console.error("Event error:",P):r(b||[]);const{data:_,error:N}=await M.from("songs").select("*").eq("church_id",v).order("created_at",{ascending:!1}).limit(5);N?console.error("Song error:",N):s(_||[]);const{data:S,error:C}=await M.from("prayer_requests").select("*").eq("church_id",v).eq("is_private",!1).order("created_at",{ascending:!1}).limit(5);C?console.error("Prayer error:",C):o(S||[])}}catch(w){console.error("Error fetching dashboard data:",w)}finally{c(!1)}})()},[e==null?void 0:e.id]),l?a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((p,w)=>a.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"},w))}),a.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}):a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Feed"}),u&&a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:u.name}),!u&&a.jsxs("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[a.jsx("p",{className:"text-yellow-700",children:"You're not connected to a church yet. Join or create one to access all features."}),a.jsxs(ge,{to:"/churches",className:"mt-3 inline-flex items-center justify-center w-full sm:w-auto px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[a.jsx(Mr,{className:"mr-2"}),"Find or Create a Church"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(ge,{to:"/calendar",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(mr,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Calendar"})]}),a.jsxs(ge,{to:"/songs",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(lt,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Songs"})]}),a.jsxs(ge,{to:"/prayer-requests",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(Mt,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Prayer"})]}),a.jsxs(ge,{to:"/teams",className:"flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(v0,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Teams"})]})]}),a.jsx(Ov,{currentUserId:e.id,churchId:h})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Upcoming Events"}),a.jsx(ge,{to:"/calendar",className:"text-sm text-blue-600 font-medium",children:"View all "})]}),t.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No upcoming events in the next 7 days"}):a.jsx("div",{className:"space-y-3",children:t.map(p=>a.jsxs("div",{className:"flex items-start p-3 border border-gray-100 dark:border-gray-700 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsxs("div",{className:"min-w-[60px] text-center",children:[a.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:ne(p.start_time).format("MMM")}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ne(p.start_time).format("DD")})]}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:p.title}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ne(p.start_time).format("h:mm A")," - ",ne(p.end_time).format("h:mm A")]}),p.location&&a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:p.location})]})]},p.id))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Prayer Requests"}),a.jsx(ge,{to:"/prayer-requests",className:"text-sm text-blue-600 font-medium",children:"View all "})]}),i.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No prayer requests yet"}):a.jsx("div",{className:"space-y-3",children:i.map(p=>a.jsxs("div",{className:"p-3 border-b last:border-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:p.title}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2",children:p.description}),a.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[p.is_anonymous?"Anonymous":"User","  ",ne(p.created_at).fromNow()]})]},p.id))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Recent Songs"}),a.jsx(ge,{to:"/songs",className:"text-sm text-blue-600 font-medium",children:"View all "})]}),n.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No songs added yet"}):a.jsx("div",{className:"space-y-3",children:n.map(p=>a.jsxs("div",{className:"flex items-center p-3 border-b last:border-0",children:[a.jsx(lt,{className:"text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:p.title}),p.artist&&a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:p.artist})]})]},p.id))})]})]})]})]})},Av=()=>{const e=Ie(),[t,r]=y.useState(ne()),[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState("month");y.useEffect(()=>{(async()=>{try{o(!0);const x=t.startOf("month").toISOString(),b=t.endOf("month").toISOString(),{data:P,error:_}=await M.from("events").select(`
            id,
            title,
            description,
            start_time,
            end_time,
            location,
            church_id,
            team_id,
            event_type,
            churches (name)
          `).gte("start_time",x).lte("start_time",b);if(_)throw _;s(P||[])}catch(x){console.error("Error fetching events:",x)}finally{o(!1)}})()},[t]);const u=()=>{l==="month"?r(t.subtract(1,"month")):l==="quarter"?r(t.subtract(3,"month")):l==="year"&&r(t.subtract(1,"year"))},d=()=>{l==="month"?r(t.add(1,"month")):l==="quarter"?r(t.add(3,"month")):l==="year"&&r(t.add(1,"year"))},h=()=>{const f=t.startOf("month"),x=t.endOf("month"),b=f.startOf("week"),P=x.endOf("week"),_=[];let N=b;for(;N.isBefore(P)||N.isSame(P,"day");)_.push(N),N=N.add(1,"day");return _},m=f=>n.filter(x=>ne(x.start_time).isSame(f,"day")),p=()=>{e("/services/new")},w=f=>{f.event_type==="service"?e(`/services/${f.id}`):e(`/events/${f.id}`)},v=()=>{const f=h(),x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 border-b dark:border-gray-700 p-2",children:x.map(b=>a.jsx("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:b},b))}),a.jsx("div",{className:"grid grid-cols-7 gap-1 p-2",children:f.map(b=>{const P=b.month()===t.month(),_=b.isSame(ne(),"day"),N=m(b);return a.jsxs("div",{className:`min-h-[80px] p-1 border rounded ${P?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900 text-gray-400 dark:text-gray-500"} ${_?"border-blue-500":"border-gray-200 dark:border-gray-700"}`,children:[a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`text-sm font-medium ${_?"bg-blue-500 text-white rounded-full w-6 h-6 inline-flex items-center justify-center":""}`,children:b.date()})}),a.jsxs("div",{className:"mt-1 space-y-1",children:[N.slice(0,3).map(S=>a.jsxs("div",{className:`truncate text-xs rounded p-1 cursor-pointer ${S.event_type==="service"?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300":"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300"}`,title:S.title,onClick:()=>w(S),children:[S.event_type==="service"&&a.jsx(lt,{className:"inline mr-1",size:10}),S.title]},S.id)),N.length>3&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",N.length-3," more"]})]})]},b.valueOf())})})]})},k=()=>a.jsx("div",{className:"text-center py-20 text-gray-500 dark:text-gray-400",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Quarterly view coming soon"})}),g=()=>a.jsx("div",{className:"text-center py-20 text-gray-500 dark:text-gray-400",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Yearly view coming soon"})});return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Calendar"}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded shadow-sm flex items-center",title:"Add new service",onClick:p,children:[a.jsx(Le,{className:"mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Service"})]})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300","aria-label":"Previous",children:a.jsx(V1,{})}),a.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:[l==="month"&&t.format("MMMM YYYY"),l==="quarter"&&`Q${Math.ceil((t.month()+1)/3)} ${t.year()}`,l==="year"&&t.format("YYYY")]}),a.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300","aria-label":"Next",children:a.jsx(H1,{})})]}),a.jsxs("div",{className:"border dark:border-gray-700 rounded-md overflow-hidden",children:[a.jsx("button",{onClick:()=>c("month"),className:`px-3 py-1 text-sm ${l==="month"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Month"}),a.jsx("button",{onClick:()=>c("quarter"),className:`px-3 py-1 text-sm ${l==="quarter"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Quarter"}),a.jsx("button",{onClick:()=>c("year"),className:`px-3 py-1 text-sm ${l==="year"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Year"})]})]}),i&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!i&&a.jsxs(a.Fragment,{children:[l==="month"&&v(),l==="quarter"&&k(),l==="year"&&g()]}),a.jsxs("div",{className:"flex items-center justify-end space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-blue-100 rounded mr-1"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Services"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-green-100 rounded mr-1"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Other Events"})]})]})]})},Mv=()=>{const e=Ie(),[t,r]=y.useState([]),[n,s]=y.useState(!0),[i,o]=y.useState("");y.useEffect(()=>{(async()=>{try{s(!0);const{data:m,error:p}=await M.from("songs").select("*").order("title",{ascending:!0});if(p)throw p;r(m||[])}catch(m){console.error("Error fetching songs:",m)}finally{s(!1)}})()},[]);const l=t.filter(h=>h.title.toLowerCase().includes(i.toLowerCase())||h.artist&&h.artist.toLowerCase().includes(i.toLowerCase())),c=()=>{e("/songs/new")},u=h=>{e(`/songs/${h}`)},d=(h,m)=>{m.stopPropagation(),e(`/songs/edit/${h}`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Songs"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new song",onClick:c,children:a.jsx(Le,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(bi,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search songs by title or artist...",value:i,onChange:h=>o(h.target.value)})]}),n&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!n&&a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:l.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(lt,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No songs found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i?"No songs match your search criteria.":"Get started by adding a new song."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx(Le,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Song"]})})]}):a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.map(h=>a.jsx("li",{className:"px-4 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>u(h.id),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:h.title}),h.artist&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.artist})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[h.default_key&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",children:["Key: ",h.default_key]}),a.jsx("button",{onClick:m=>u(h.id),className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",title:"View song",children:a.jsx(hc,{})}),a.jsx("button",{onClick:m=>d(h.id,m),className:"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",title:"Edit song",children:a.jsx(vi,{})})]})]})},h.id))})})]})},Iv=()=>{const e=Ie(),[t,r]=y.useState([]),[n,s]=y.useState(!0),[i,o]=y.useState("");y.useEffect(()=>{(async()=>{try{s(!0);const{data:m,error:p}=await M.from("events").select(`
            id,
            title,
            description,
            start_time,
            end_time,
            location,
            church_id,
            team_id,
            churches (name)
          `).eq("event_type","service").order("start_time",{ascending:!1});if(p)throw p;r(m||[])}catch(m){console.error("Error fetching services:",m)}finally{s(!1)}})()},[]);const l=t.filter(h=>{var m;return h.title.toLowerCase().includes(i.toLowerCase())||h.description&&h.description.toLowerCase().includes(i.toLowerCase())||((m=h.churches)==null?void 0:m.name)&&h.churches.name.toLowerCase().includes(i.toLowerCase())}),c=()=>{e("/services/new")},u=h=>{e(`/services/${h}`)},d=(h,m)=>{m.stopPropagation(),e(`/services/edit/${h}`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Services"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new service",onClick:c,children:a.jsx(Le,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(bi,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search services by title, description, or church...",value:i,onChange:h=>o(h.target.value)})]}),n&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!n&&a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(mr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No services found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i?"No services match your search criteria.":"Get started by adding a new service."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx(Le,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Service"]})})]}):a.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(h=>{var m;return a.jsx("li",{className:"px-4 py-4 hover:bg-gray-50 cursor-pointer",onClick:()=>u(h.id),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h.title}),a.jsx("p",{className:"text-sm text-gray-500",children:ne(h.start_time).format("dddd, MMMM D, YYYY  h:mm A")}),((m=h.churches)==null?void 0:m.name)&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.churches.name})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:p=>u(h.id),className:"text-gray-500 hover:text-blue-600",title:"View service",children:a.jsx(hc,{})}),a.jsx("button",{onClick:p=>d(h.id,p),className:"text-gray-500 hover:text-blue-600",title:"Edit service",children:a.jsx(vi,{})})]})]})},h.id)})})})]})},zv=({profile:e,isCurrentUser:t,onAvatarChange:r,onCoverChange:n,onEditProfile:s,uploadingAvatar:i,uploadingCover:o,stats:l})=>{const c=y.useRef(null),u=y.useRef(null),d=()=>{t&&c.current.click()},h=()=>{t&&u.current.click()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative h-48 bg-gray-200 rounded-lg overflow-hidden",children:[e.coverUrl?a.jsx("img",{src:e.coverUrl,alt:"Cover",className:"w-full h-full object-cover"}):a.jsx("div",{className:"h-full w-full bg-gradient-to-r from-blue-500 to-purple-600"}),t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"absolute bottom-2 right-2 bg-white bg-opacity-70 p-2 rounded-full",onClick:h,disabled:o,children:a.jsx(Xu,{className:"text-gray-700"})}),a.jsx("input",{type:"file",ref:u,onChange:n,className:"hidden",accept:"image/*"})]})]}),a.jsxs("div",{className:"relative flex flex-col md:flex-row gap-4 -mt-16 md:-mt-12 px-4",children:[a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"w-32 h-32 rounded-full bg-white p-1 shadow-lg",children:[e.avatarUrl?a.jsx("img",{src:e.avatarUrl,alt:e.fullName,className:"w-full h-full rounded-full object-cover"}):a.jsx("div",{className:"w-full h-full rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(_t,{className:"text-gray-400 text-4xl"})}),t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"absolute bottom-0 right-0 bg-white bg-opacity-70 p-2 rounded-full shadow",onClick:d,disabled:i,children:a.jsx(Xu,{className:"text-gray-700"})}),a.jsx("input",{type:"file",ref:c,onChange:r,className:"hidden",accept:"image/*"})]})]})}),a.jsxs("div",{className:"flex-1 pt-16 md:pt-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.fullName}),a.jsxs("p",{className:"text-gray-600",children:[e.churchName?`${e.churchName}  `:"",e.role==="member"?"Member":e.role==="admin"?"Administrator":e.role==="worship_leader"?"Worship Leader":e.role]})]}),t&&a.jsx("div",{className:"mt-2 md:mt-0 space-x-2",children:a.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md flex items-center",onClick:s,children:[a.jsx(vi,{className:"mr-2"})," Edit Profile"]})})]}),a.jsxs("div",{className:"flex mt-4 gap-4 text-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-gray-900",children:l.posts}),a.jsx("div",{className:"text-sm text-gray-600",children:"Posts"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-gray-900",children:l.followers}),a.jsx("div",{className:"text-sm text-gray-600",children:"Followers"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-gray-900",children:l.following}),a.jsx("div",{className:"text-sm text-gray-600",children:"Following"})]})]})]})]})]})},Dv=({profile:e})=>a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:a.jsxs("div",{className:"p-6 space-y-4",children:[e.bio&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"About"}),a.jsx("p",{className:"text-gray-700",children:e.bio})]}),e.churchName&&a.jsxs("div",{className:"flex items-start",children:[a.jsx(Mr,{className:"mt-1 mr-2 text-gray-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Church"}),a.jsx("p",{className:"text-gray-700",children:e.churchName})]})]}),e.role&&a.jsxs("div",{className:"flex items-start",children:[a.jsx(Y1,{className:"mt-1 mr-2 text-gray-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Role"}),a.jsx("p",{className:"text-gray-700",children:e.role})]})]}),e.spiritualGifts&&e.spiritualGifts.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ks,{className:"mr-2 text-gray-500"}),a.jsx("h3",{className:"font-medium text-gray-900",children:"Spiritual Gifts"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.spiritualGifts.map(t=>a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:t},t))})]}),e.ministryInterests&&e.ministryInterests.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(lt,{className:"mr-2 text-gray-500"}),a.jsx("h3",{className:"font-medium text-gray-900",children:"Ministry Interests"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.ministryInterests.map(t=>a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:t},t))})]})]})}),Va=({tags:e=[],onTagsChange:t,options:r=[],allowCustom:n=!1,placeholder:s="Add a tag...",label:i="Tags",name:o="tags"})=>{const[l,c]=y.useState(""),[u,d]=y.useState(!1),h=r.filter(v=>!e.includes(v)).filter(v=>v.toLowerCase().includes(l.toLowerCase())),m=v=>{v&&(e.includes(v)||t([...e,v]),c(""),d(!1))},p=v=>{t(e.filter(k=>k!==v))},w=v=>{v.key==="Enter"&&l&&(v.preventDefault(),n||r.includes(l)?m(l):h.length>0&&m(h[0])),v.key==="Escape"&&d(!1)};return a.jsxs("div",{className:"space-y-2",children:[i&&a.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:i}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(v=>a.jsxs("div",{className:"flex items-center bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded-md text-sm",children:[a.jsx("span",{children:v}),a.jsx("button",{type:"button",onClick:()=>p(v),className:"ml-1 p-1 rounded-full hover:bg-blue-200 dark:hover:bg-blue-800","aria-label":`Remove ${v}`,children:a.jsx(_s,{size:10})})]},v))}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",id:o,name:o,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:s,value:l,onChange:v=>{c(v.target.value),d(!0)},onFocus:()=>d(!0),onBlur:()=>{setTimeout(()=>d(!1),200)},onKeyDown:w}),u&&l&&h.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 max-h-60 overflow-auto",children:h.map(v=>a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center",onMouseDown:()=>m(v),children:[a.jsx(Le,{className:"text-blue-500 mr-2",size:12}),a.jsx("span",{children:v})]},v))}),u&&l&&h.length===0&&n&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center",onMouseDown:()=>m(l),children:[a.jsx(Le,{className:"text-blue-500 mr-2",size:12}),a.jsxs("span",{children:['Add "',l,'"']})]})})]})]})},Fv=({profile:e,onProfileChange:t,onSubmit:r,onCancel:n,updating:s,spiritualGiftOptions:i,ministryInterestOptions:o})=>{const l=d=>{const{name:h,value:m}=d.target;t(p=>({...p,[h]:m}))},c=d=>{t(h=>({...h,spiritualGifts:d}))},u=d=>{t(h=>({...h,ministryInterests:d}))};return a.jsx("form",{onSubmit:r,children:a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsx("input",{type:"text",name:"fullName",id:"fullName",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:e.fullName,onChange:l})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),a.jsx("textarea",{name:"bio",id:"bio",rows:"3",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:e.bio,onChange:l,placeholder:"Share a little about yourself, your faith journey, etc."})]}),a.jsx("div",{children:a.jsx(Va,{name:"spiritualGifts",label:"Spiritual Gifts",tags:e.spiritualGifts,onTagsChange:c,options:i,placeholder:"Select your spiritual gifts..."})}),a.jsx("div",{children:a.jsx(Va,{name:"ministryInterests",label:"Ministry Interests",tags:e.ministryInterests,onTagsChange:u,options:o,placeholder:"Select your ministry interests..."})})]}),a.jsxs("div",{className:"px-6 py-3 bg-gray-50 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:n,children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:s,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[s?a.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-t-2 border-white rounded-full"}):a.jsx(p0,{className:"mr-2"}),"Save Changes"]})]})]})})},ad=({connection:e,currentUserId:t,onFollowToggle:r,isFollowing:n})=>{const s=e.profiles||e,i=e.follower_id||e.following_id;return a.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[a.jsxs(ge,{to:`/profile/${i}`,className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 mr-3 flex-shrink-0",children:s.avatar_url?a.jsx("img",{src:s.avatar_url,alt:s.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(_t,{className:"text-gray-400"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:s.full_name}),s.church_id&&a.jsx("p",{className:"text-xs text-gray-500",children:s.church_name||"Church Member"}),s.spiritual_gifts&&s.spiritual_gifts.length>0&&a.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[s.spiritual_gifts.slice(0,3).map(o=>a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:o},o)),s.spiritual_gifts.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.spiritual_gifts.length-3," more"]})]})]})]}),i!==t&&a.jsx("button",{onClick:()=>r(i),className:`flex items-center px-3 py-1 rounded-md text-sm ${n?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:n?a.jsxs(a.Fragment,{children:[a.jsx(hv,{className:"mr-1"}),"Unfollow"]}):a.jsxs(a.Fragment,{children:[a.jsx(x0,{className:"mr-1"}),"Follow"]})})]})},Uv=({followers:e,following:t,currentUserId:r,onFollowToggle:n,activeConnectionTab:s="followers",onTabChange:i})=>{const o=t.map(v=>v.following_id),[l,c]=y.useState(""),[u,d]=y.useState([]),h=new Set;[...e,...t].forEach(v=>{const k=v.profiles||v;k.spiritual_gifts&&Array.isArray(k.spiritual_gifts)&&k.spiritual_gifts.forEach(g=>h.add(g)),k.ministry_interests&&Array.isArray(k.ministry_interests)&&k.ministry_interests.forEach(g=>h.add(g))});const m=v=>v.filter(k=>{var b;const g=k.profiles||k,f=(b=g.full_name)==null?void 0:b.toLowerCase().includes(l.toLowerCase());let x=!0;return u.length>0&&(x=!1,[...g.spiritual_gifts||[],...g.ministry_interests||[]].some(_=>u.includes(_))&&(x=!0)),f&&x}),p=m(e),w=m(t);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-4 border-b",children:[a.jsx("button",{onClick:()=>i("followers"),className:`pb-2 px-4 ${s==="followers"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500"}`,children:"Followers"}),a.jsx("button",{onClick:()=>i("following"),className:`pb-2 px-4 ${s==="following"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500"}`,children:"Following"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:"Search connections...",value:l,onChange:v=>c(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})}),h.size>0&&a.jsx(Va,{tags:u,onTagsChange:d,options:[...h],label:"Filter by gifts & interests",placeholder:"Filter by gifts or interests..."})]}),a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s==="followers"?p.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:l||u.length>0?"No followers match your filters":"No followers yet"}):a.jsx("div",{children:p.map(v=>a.jsx(ad,{connection:v,currentUserId:r,onFollowToggle:n,isFollowing:o.includes(v.follower_id)},v.follower_id))}):w.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:l||u.length>0?"No connections match your filters":"Not following anyone yet"}):a.jsx("div",{children:w.map(v=>a.jsx(ad,{connection:v,currentUserId:r,onFollowToggle:n,isFollowing:!0},v.following_id))})})]})};ne.extend(pc);const Bv=({post:e,isCurrentUser:t})=>a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-4",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 mr-3",children:e.profile.avatar_url&&a.jsx("img",{src:e.profile.avatar_url,alt:e.profile.full_name,className:"h-full w-full object-cover"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e.profile.full_name}),a.jsx("p",{className:"text-sm text-gray-500",children:ne(e.created_at).fromNow()})]})]}),a.jsx("div",{className:"mb-3",children:a.jsx("p",{className:"text-gray-800",children:e.content})}),e.image_url&&a.jsx("div",{className:"mb-3 rounded-lg overflow-hidden",children:a.jsx("img",{src:e.image_url,alt:"Post attachment",className:"w-full object-cover"})}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(ks,{className:"mr-1 text-red-500"}),e.reaction_count||0," likes"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(w0,{className:"mr-1"}),e.commentsCount||0," comments"]})]}),t&&a.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:"Edit"})]})]})}),Vv=({posts:e,loading:t,isCurrentUser:r})=>t?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e.length===0?a.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[a.jsx("h3",{className:"text-gray-500 font-medium",children:"No posts yet"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r?"Share your first post with your church community.":"This user has not posted anything yet."})]}):a.jsx("div",{children:e.map(n=>a.jsx(Bv,{post:n,isCurrentUser:r},n.id))}),Hv=()=>{const{userId:e}=Ts(),{user:t,updateProfile:r}=We(),n=t==null?void 0:t.id,s=e||n,i=s===n,[o,l]=y.useState(!0),[c,u]=y.useState(!1),[d,h]=y.useState(null),[m,p]=y.useState("profile"),[w,v]=y.useState(!1),[k,g]=y.useState(!1),[f,x]=y.useState([]),[b,P]=y.useState([]),[_,N]=y.useState([]),[S,C]=y.useState(!1),[T,$]=y.useState(!1),[A,F]=y.useState("followers"),[O,E]=y.useState({fullName:"",email:"",churchName:"",role:"",bio:"",avatarUrl:"",coverUrl:"",spiritualGifts:[],ministryInterests:[]});y.useEffect(()=>{R()},[s]);const R=async()=>{var Q;try{l(!0);const{data:B,error:te}=await M.from("profiles").select("*, churches:church_id(*)").eq("id",s).single();if(te)throw te;E({fullName:(B==null?void 0:B.full_name)||"",email:(B==null?void 0:B.email)||"",churchName:((Q=B==null?void 0:B.churches)==null?void 0:Q.name)||"",role:(B==null?void 0:B.user_role)||"member",bio:(B==null?void 0:B.bio)||"",avatarUrl:(B==null?void 0:B.avatar_url)||"",coverUrl:(B==null?void 0:B.cover_url)||"",spiritualGifts:(B==null?void 0:B.spiritual_gifts)||[],ministryInterests:(B==null?void 0:B.ministry_interests)||[]}),U(s),j(s),L(s)}catch(B){console.error("Error fetching profile:",B)}finally{l(!1)}},U=async Q=>{try{C(!0);const{data:B,error:te}=await M.from("posts").select("*").eq("user_id",Q).order("created_at",{ascending:!1}).limit(10);if(te)throw te;const ee=await Promise.all(B.map(async ve=>{const{data:Ge}=await M.from("profiles").select("full_name, avatar_url").eq("id",ve.user_id).single(),{data:tt,error:Ir}=await M.from("reactions").select("reaction_type, count(*)",{count:"exact"}).eq("post_id",ve.id).group("reaction_type");Ir&&console.error("Error fetching reactions:",Ir);const{count:$0,error:xc}=await M.from("comments").select("id",{count:"exact"}).eq("post_id",ve.id);return xc&&console.error("Error fetching comments count:",xc),{...ve,profile:Ge||{full_name:O.fullName,avatar_url:O.avatarUrl},reactions:tt||[],commentsCount:$0||0}}));x(ee)}catch(B){console.error("Error fetching posts:",B)}finally{C(!1)}},j=async Q=>{try{const{data:B,error:te}=await M.from("follows").select("following_id, profiles:following_id(*)").eq("follower_id",Q);if(te)throw te;P(B||[])}catch(B){console.error("Error fetching following:",B)}},L=async Q=>{try{const{data:B,error:te}=await M.from("follows").select("follower_id, profiles:follower_id(*)").eq("following_id",Q);if(te)throw te;N(B||[])}catch(B){console.error("Error fetching followers:",B)}},I=async Q=>{Q.preventDefault();try{u(!0),h(null);const{error:B}=await M.from("profiles").update({full_name:O.fullName,bio:O.bio,spiritual_gifts:O.spiritualGifts,ministry_interests:O.ministryInterests}).eq("id",n);if(B)throw B;await r({fullName:O.fullName}),$(!1),h({type:"success",text:"Profile updated successfully"})}catch(B){console.error("Error updating profile:",B),h({type:"error",text:B.message||"Failed to update profile"})}finally{u(!1)}},D=async Q=>{try{v(!0);const B=Q.target.files[0];if(!B)return;const te=B.name.split(".").pop(),ee=`${n}/${Math.random().toString(36).substring(2)}.${te}`,{error:ve}=await M.storage.from("avatars").upload(ee,B);if(ve)throw ve;const{data:Ge}=M.storage.from("avatars").getPublicUrl(ee),{error:tt}=await M.from("profiles").update({avatar_url:Ge.publicUrl}).eq("id",n);if(tt)throw tt;E(Ir=>({...Ir,avatarUrl:Ge.publicUrl}))}catch(B){console.error("Error uploading avatar:",B),h({type:"error",text:"Failed to upload avatar"})}finally{v(!1)}},V=async Q=>{try{g(!0);const B=Q.target.files[0];if(!B)return;const te=B.name.split(".").pop(),ee=`covers/${n}/${Math.random().toString(36).substring(2)}.${te}`,{error:ve}=await M.storage.from("avatars").upload(ee,B);if(ve)throw ve;const{data:Ge}=M.storage.from("avatars").getPublicUrl(ee),{error:tt}=await M.from("profiles").update({cover_url:Ge.publicUrl}).eq("id",n);if(tt)throw tt;E(Ir=>({...Ir,coverUrl:Ge.publicUrl}))}catch(B){console.error("Error uploading cover:",B),h({type:"error",text:"Failed to upload cover image"})}finally{g(!1)}},W=async Q=>{try{const{data:B,error:te}=await M.from("follows").select("id").eq("follower_id",n).eq("following_id",Q).single();if(te&&te.code!=="PGRST116")throw te;if(B){const{error:ee}=await M.from("follows").delete().eq("id",B.id);if(ee)throw ee}else{const{error:ee}=await M.from("follows").insert({follower_id:n,following_id:Q});if(ee)throw ee}j(s),L(s)}catch(B){console.error("Error toggling follow:",B),h({type:"error",text:"Failed to update follow status"})}};if(o)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-48 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]});const G=["Teaching","Worship","Leadership","Service","Hospitality","Prayer","Giving","Administration","Encouragement","Evangelism"],oe=["Worship Team","Children's Ministry","Youth Ministry","Missions","Media/Tech","Hospitality","Prayer Team","Small Groups","Outreach"],xe={posts:f.length,followers:_.length,following:b.length};return a.jsxs("div",{className:"space-y-6 pb-16 md:pb-0",children:[a.jsx(zv,{profile:O,isCurrentUser:i,onAvatarChange:D,onCoverChange:V,onEditProfile:()=>$(!0),uploadingAvatar:w,uploadingCover:k,stats:xe}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{className:`pb-4 px-1 ${m==="profile"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>p("profile"),children:"Profile"}),a.jsx("button",{className:`pb-4 px-1 ${m==="posts"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>p("posts"),children:"Posts"}),a.jsx("button",{className:`pb-4 px-1 ${m==="connections"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>p("connections"),children:"Connections"})]})}),d&&a.jsx("div",{className:`mb-4 p-3 rounded-md text-sm ${d.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:d.text}),m==="profile"&&a.jsx("div",{className:"space-y-6",children:i&&T?a.jsx(Fv,{profile:O,onProfileChange:E,onSubmit:I,onCancel:()=>$(!1),updating:c,spiritualGiftOptions:G,ministryInterestOptions:oe}):a.jsx(Dv,{profile:O})}),m==="posts"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Posts"}),i&&a.jsx(ge,{to:"/create-post",className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"New Post"})]}),a.jsx(Vv,{posts:f,loading:S,isCurrentUser:i})]}),m==="connections"&&a.jsx(Uv,{followers:_,following:b,currentUserId:n,onFollowToggle:W,activeConnectionTab:A,onTabChange:F})]})};ne.extend(pc);const qv=({isOpen:e,onClose:t,onAdd:r,categoryOptions:n,isGlobal:s})=>{const[i,o]=y.useState(""),[l,c]=y.useState(""),[u,d]=y.useState(!1),[h,m]=y.useState(!1),[p,w]=y.useState([]),[v,k]=y.useState(!1),g=async f=>{if(f.preventDefault(),!i.trim()){alert("Please enter a title for your prayer request");return}k(!0);try{await r({title:i,description:l,isAnonymous:u,isPrivate:h,categories:p,isGlobal:s}),o(""),c(""),d(!1),m(!1),w([]),t()}catch(x){console.error("Error adding prayer request:",x),alert("Failed to add prayer request")}finally{k(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s?"New Global Prayer Request":"New Church Prayer Request"})}),a.jsxs("form",{onSubmit:g,className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),a.jsx("input",{type:"text",id:"title",value:i,onChange:f=>o(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:"What would you like prayer for?",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Details"}),a.jsx("textarea",{id:"description",value:l,onChange:f=>c(f.target.value),rows:"4",className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:"Share more details about your prayer request..."})]}),a.jsx("div",{children:a.jsx(Va,{name:"categories",label:"Categories",tags:p,onTagsChange:w,options:n,allowCustom:!0,placeholder:"Add categories..."})}),a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"isAnonymous",type:"checkbox",checked:u,onChange:f=>d(f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("label",{htmlFor:"isAnonymous",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Post anonymously"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"isPrivate",type:"checkbox",checked:h,onChange:f=>m(f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("label",{htmlFor:"isPrivate",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Private (only visible to church staff)"})]})]}),a.jsxs("div",{className:"mt-5 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[v?a.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-t-2 border-white rounded-full"}):a.jsx(Le,{className:"mr-2"}),"Add Prayer Request"]})]})]})]})}):null},Wv=({categories:e,activeCategories:t,onChange:r})=>{const[n,s]=y.useState(!1),i=o=>{t.includes(o)?r(t.filter(l=>l!==o)):r([...t,o])};return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>s(!n),className:"inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(y0,{className:"mr-1"}),"Categories"]}),n&&a.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-10 border border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"py-1",children:e.length===0?a.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No categories found"}):e.map(o=>a.jsxs("div",{className:"px-4 py-2 flex items-center",children:[a.jsx("input",{type:"checkbox",id:`category-${o}`,checked:t.includes(o),onChange:()=>i(o),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),a.jsx("label",{htmlFor:`category-${o}`,className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:o})]},o))})})]})},Gv=({prayer:e,onPray:t,currentUserId:r,categoryOptions:n})=>(e.user_id,a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:e.title}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.is_anonymous?"Anonymous":e.author_name||"User","  ",ne(e.created_at).fromNow()]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.church_name?`From: ${e.church_name}`:e.is_global?"Global":""})]})}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:e.description})}),e.categories&&e.categories.length>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:e.categories.map(s=>a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",children:s},s))}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>t(e.id),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Mt,{className:"mr-1"}),"I Prayed"]}),a.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-sm",children:[a.jsx(ks,{className:"text-red-500 mr-1"}),a.jsxs("span",{children:[e.prayer_count||0," prayers"]})]})]})]})})),Yv=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[s,i]=y.useState("all"),[o,l]=y.useState("church"),[c,u]=y.useState(!1),[d,h]=y.useState([]),[m,p]=y.useState([]),[w,v]=y.useState({}),{user:k}=We(),g=["Health","Family","Financial","Spiritual","Guidance","Healing","Relationships","Work","Education","Emotional"];y.useEffect(()=>{f()},[o]);const f=async()=>{try{n(!0);const{data:_}=await M.from("profiles").select("church_id").eq("id",k==null?void 0:k.id).single();let N;o==="church"&&(_!=null&&_.church_id)?N=M.from("prayer_requests").select("*, churches:church_id(name)").eq("church_id",_.church_id).eq("is_private",!1).order("created_at",{ascending:!1}):N=M.from("prayer_requests").select("*, churches:church_id(name)").eq("is_global",!0).eq("is_private",!1).order("created_at",{ascending:!1});const{data:S,error:C}=await N;if(C)throw C;console.log("Prayer requests data:",S);const T=S.map(E=>{var R;return{...E,church_name:(R=E.churches)==null?void 0:R.name}}),$=new Set;T.forEach(E=>{E.categories&&Array.isArray(E.categories)&&E.categories.forEach(R=>$.add(R))});const A=[...new Set(T.filter(E=>!E.is_anonymous).map(E=>E.user_id))];console.log("User IDs to fetch profiles for:",A);let F={...w};if(A.length>0){const{data:E,error:R}=await M.from("profiles").select("id, full_name, avatar_url").in("id",A);console.log("Fetched profiles:",E),console.log("Profiles error:",R),!R&&E&&(E.forEach(U=>{F[U.id]=U}),console.log("Profile map created:",F),v(F))}const O=T.map(E=>{const R=!E.is_anonymous&&F[E.user_id]?F[E.user_id].full_name:null;return console.log(`Prayer ${E.id} author info:`,{is_anonymous:E.is_anonymous,user_id:E.user_id,profile_found:!!F[E.user_id],author_name:R}),{...E,author_name:R}});t(O||[]),h([...$])}catch(_){console.error("Error fetching prayer requests:",_)}finally{n(!1)}},x=async _=>{try{const{data:N}=await M.from("profiles").select("church_id, full_name").eq("id",k==null?void 0:k.id).single();console.log("Profile data for new prayer request:",N);const{data:S,error:C}=await M.from("prayer_requests").insert({title:_.title,description:_.description,is_anonymous:_.isAnonymous,is_private:_.isPrivate,categories:_.categories,church_id:_.isGlobal?null:N==null?void 0:N.church_id,is_global:_.isGlobal,user_id:k==null?void 0:k.id,prayer_count:0}).select().single();if(C)throw C;if(console.log("New prayer request created:",S),!_.isPrivate){const{error:T}=await M.from("posts").insert({content:`${_.title}

${_.description}`,user_id:k==null?void 0:k.id,is_anonymous:_.isAnonymous,post_type:"prayer",church_id:_.isGlobal?null:N==null?void 0:N.church_id,is_global:_.isGlobal,categories:_.categories});T&&console.error("Error creating feed post for prayer request:",T)}if(S&&!_.isAnonymous&&(N!=null&&N.full_name)){const T={...S,author_name:N.full_name};console.log("Adding new prayer with author to state:",T),(o==="church"&&!_.isGlobal||o==="global"&&_.isGlobal)&&t($=>[T,...$])}else console.log("Refetching all prayers after creation"),f()}catch(N){throw console.error("Error adding prayer request:",N),N}},b=async _=>{try{const{data:N,error:S}=await M.from("prayer_requests").select("prayer_count").eq("id",_).single();if(S)throw S;const{error:C}=await M.from("prayer_requests").update({prayer_count:(N.prayer_count||0)+1}).eq("id",_);if(C)throw C;t(T=>T.map($=>$.id===_?{...$,prayer_count:($.prayer_count||0)+1}:$))}catch(N){console.error("Error recording prayer:",N),alert("Failed to record your prayer")}},P=e.filter(_=>s==="all"?!0:s==="mine"?_.user_id===(k==null?void 0:k.id):s==="others"?_.user_id!==(k==null?void 0:k.id):!0).filter(_=>m.length===0?!0:_.categories&&Array.isArray(_.categories)?_.categories.some(N=>m.includes(N)):!1);return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Prayer Requests"}),a.jsx("button",{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new prayer request",children:a.jsx(Le,{})})]}),a.jsx("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 mb-2",children:a.jsxs("nav",{className:"-mb-px flex space-x-4",children:[a.jsxs("button",{onClick:()=>l("church"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center ${o==="church"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[a.jsx(Mr,{className:"mr-2"})," My Church"]}),a.jsxs("button",{onClick:()=>l("global"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center ${o==="global"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[a.jsx(rv,{className:"mr-2"})," Global"]})]})}),a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("nav",{className:"-mb-px flex space-x-4",children:[a.jsx("button",{onClick:()=>i("all"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"All Requests"}),a.jsx("button",{onClick:()=>i("mine"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="mine"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"My Requests"}),a.jsx("button",{onClick:()=>i("others"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="others"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"Others' Requests"})]}),d.length>0&&a.jsx(Wv,{categories:d,activeCategories:m,onChange:p})]}),r&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!r&&a.jsx("div",{className:"space-y-4",children:P.length===0?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 text-center",children:[a.jsx(Mt,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No prayer requests found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s!=="all"?`No ${s==="mine"?"personal":"others"} prayer requests found.`:m.length>0?"No prayer requests matching selected categories.":o==="church"?"Share your first prayer request with your church community.":"No global prayer requests found."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Le,{className:"-ml-1 mr-2 h-5 w-5"}),"Add ",o==="global"?"Global":"Church"," Prayer Request"]})})]}):P.map(_=>a.jsx(Gv,{prayer:_,onPray:b,currentUserId:k==null?void 0:k.id},_.id))}),a.jsx(qv,{isOpen:c,onClose:()=>u(!1),onAdd:x,categoryOptions:[...new Set([...g,...d])],isGlobal:o==="global"})]})},Kv=()=>{const{user:e}=We(),t=Ie(),[r,n]=y.useState(""),[s,i]=y.useState([]),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[m,p]=y.useState(null),[w,v]=y.useState(!1),[k,g]=y.useState({name:"",location:"",description:""}),[f,x]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const C=localStorage.getItem("userChurchId");if(C){const{data:A}=await M.from("churches").select("name").eq("id",C).single();if(A){t("/dashboard");return}}const{data:T,error:$}=await M.from("profiles").select("church_id").eq("id",e.id).single();!$&&(T!=null&&T.church_id)&&(localStorage.setItem("userChurchId",T.church_id),t("/dashboard"))}catch(C){console.error("Error checking user church:",C)}})()},[e,t]);const b=async S=>{if(S.preventDefault(),!!r.trim()){l(!0),p(null);try{let C=M.from("churches").select("*");r&&(C=C.ilike("name",`%${r}%`));const{data:T,error:$}=await C;if($)throw $;i(T||[]),u(!0)}catch(C){console.error("Error searching churches:",C),p("Failed to search churches. Please try again.")}finally{l(!1)}}},P=async S=>{h(!0),p(null);try{const{data:C,error:T}=await M.from("churches").select("name").eq("id",S).single();if(T)throw T;const{error:$}=await M.from("profiles").update({church_id:S}).eq("id",e.id);if($)throw $;localStorage.setItem("userChurchId",S),p(null),alert(`You've successfully joined ${C.name}!`),t("/dashboard")}catch(C){console.error("Error joining church:",C),p("Failed to join church. Please try again."),h(!1)}},_=S=>{const{name:C,value:T}=S.target;g({...k,[C]:T})},N=async S=>{if(S.preventDefault(),!k.name){p("Church name is required");return}x(!0),p(null);try{const C="admin",{data:T,error:$}=await M.from("churches").insert([{name:k.name,location:k.location,description:k.description,created_by:e.id}]).select().single();if($)throw $;const{error:A}=await M.from("profiles").update({church_id:T.id,user_role:C}).eq("id",e.id);if(A)throw A;localStorage.setItem("userChurchId",T.id),p(null),alert(`You've successfully created ${T.name}!`),t("/dashboard")}catch(C){console.error("Error creating church:",C),p("Failed to create church. Please try again.")}finally{x(!1)}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Find or Create a Church"}),m&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:m}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Search for your church"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Enter the name of your church to find and join it"})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("form",{onSubmit:b,className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(bi,{className:"text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Search by church name",className:"pl-10 pr-4 py-2 border rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:r,onChange:S=>n(S.target.value)})]}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center justify-center",disabled:o,children:o?a.jsx(ol,{className:"animate-spin"}):"Search"})]}),c&&a.jsx("div",{className:"mt-4",children:s.length===0?a.jsxs("div",{className:"text-center py-6",children:[a.jsx(Mr,{className:"text-gray-400 text-4xl mx-auto mb-2"}),a.jsxs("p",{className:"text-gray-600",children:['No churches found matching "',r,'"']}),a.jsxs("button",{className:"mt-4 text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center mx-auto",onClick:()=>v(!0),children:[a.jsx(Le,{className:"mr-1"}),"Create your church"]})]}):a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-gray-700 mb-2",children:[s.length," ",s.length===1?"church":"churches"," found"]}),a.jsx("div",{className:"space-y-3",children:s.map(S=>a.jsxs("div",{className:"border rounded-md p-3 hover:bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:S.name}),S.location&&a.jsx("div",{className:"text-gray-600 text-sm",children:S.location})]}),a.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",onClick:()=>P(S.id),disabled:d,children:d?"Joining...":"Join"})]}),S.description&&a.jsx("div",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:S.description})]},S.id))}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Don't see your church?"}),a.jsxs("button",{className:"mt-1 text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center mx-auto",onClick:()=>v(!0),children:[a.jsx(Le,{className:"mr-1"}),"Create your church"]})]})]})})]})]}),w&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Create a new church"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Fill out the form below to create your church"})]}),a.jsx("div",{className:"p-4",children:a.jsx("form",{onSubmit:N,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Church Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",name:"name",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:k.name,onChange:_,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),a.jsx("input",{type:"text",id:"location",name:"location",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:k.location,onChange:_,placeholder:"City, State or full address"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",rows:"3",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:k.description,onChange:_,placeholder:"Brief description of your church"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:()=>v(!1),children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center",disabled:f,children:f?a.jsxs(a.Fragment,{children:[a.jsx(ol,{className:"animate-spin mr-2"}),"Creating..."]}):"Create Church"})]})]})})})]})]})},bn=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Ha={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#","C#":"C#","D#":"D#","F#":"F#","G#":"G#","A#":"A#"},Jv=(e,t)=>{if(!e||t===0)return e;const r=/^([A-G][#b]?)(.*)$/,n=e.match(r);if(!n)return e;const[s,i,o]=n;let l=i;Ha[i]&&(l=Ha[i]);const c=bn.indexOf(l);if(c===-1)return e;const u=(c+t)%12,d=u<0?u+12:u;return bn[d]+o},Qv=(e,t)=>{const r=e.replace("m",""),n=t.replace("m",""),s=Ha[r]||r,i=Ha[n]||n,o=bn.indexOf(s),l=bn.indexOf(i);return o===-1||l===-1?0:(l-o+12)%12},Xv=(e,t,r)=>{const n=Qv(t,r);return Jv(e,n)},id=(e,t,r)=>{if(!e||!t||!r||t===r)return e;const n=/\b([A-G][#b]?(?:m|maj|min|aug|dim|sus|add|maj7|m7|7|9|11|13|6|5)?(?:\/[A-G][#b]?)?)\b/g;return e.replace(n,s=>Xv(s,t,r))},j0=()=>{const e=bn.map(r=>r),t=bn.map(r=>`${r}m`);return[...e,...t]},_0=async e=>{try{const{data:t,error:r}=await M.from("songs").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Song not found");t.tags=[];try{const{error:n}=await M.from("song_tag_assignments").select("id").limit(1);if(!n){const{data:s}=await M.from("song_tag_assignments").select("tag_id").eq("song_id",e);if(s&&s.length>0){const i=s.map(l=>l.tag_id),{data:o}=await M.from("song_tags").select("id, name, color").in("id",i);o&&o.length>0&&(t.tags=o)}}}catch(n){console.warn("Could not fetch song tags:",n)}return t}catch(t){throw console.error("Error in fetchSongById:",t),t}},Zv=async e=>{var c;const{data:t}=await M.auth.getUser();if(!((c=t==null?void 0:t.user)!=null&&c.id))throw new Error("User not authenticated");const{data:r,error:n}=await M.from("profiles").select("church_id").eq("id",t.user.id).single();if(n)throw n;if(!r.church_id)throw new Error("User not associated with a church");const s={...e,church_id:r.church_id,created_by:t.user.id},i=s.tags||[];delete s.tags;const{data:o,error:l}=await M.from("songs").insert(s).select().single();if(l)throw l;if(i.length>0&&o)try{await N0(o.id,i)}catch(u){console.warn("Could not assign tags to song:",u)}return o},e2=async(e,t)=>{const r=t.tags||[],n={...t};delete n.tags;const{data:s,error:i}=await M.from("songs").update(n).eq("id",e).select().single();if(i)throw i;if(r.length>0)try{const{error:o}=await M.from("song_tag_assignments").select("id").limit(1);o||(await M.from("song_tag_assignments").delete().eq("song_id",e),await N0(e,r))}catch(o){console.warn("Could not update song tags:",o)}return s},t2=async e=>{const{error:t}=await M.from("songs").delete().eq("id",e);if(t)throw t},r2=async()=>{try{const{error:e}=await M.from("song_tags").select("id").limit(1);if(e)return[];const{data:t,error:r}=await M.from("song_tags").select("*").order("name",{ascending:!0});if(r)throw r;return t||[]}catch(e){return console.warn("Could not fetch song tags:",e),[]}},n2=async e=>{var o;const{data:t}=await M.auth.getUser();if(!((o=t==null?void 0:t.user)!=null&&o.id))throw new Error("User not authenticated");const{data:r,error:n}=await M.from("profiles").select("church_id").eq("id",t.user.id).single();if(n)throw n;const{data:s,error:i}=await M.from("song_tags").insert({...e,church_id:r.church_id,created_by:t.user.id}).select().single();if(i)throw i;return s},N0=async(e,t)=>{const n=t.map(i=>typeof i=="object"?i.id:i).map(i=>({song_id:e,tag_id:i}));if(n.length===0)return;const{error:s}=await M.from("song_tag_assignments").insert(n);if(s)throw s},s2=async(e,t,r)=>{const n=["chord-charts","sheet-music","backing-tracks"];if(!n.includes(r))throw new Error(`Invalid attachment type. Must be one of: ${n.join(", ")}`);const{data:s,error:i}=await M.from("songs").select("church_id").eq("id",e).single();if(i)throw i;const o=s.church_id,l=`${Date.now()}_${t.name}`,c=`${o}/${e}/${r}/${l}`,{data:u,error:d}=await M.storage.from("song-attachments").upload(c,t,{cacheControl:"3600",upsert:!1});if(d)throw d;const{data:h}=M.storage.from("song-attachments").getPublicUrl(u.path);return h.publicUrl},od=async e=>{try{const{data:t,error:r}=await M.from("songs").select("church_id").eq("id",e).single();if(r)throw r;const s=`${t.church_id}/${e}`,i=["chord-charts","sheet-music","backing-tracks"],o={};for(const l of i){const c=`${s}/${l}`,{data:u,error:d}=await M.storage.from("song-attachments").list(c);if(d&&d.message!=="The resource was not found")throw d;o[l]=(u||[]).map(h=>({...h,url:M.storage.from("song-attachments").getPublicUrl(`${c}/${h.name}`).data.publicUrl}))}return o}catch(t){return console.warn("Could not list song attachments:",t),{"chord-charts":[],"sheet-music":[],"backing-tracks":[]}}},a2=async(e,t,r)=>{try{const{data:n,error:s}=await M.from("songs").select("church_id").eq("id",e).single();if(s)throw s;const o=`${n.church_id}/${e}/${t}/${r}`,{error:l}=await M.storage.from("song-attachments").remove([o]);if(l)throw l}catch(n){throw console.warn("Could not delete song attachment:",n),n}};var S0={exports:{}},i2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",o2=i2,l2=o2;function C0(){}function E0(){}E0.resetWarningCache=C0;var c2=function(){function e(n,s,i,o,l,c){if(c!==l2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:E0,resetWarningCache:C0};return r.PropTypes=r,r};S0.exports=c2();var u2=S0.exports;const ts=qa(u2),yc=({content:e,className:t=""})=>{if(!e)return null;const r=d2(e);return a.jsx("div",{className:`font-mono text-sm ${t}`,children:r.map((n,s)=>a.jsxs("div",{className:"chord-section mb-6",children:[n.title&&a.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-600 dark:text-blue-400",children:n.title}),a.jsx("div",{className:"chord-section-content pl-0 md:pl-2",children:n.lines.map((i,o)=>i.type==="chord-lyric-pair"?a.jsxs("div",{className:"mb-1",children:[a.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-bold whitespace-pre",children:i.chords}),a.jsx("div",{className:"whitespace-pre text-gray-900 dark:text-gray-100",children:i.lyrics})]},`line-${s}-${o}`):i.content.trim()===""?a.jsx("div",{className:"h-4"},`line-${s}-${o}`):a.jsx("div",{className:"whitespace-pre mb-1 text-gray-900 dark:text-gray-100",children:i.content},`line-${s}-${o}`))})]},`section-${s}`))})};function d2(e){if(!e)return[];const t=e.split(`
`),r=[];let n={lines:[]};for(let s=0;s<t.length;s++){const i=t[s],o=s+1<t.length?t[s+1]:null,l=i.trim().match(/^\[(.*?)\]$/);if(l){n.lines.length>0&&r.push(n),n={title:l[0],lines:[]};continue}ld(i)&&o&&!ld(o)?(n.lines.push({type:"chord-lyric-pair",chords:i,lyrics:o}),s++):n.lines.push({type:"text",content:i})}return n.lines.length>0&&r.push(n),r}function ld(e){if(!e||e.trim()===""||!/\s{2,}/.test(e))return!1;const r=/^[A-G][#b]?(m|maj|min|aug|dim|sus|add|2|4|5|6|7|9|11|13|-|\+|\/)*/,s=e.split(/\s{2,}/).filter(o=>o.trim()!=="");return s.length===0?!1:s.filter(o=>r.test(o.trim())).length>=s.length/2}yc.propTypes={content:ts.string,className:ts.string};const P0=({selectedTags:e=[],onChange:t,readOnly:r=!1})=>{const[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null),[u,d]=y.useState(!1),[h,m]=y.useState(""),[p,w]=y.useState("#3B82F6");y.useEffect(()=>{(async()=>{try{o(!0);const f=await r2();s(f)}catch(f){console.error("Error loading tags:",f),c("Failed to load tags")}finally{o(!1)}})()},[]);const v=g=>{if(r)return;const f=e.some(b=>b.id===g.id);let x;f?x=e.filter(b=>b.id!==g.id):x=[...e,g],t(x)},k=async g=>{if(g.preventDefault(),!!h.trim())try{o(!0);const f=await n2({name:h.trim(),color:p});s([...n,f]),m(""),w("#3B82F6"),d(!1),t([...e,f])}catch(f){console.error("Error creating tag:",f),c("Failed to create tag")}finally{o(!1)}};return i&&n.length===0?a.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading tags..."}):l&&n.length===0?a.jsx("div",{className:"text-red-500 dark:text-red-400 text-sm",children:l}):a.jsxs("div",{className:"song-tags",children:[e.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1 flex items-center",children:[a.jsx(y0,{className:"mr-1"})," Selected Tags:"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(g=>a.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${g.color}20`,color:g.color,borderColor:g.color},children:[g.name,!r&&a.jsx("button",{type:"button",onClick:()=>v(g),className:"ml-1 focus:outline-none",children:a.jsx(_s,{size:10})})]},g.id))})]}),!r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Available Tags:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.map(g=>{const f=e.some(x=>x.id===g.id);return a.jsx("button",{type:"button",onClick:()=>v(g),className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-colors ${f?"bg-opacity-80 text-white":"bg-opacity-20"}`,style:{backgroundColor:f?g.color:`${g.color}20`,color:f?"white":g.color},children:g.name},g.id)}),a.jsxs("button",{type:"button",onClick:()=>d(!0),className:`inline-flex items-center px-2 py-1 border border-dashed border-gray-300 dark:border-gray-600 
                         rounded-full text-xs font-medium text-gray-500 dark:text-gray-400 
                         hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500`,children:[a.jsx(Le,{className:"mr-1",size:10}),"New Tag"]})]})]}),u&&a.jsxs("div",{className:"mt-4 p-3 border border-gray-200 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-700",children:[a.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Create New Tag"}),a.jsxs("form",{onSubmit:k,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagName",className:"block text-xs text-gray-500 dark:text-gray-400",children:"Tag Name"}),a.jsx("input",{type:"text",id:"tagName",value:h,onChange:g=>m(g.target.value),className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-1 px-2 
                             bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                             text-sm focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"Enter tag name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagColor",className:"block text-xs text-gray-500 dark:text-gray-400",children:"Tag Color"}),a.jsxs("div",{className:"flex mt-1",children:[a.jsx("input",{type:"color",id:"tagColor",value:p,onChange:g=>w(g.target.value),className:"h-8 w-8 border border-gray-300 dark:border-gray-600 rounded"}),a.jsx("input",{type:"text",value:p,onChange:g=>w(g.target.value),className:`ml-2 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-1 px-2 
                               bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                               text-sm focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"#HEX"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:`px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm 
                             text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800
                             hover:bg-gray-50 dark:hover:bg-gray-700 
                             focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400`,children:"Cancel"}),a.jsx("button",{type:"submit",className:`px-3 py-1 border border-transparent rounded-md text-sm text-white 
                             bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600
                             focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400`,disabled:i||!h.trim(),children:"Create"})]})]})]})]})]})},h2=({songId:e,readOnly:t=!1})=>{const[r,n]=y.useState({"chord-charts":[],"sheet-music":[],"backing-tracks":[],"youtube-links":[]}),[s,i]=y.useState(!0),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,h]=y.useState(""),[m,p]=y.useState(!1),w=y.useRef(null),[v,k]=y.useState(null),g=[{value:"chord-charts",label:"Chord Charts",icon:a.jsx(In,{})},{value:"sheet-music",label:"Sheet Music",icon:a.jsx(lt,{})},{value:"backing-tracks",label:"Backing Tracks",icon:a.jsx(Zu,{})},{value:"youtube-links",label:"YouTube Links",icon:a.jsx(to,{})}];y.useEffect(()=>{(async()=>{if(e)try{i(!0);const T=await od(e);try{const{data:$,error:A}=await M.from("song_youtube_links").select("*").eq("song_id",e);if(A&&A.code==="42P01")console.log("YouTube links table not yet created"),n({...T,"youtube-links":[]});else{if(A)throw A;{const O={...T,"youtube-links":($||[]).map(E=>({name:E.title||"YouTube Video",url:E.url,id:E.id}))};n(O)}}}catch($){console.log("Could not fetch YouTube links:",$),n({...T,"youtube-links":[]})}}catch(T){console.error("Error loading attachments:",T),u("Failed to load attachments")}finally{i(!1)}})()},[e]);const f=async C=>{const T=C.target.files[0];if(!(!T||!v))try{l(!0),await s2(e,T,v);const $=await od(e);n(A=>({...A,...$})),w.current&&(w.current.value="")}catch($){console.error("Error uploading file:",$),u("Failed to upload file")}finally{l(!1),k(null)}},x=C=>{if(!C)return null;const T=[/(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([^&\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtu\.be\/([^\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([^\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/v\/([^\s?]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/shorts\/([^\s?]+)/];for(const $ of T){const A=C.match($);if(A&&A[1])return A[1].substring(0,11)}return null},b=async()=>{if(!d.trim())return;const C=x(d);if(!C){u("Invalid YouTube URL");return}try{l(!0);let T="YouTube Video";try{const O=await(await fetch(`https://www.youtube.com/oembed?url=${d}&format=json`)).json();O.title&&(T=O.title)}catch{console.log("Could not fetch video title, using default")}const{data:$,error:A}=await M.from("song_youtube_links").insert({song_id:e,url:d,title:T,video_id:C}).select().single();if(A)throw A;n(F=>({...F,"youtube-links":[...F["youtube-links"]||[],{name:T,url:d,id:$.id}]})),h(""),p(!1)}catch(T){console.error("Error adding YouTube link:",T),u("Failed to add YouTube link")}finally{l(!1)}},P=async(C,T,$)=>{try{if(C==="youtube-links"){const{error:A}=await M.from("song_youtube_links").delete().eq("id",$);if(A)throw A}else await a2(e,C,T);n(A=>({...A,[C]:A[C].filter(F=>C==="youtube-links"?F.id!==$:F.name!==T)}))}catch(A){console.error("Error deleting item:",A),u("Failed to delete item")}},_=C=>{if(C==="youtube-links"){p(!0);return}k(C),setTimeout(()=>{w.current&&w.current.click()},100)},N=C=>{switch(C.split(".").pop().toLowerCase()){case"pdf":return a.jsx(In,{className:"text-red-500"});case"doc":case"docx":return a.jsx(In,{className:"text-blue-500"});case"png":case"jpg":case"jpeg":return a.jsx(In,{className:"text-green-500"});case"mp3":case"wav":case"m4a":return a.jsx(Zu,{className:"text-purple-500"});default:return a.jsx(In,{className:"text-gray-500"})}};if(s)return a.jsx("div",{className:"text-gray-500 text-sm",children:"Loading attachments..."});const S=Object.values(r).some(C=>C&&C.length>0);return a.jsxs("div",{className:"song-attachments",children:[c&&a.jsx("div",{className:"mb-3 text-sm text-red-500",children:c}),a.jsx("input",{type:"file",ref:w,className:"hidden",onChange:f,disabled:o}),m&&a.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(to,{className:"text-red-600 mr-2"}),a.jsx("span",{className:"font-medium text-sm",children:"Add YouTube Link"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Paste YouTube URL here",value:d,onChange:C=>h(C.target.value),className:"flex-1 p-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:b,disabled:o||!d.trim(),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Add"}),a.jsx("button",{onClick:()=>{p(!1),h("")},className:"px-3 py-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 text-sm rounded-md hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"})]})]})]}),!t&&!m&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Add Attachment:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(C=>a.jsxs("button",{type:"button",onClick:()=>_(C.value),disabled:o,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o&&v===C.value?a.jsx("span",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-gray-500 rounded-full"}):a.jsxs(a.Fragment,{children:[C.icon,a.jsx(Le,{className:"ml-1 mr-1",size:10})]}),C.label]},C.value))})]}),S?a.jsx("div",{className:"space-y-4",children:g.map(C=>{const T=r[C.value]||[];return T.length===0?null:a.jsxs("div",{className:"attachment-section",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[C.icon,a.jsx("span",{className:"ml-2",children:C.label}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",T.length,")"]})]}),a.jsx("ul",{className:"divide-y divide-gray-200 border border-gray-200 rounded-md overflow-hidden",children:T.map($=>a.jsxs("li",{className:"px-4 py-3 bg-white flex items-center justify-between hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center",children:[C.value==="youtube-links"?a.jsx(to,{className:"text-red-600"}):N($.name),a.jsx("span",{className:"ml-2 text-sm text-gray-600 truncate max-w-xs",children:$.name})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",title:C.value==="youtube-links"?"View on YouTube":"Download",children:C.value==="youtube-links"?a.jsx(sv,{}):a.jsx(K1,{})}),!t&&a.jsx("button",{type:"button",onClick:()=>P(C.value,$.name,$.id),className:"text-red-500 hover:text-red-700",title:"Delete",children:a.jsx(gc,{})})]})]},$.id||$.name))})]},C.value)})}):a.jsxs("div",{className:"text-sm text-gray-500 p-4 bg-gray-50 text-center rounded-md",children:["No attachments available for this song.",!t&&a.jsx("p",{className:"mt-1 text-xs",children:"Use the buttons above to add chord charts, sheet music, backing tracks, or YouTube links."})]})]})},f2=({lyrics:e})=>{const r=(n=>{var l;if(!n)return[];const s=/\[(.*?)\]/g,i=n.split(s).filter(c=>c.trim()),o=[];for(let c=0;c<i.length;c+=2){const u=i[c],d=((l=i[c+1])==null?void 0:l.trim())||"";u&&d?o.push({title:u,content:d}):u&&!d&&o.push({title:"",content:u})}return o})(e);return a.jsx("div",{className:"lyrics-display",children:r.length>0?a.jsx("div",{className:"space-y-6",children:r.map((n,s)=>a.jsxs("div",{className:"verse-container",children:[n.title&&a.jsxs("h3",{className:"text-lg font-semibold mb-2 text-blue-600 dark:text-blue-400",children:["[",n.title,"]"]}),a.jsx("div",{className:"verse-content whitespace-pre-line text-gray-800 dark:text-gray-200 leading-relaxed",children:n.content})]},s))}):a.jsx("div",{className:"text-gray-500 dark:text-gray-400 italic",children:"No lyrics available for this song."})})},m2=()=>{const{id:e}=Ts(),t=Ie(),r=Rr(),n=new URLSearchParams(r.search),s=n.get("serviceKey"),i=n.get("eventId"),o=n.get("eventSongId");n.get("notes");const l=n.get("isDone"),[c,u]=y.useState(null),[d,h]=y.useState(null),[m,p]=y.useState(!0),[w,v]=y.useState(""),[k,g]=y.useState(""),[f,x]=y.useState(null),[b,P]=y.useState("song"),[_,N]=y.useState(!1),[S,C]=y.useState(!1),[T,$]=y.useState(!1),[A,F]=y.useState(!1),[O,E]=y.useState(l==="true"),[R,U]=y.useState("text-base"),j=j0(),L=[{value:"text-sm",label:"Small"},{value:"text-base",label:"Medium"},{value:"text-lg",label:"Large"},{value:"text-xl",label:"Extra Large"}];y.useEffect(()=>{(async()=>{if(i)try{const{data:G,error:oe}=await M.from("events").select("title, start_time").eq("id",i).single();if(oe)throw oe;h(G)}catch(G){console.error("Error fetching service details:",G)}})()},[i]),y.useEffect(()=>{(async()=>{try{p(!0);const G=await _0(e);u(G);const oe=s||G.default_key||"C";if(v(oe),s&&G.default_key&&s!==G.default_key&&G.chords){const Q=G.chords.split(`
`).map(B=>id(B,G.default_key,s)).join(`
`);g(Q)}else g(G.chords||"")}catch(G){console.error("Error fetching song:",G),x("Could not load the song. Please try again.")}finally{p(!1)}})()},[e,s]);const I=W=>{if(!c||!c.chords)return;const G=c.default_key||"C";if(W===G){g(c.chords),v(W);return}const xe=c.chords.split(`
`).map(Q=>id(Q,G,W)).join(`
`);g(xe),v(W)},D=()=>{t(i?`/services/${i}`:"/songs")},V=async()=>{if(!(!o||!i))try{F(!0),E(W=>!W);try{const{error:W}=await M.from("event_songs").update({is_done:!O}).eq("id",o);if(W)throw console.log("Could not update is_done in database:",W),W;t(`/services/${i}`)}catch(W){throw console.log("Error updating is_done field:",W),E(G=>!G),W}}catch(W){console.error("Error updating song status:",W),alert("Failed to update song status. Please try again.")}finally{F(!1)}};return m?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("p",{className:"text-red-500 dark:text-red-400",children:f}),a.jsxs("button",{onClick:D,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",children:[a.jsx(ma,{className:"mr-2"})," Back"]})]}):c?a.jsxs("div",{className:"pb-[100px] flex flex-col min-h-screen bg-white dark:bg-gray-800 px-4 md:px-6",children:[a.jsx("div",{className:"py-2 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("button",{onClick:D,className:"text-gray-600 dark:text-gray-400 flex items-center","aria-label":"Back",children:[a.jsx(ma,{className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Back to Service"})]})}),a.jsx("div",{className:"py-3 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.title})}),d&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900 py-2 border-b border-blue-100 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx(F1,{className:"text-blue-500 mr-2"}),a.jsx("span",{className:"dark:text-blue-200",children:"Viewing for service: "}),a.jsx("span",{className:"text-blue-600 dark:text-blue-400 ml-1 font-medium",children:d.title})]})}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"flex",children:[a.jsxs("button",{onClick:()=>P("song"),className:`flex-1 py-2 text-center border-b-2 font-medium text-sm ${b==="song"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400"}`,"aria-pressed":b==="song",children:[a.jsx(lt,{className:"inline mr-1"}),"Song"]}),a.jsxs("button",{onClick:()=>P("attachments"),className:`flex-1 py-2 text-center border-b-2 font-medium text-sm ${b==="attachments"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400"}`,"aria-pressed":b==="attachments",children:[a.jsx(lv,{className:"inline mr-1"}),"Attachments"]})]})}),b==="song"?a.jsxs("div",{className:"flex-1",children:[c.chords&&a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center py-3",children:[a.jsxs("h2",{className:"text-base font-medium flex items-center text-gray-900 dark:text-white",children:[a.jsx(lt,{className:"mr-2"}),"Chord Chart"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>$(!T),className:"text-blue-600 dark:text-blue-400 text-sm","aria-expanded":T,children:[a.jsx(tv,{className:"inline mr-1"}),"Font Size"]}),a.jsxs("button",{onClick:()=>C(!S),className:"text-blue-600 dark:text-blue-400 text-sm","aria-expanded":S,children:[a.jsx(Q1,{className:"inline mr-1"}),"Transpose"]})]})]}),T&&a.jsx("div",{className:"py-3 bg-gray-50 dark:bg-gray-700 border-y border-gray-200 dark:border-gray-600",children:a.jsx("div",{className:"flex justify-between items-center px-2",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fontSizeSelect",className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Font Size:"}),a.jsx("select",{id:"fontSizeSelect",value:R,onChange:W=>U(W.target.value),className:"w-32 px-1 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:L.map(W=>a.jsx("option",{value:W.value,children:W.label},W.value))})]})})}),S&&a.jsx("div",{className:"py-3 bg-gray-50 dark:bg-gray-700 border-y border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex justify-between items-center px-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"keySelect",className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Transpose to:"}),a.jsx("select",{id:"keySelect",value:w,onChange:W=>I(W.target.value),className:"w-20 px-1 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:j.map(W=>a.jsx("option",{value:W,children:W},W))})]}),a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{children:["Original Key: ",a.jsx("span",{className:"font-medium",children:c.default_key||"Not set"})]}),w!==c.default_key&&a.jsx("button",{onClick:()=>I(c.default_key),className:"text-blue-600 dark:text-blue-400 underline",children:"Reset"})]})]})}),a.jsx("div",{className:"py-3 overflow-x-auto whitespace-nowrap",children:a.jsx(yc,{content:k,className:R})})]}),c.lyrics&&a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-base font-medium py-3 border-b border-gray-200 dark:border-gray-700 dark:text-white",children:"Lyrics"}),a.jsx("div",{className:`py-3 ${R}`,children:a.jsx(f2,{lyrics:c.lyrics})})]}),a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("button",{onClick:()=>N(!_),className:"flex w-full items-center justify-between py-3 text-left text-gray-900 dark:text-gray-100","aria-expanded":_,children:[a.jsx("span",{className:"font-medium",children:"Song Information"}),_?a.jsx(q1,{}):a.jsx(B1,{})]}),_&&a.jsxs("div",{className:"py-3 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Artist"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.artist||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Original Key"}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.default_key||"Not specified"})]}),c.tempo&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Tempo"}),a.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[c.tempo," BPM"]})]})]}),c.tags&&c.tags.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Tags"}),a.jsx(P0,{selectedTags:c.tags,readOnly:!0})]})]})]}),c.notes&&a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-base font-medium py-3 border-b border-gray-200 dark:border-gray-700 dark:text-white",children:"Notes"}),a.jsx("div",{className:`py-3 break-words text-gray-900 dark:text-gray-100 ${R}`,children:c.notes.split(`
`).map((W,G)=>a.jsx("div",{children:W||a.jsx("br",{})},G))})]})]}):a.jsx("div",{className:"py-3",children:a.jsx(h2,{songId:e})}),i&&o&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 flex justify-center z-20 mb-4",children:a.jsxs("button",{onClick:V,disabled:A,className:`flex items-center justify-center px-4 py-2 
                      ${O?"bg-gray-500 dark:bg-gray-600 hover:bg-gray-600 dark:hover:bg-gray-700":"bg-green-500 dark:bg-green-600 hover:bg-green-600 dark:hover:bg-green-700"} 
                      text-white font-medium rounded-full shadow-md transition-colors text-sm`,children:[a.jsx(un,{className:"mr-2"}),"Mark as ",O?"Not Done":"Done"]})})]}):a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("p",{className:"dark:text-white",children:"Song not found."}),a.jsxs("button",{onClick:D,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600",children:[a.jsx(ma,{className:"mr-2"})," Back"]})]})},T0=({value:e,onChange:t,rows:r=10})=>{const[n,s]=y.useState(!1),[i,o]=y.useState(!1),l=["C","G","D","A","E","F","Am","Em","Dm","G7","C7","D7","Cmaj7","Fmaj7","Gsus4"],c=`[Verse 1]
C        G        Am       F
Here are some example chords above lyrics
C             G              Am  F
Words should be aligned with the chords above

[Chorus]
F         G       C
This is how a chorus might look
F         G       Am      G
With more chords and lyrics here

[Bridge]
Am   G   F   C
Simple progression
`,u=m=>{if(!e)t(m+"  ");else{const p=document.getElementById("chord-editor").selectionStart,w=e.substring(0,p),v=e.substring(p);t(w+m+"  "+v),o(!0)}},d=m=>{const p=`
[${m}]
`;if(!e)t(p);else{const w=document.getElementById("chord-editor").selectionStart,v=e.substring(0,w),k=e.substring(w);t(v+p+k)}o(!0)},h=m=>{t(m.target.value),i||o(!0)};return y.useEffect(()=>{},[e,i]),a.jsxs("div",{className:"chord-editor-container",children:[a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Quick Insert Chords:"}),a.jsxs("button",{type:"button",onClick:()=>s(!n),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm flex items-center",children:[a.jsx(cv,{className:"mr-1"}),n?"Hide Help":"Show Help"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:l.map(m=>a.jsx("button",{type:"button",onClick:()=>u(m),className:`inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 
                       text-xs font-medium rounded shadow-sm text-gray-700 dark:text-gray-200 
                       bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 
                       focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400`,children:m},m))})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add Section:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:["Verse","Chorus","Bridge","Intro","Outro","Pre-Chorus"].map(m=>a.jsxs("button",{type:"button",onClick:()=>d(m),className:`inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 
                       text-xs font-medium rounded shadow-sm text-gray-700 dark:text-gray-200 
                       bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 
                       focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400`,children:[a.jsx(Le,{className:"mr-1 h-3 w-3"}),m]},m))})]}),n&&a.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-800 rounded-md",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Chord Chart Formatting Help"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mb-2",children:"Format your chord chart by placing chords above lyrics with spaces between them. Use section markers like [Verse] or [Chorus] to organize your song."}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded text-xs font-mono",children:a.jsx("pre",{className:"whitespace-pre-wrap text-gray-900 dark:text-gray-200",children:c})}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-2",children:"Tip: Make sure to keep chord names short (C, G, Am, etc.) and use spaces to align them with lyrics."})]}),a.jsx("textarea",{id:"chord-editor",value:e,onChange:h,rows:r,className:`block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                 bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 
                 sm:text-sm font-mono`,placeholder:"Enter chords here..."}),a.jsx("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Use monospaced formatting for chords. Press Tab for indentation."})]})};T0.propTypes={value:ts.string,onChange:ts.func.isRequired,rows:ts.number};const cd=()=>{const e=Ie(),{id:t}=Ts(),r=!!t,[n,s]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState({title:"",artist:"",default_key:"C",tempo:"",lyrics:"",chords:"",notes:"",tags:[]}),[h,m]=y.useState(!1),[p,w]=y.useState({}),v=j0();y.useEffect(()=>{r&&k()},[t]);const k=async()=>{try{s(!0);const S=await _0(t);d({title:S.title||"",artist:S.artist||"",default_key:S.default_key||"C",tempo:S.tempo||"",lyrics:S.lyrics||"",chords:S.chords||"",notes:S.notes||"",tags:S.tags||[]}),S.chords&&m(!0)}catch(S){console.error("Error fetching song:",S),c("Could not load the song. Please try again.")}finally{s(!1)}},g=()=>{const S={};return u.title.trim()||(S.title="Song title is required"),u.chords&&!u.default_key&&(S.default_key="Default key is required when providing chords"),u.tempo&&(isNaN(u.tempo)||u.tempo<20||u.tempo>300)&&(S.tempo="Tempo must be a number between 20 and 300"),w(S),Object.keys(S).length===0},f=S=>{const{name:C,value:T}=S.target;d($=>({...$,[C]:T})),p[C]&&w($=>{const A={...$};return delete A[C],A})},x=S=>{d(C=>({...C,chords:S}))},b=S=>{d(C=>({...C,tags:S}))},P=()=>{m(!h)},_=async S=>{if(S.preventDefault(),!!g())try{o(!0);const C={...u,tempo:u.tempo===""?null:Number(u.tempo)};if(r)await e2(t,C),e(`/songs/${t}`);else{const T=await Zv(C);e(`/songs/${T.id}`)}}catch(C){console.error("Error saving song:",C),c(C.message||"Failed to save the song. Please try again.")}finally{o(!1)}},N=async()=>{if(!(!r||!window.confirm("Are you sure you want to delete this song? This action cannot be undone.")))try{o(!0),await t2(t),e("/songs")}catch(C){console.error("Error deleting song:",C),c("Failed to delete the song. Please try again.")}finally{o(!1)}};return n?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>e(r?`/songs/${t}`:"/songs"),className:"inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300",children:[a.jsx(ma,{className:"mr-1"})," Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-center flex-1 mx-4 text-gray-900 dark:text-white",children:r?"Edit Song":"Add New Song"}),r&&a.jsx("button",{onClick:N,className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Delete song",disabled:i,children:a.jsx(gc,{size:20})})]}),l&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900 border-l-4 border-red-500 dark:border-red-700 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(X1,{className:"h-5 w-5 text-red-400 dark:text-red-300"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:l})})]})}),a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:f,className:`mt-1 block w-full border ${p.title?"border-red-300 dark:border-red-700":"border-gray-300 dark:border-gray-600"} 
                          rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                          focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`}),p.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.title})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"artist",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Artist / Composer"}),a.jsx("input",{type:"text",id:"artist",name:"artist",value:u.artist,onChange:f,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                         focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"default_key",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Default Key ",u.chords&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"default_key",name:"default_key",value:u.default_key,onChange:f,className:`mt-1 block w-full pl-3 pr-10 py-2 text-base border 
                          ${p.default_key?"border-red-300 dark:border-red-700":"border-gray-300 dark:border-gray-600"} 
                          bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                          focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm rounded-md`,children:[a.jsx("option",{value:"",children:"Select a key"}),v.map(S=>a.jsx("option",{value:S,children:S},S))]}),p.default_key&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.default_key})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tempo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tempo (BPM)"}),a.jsx("input",{type:"number",id:"tempo",name:"tempo",value:u.tempo,onChange:f,min:"20",max:"300",className:`mt-1 block w-full border 
                          ${p.tempo?"border-red-300 dark:border-red-700":"border-gray-300 dark:border-gray-600"} 
                          rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                          focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`}),p.tempo?a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.tempo}):a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Typical range: 60-180 BPM"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Tags"}),a.jsx(P0,{selectedTags:u.tags,onChange:b})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Chord Chart"}),u.chords&&a.jsx("button",{type:"button",onClick:P,className:"inline-flex items-center text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:h?a.jsxs(a.Fragment,{children:[a.jsx(Z1,{className:"mr-1"})," Hide Preview"]}):a.jsxs(a.Fragment,{children:[a.jsx(hc,{className:"mr-1"})," Show Preview"]})})]}),h&&u.chords&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Preview:"}),a.jsx(yc,{content:u.chords})]}),a.jsx(T0,{value:u.chords,onChange:x,rows:10})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Lyrics"}),a.jsx("textarea",{id:"lyrics",name:"lyrics",value:u.lyrics,onChange:f,rows:15,className:`block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                     bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                     focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`,placeholder:"Enter lyrics here..."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Tip: Include section markers like [Verse], [Chorus], etc. for better organization."})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Additional Notes"}),a.jsx("textarea",{id:"notes",name:"notes",value:u.notes,onChange:f,rows:4,className:`block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 
                     bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                     focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`,placeholder:"Enter any additional notes, performance instructions, etc."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Include notes about song structure, performance tips, or arrangement details."})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:i,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md 
                     shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50`,children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(p0,{className:"mr-2"})," Save Song"]})})})]})]})},g2=()=>{const{id:e}=Ts(),t=Ie(),[r,n]=y.useState(null),[s,i]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(""),[d,h]=y.useState(""),[m,p]=y.useState(!1),[w,v]=y.useState(null),[k,g]=y.useState(new Set);y.useEffect(()=>{(async()=>{try{l(!0);const{data:N,error:S}=await M.from("events").select("*").eq("id",e).single();if(S)throw S;if(n(N),N!=null&&N.church_id){const{data:$,error:A}=await M.from("churches").select("name").eq("id",N.church_id).single();!A&&$&&u($.name)}if(N!=null&&N.team_id){const{data:$,error:A}=await M.from("worship_teams").select("name").eq("id",N.team_id).single();!A&&$&&h($.name)}const{data:C,error:T}=await M.from("event_songs").select(`
            id,
            song_order,
            key,
            notes,
            is_done,
            songs (
              id,
              title,
              artist,
              default_key
            )
          `).eq("event_id",e).order("song_order");if(T)throw console.error("Error fetching songs:",T),T;if(console.log("Songs data:",C),C){try{if(C.some(A=>"is_done"in A)){const A=new Set(C.filter(F=>F.is_done).map(F=>F.id));g(A)}}catch{console.log("No is_done field yet, using local state only")}i(C)}else i([])}catch(N){console.error("Error fetching service details:",N)}finally{l(!1)}})()},[e]);const f=_=>{if(!w)try{const N=s.find(C=>C.id===_);if(!N)return;const S=k.has(_);t(`/songs/${N.songs.id}?serviceKey=${encodeURIComponent(N.key||N.songs.default_key)}&eventId=${e}&eventSongId=${_}&notes=${encodeURIComponent(N.notes||"")}&isDone=${S}`)}catch(N){console.error("Error navigating to song details:",N),alert("Could not navigate to song details. Please try again.")}},x=()=>{t(`/services/edit/${e}`)},b=async(_,N)=>{N&&N.stopPropagation();try{v(_),g(S=>{const C=new Set(S);return C.has(_)?C.delete(_):C.add(_),C});try{const{error:S}=await M.from("event_songs").update({is_done:!k.has(_)}).eq("id",_);S&&console.log("Could not update is_done in database:",S)}catch(S){console.log("Error updating is_done field:",S)}}catch(S){console.error("Error updating song status:",S),alert("Failed to update song status. Please try again."),g(C=>{const T=new Set(C);return T.has(_)?T.delete(_):T.add(_),T})}finally{v(null)}},P=async()=>{if(window.confirm("Are you sure you want to delete this service? This action cannot be undone."))try{p(!0);const{error:_}=await M.from("event_songs").delete().eq("event_id",e);if(_)throw _;const{error:N}=await M.from("events").delete().eq("id",e);if(N)throw N;t("/calendar")}catch(_){console.error("Error deleting service:",_),alert("Error deleting service. Please try again.")}finally{p(!1)}};return o?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?a.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:x,className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 rounded-full",title:"Edit service",children:a.jsx(vi,{size:20})}),a.jsx("button",{onClick:P,disabled:m,className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 rounded-full disabled:opacity-50",title:"Delete service",children:a.jsx(gc,{size:20})})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"space-y-4",children:[r.description&&a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.description}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(mr,{className:"mt-1 text-gray-500 dark:text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:ne(r.start_time).format("dddd, MMMM D, YYYY")}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:[a.jsx(W1,{className:"mr-1"}),ne(r.start_time).format("h:mm A")," - ",ne(r.end_time).format("h:mm A")]})]})]}),r.location&&a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(av,{className:"mt-1 text-gray-500 dark:text-gray-400"}),a.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:r.location})]}),c&&a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Mr,{className:"mt-1 text-gray-500 dark:text-gray-400"}),a.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:c})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[a.jsx(lt,{className:"mr-2"})," Service Songs"]}),s.length===0?a.jsx("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No songs have been added to this service."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 text-sm text-gray-600 dark:text-gray-400",children:["Total songs: ",s.length]}),a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map(_=>{var S,C;const N=k.has(_.id);return a.jsx("li",{className:`py-4 ${N?"bg-green-800 dark:bg-green-950 bg-opacity-10 dark:bg-opacity-20":""} hover:bg-gray-50 dark:hover:bg-gray-700`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"h-8 w-8 flex items-center justify-center bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-full mr-3 font-medium",children:_.song_order}),a.jsx("div",{className:"flex-grow cursor-pointer",onClick:()=>f(_.id),children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`font-medium ${N?"line-through text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-gray-100"}`,children:((S=_.songs)==null?void 0:S.title)||"Unknown Title"}),((C=_.songs)==null?void 0:C.artist)&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:_.songs.artist}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[_.key&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",children:["Key: ",_.key]}),_.notes&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300",children:["Notes: ",_.notes]}),N&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300",children:[a.jsx(un,{className:"mr-1",size:10})," Completed"]})]})]}),a.jsx("button",{onClick:T=>b(_.id,T),disabled:w===_.id,className:`ml-2 p-2 rounded-full ${N?"text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900":"text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"} 
                            ${w===_.id?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,title:N?"Mark as incomplete":"Mark as complete",children:w===_.id?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-green-500 rounded-full border-t-transparent"}):N?a.jsx(U1,{size:20}):a.jsx(mv,{size:20})})]})})]})},_.id)})})]})]})]}):a.jsxs("div",{className:"max-w-3xl mx-auto p-4 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Service Not Found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The service you're looking for doesn't exist or has been deleted."}),a.jsx("button",{onClick:()=>t("/calendar"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Calendar"})]})},p2=({selectedSongs:e=[],onSongsChange:t,churchId:r})=>{const[n,s]=y.useState([]),[i,o]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(!1);y.useEffect(()=>{(async()=>{if(r)try{o(!0);const{data:x,error:b}=await M.from("songs").select("id, title, artist, default_key").eq("church_id",r).order("title");if(b)throw b;s(x||[])}catch(x){console.error("Error fetching songs:",x)}finally{o(!1)}})()},[r]);const h=n.filter(f=>!e.some(x=>x.songId===f.id)),m=h.filter(f=>f.title.toLowerCase().includes(l.toLowerCase())||f.artist&&f.artist.toLowerCase().includes(l.toLowerCase())),p=f=>{const x={songId:f.id,title:f.title,artist:f.artist,key:f.default_key||"",notes:"",order:e.length+1};t([...e,x]),c(""),d(!1)},w=f=>{const x=[...e];x.splice(f,1);const b=x.map((P,_)=>({...P,order:_+1}));t(b)},v=(f,x)=>{if(x==="up"&&f===0||x==="down"&&f===e.length-1)return;const b=[...e],P=x==="up"?f-1:f+1;[b[f],b[P]]=[b[P],b[f]];const _=b.map((N,S)=>({...N,order:S+1}));t(_)},k=(f,x)=>{const b=[...e];b[f].key=x,t(b)},g=(f,x)=>{const b=[...e];b[f].notes=x,t(b)};return a.jsxs("div",{children:[e.length>0?a.jsx("div",{className:"space-y-4 mb-4",children:e.map((f,x)=>a.jsxs("div",{className:"border rounded-md p-3 bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-medium dark:text-white",children:[x+1,". ",f.title]}),f.artist&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.artist})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{type:"button",onClick:()=>v(x,"up"),disabled:x===0,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-30 disabled:cursor-not-allowed dark:text-gray-300",title:"Move up",children:a.jsx(I1,{size:14})}),a.jsx("button",{type:"button",onClick:()=>v(x,"down"),disabled:x===e.length-1,className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-30 disabled:cursor-not-allowed dark:text-gray-300",title:"Move down",children:a.jsx(M1,{size:14})}),a.jsx("button",{type:"button",onClick:()=>w(x),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 text-red-500 dark:text-red-400",title:"Remove song",children:a.jsx(_s,{size:14})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Performance Key"}),a.jsx("input",{type:"text",value:f.key||"",onChange:b=>k(x,b.target.value),className:`mt-1 block w-full text-sm border border-gray-300 dark:border-gray-600 
                               rounded-md shadow-sm p-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                               focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Performance Notes"}),a.jsx("input",{type:"text",value:f.notes||"",onChange:b=>g(x,b.target.value),className:`mt-1 block w-full text-sm border border-gray-300 dark:border-gray-600 
                               rounded-md shadow-sm p-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                               focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,placeholder:"Notes"})]})]})]},x))}):a.jsxs("div",{className:"text-center py-8 border-2 border-dashed rounded-md mb-4 dark:border-gray-600",children:[a.jsx(lt,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No songs added"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Add songs to your service from your song library"})]}),u?a.jsxs("div",{className:"space-y-3 border p-3 rounded-md dark:border-gray-600 dark:bg-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-medium dark:text-white",children:"Add Song to Service"}),a.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:a.jsx(_s,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(bi,{className:"text-gray-400 dark:text-gray-500"})}),a.jsx("input",{type:"text",className:`block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 
                         rounded-md leading-5 bg-white dark:bg-gray-800 text-gray-900 dark:text-white
                         placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-blue-500 
                         focus:border-blue-500 dark:focus:border-blue-400 sm:text-sm`,placeholder:"Search songs by title or artist...",value:l,onChange:f=>c(f.target.value)})]}),i&&a.jsx("div",{className:"flex justify-center py-5",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}),!i&&a.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md dark:border-gray-600",children:m.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:h.length===0?"No songs available. Add songs to your library first.":"No songs matching your search criteria."}):a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:m.map(f=>a.jsx("li",{className:"px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",onClick:()=>p(f),children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium dark:text-white",children:f.title}),f.artist&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.artist})]})},f.id))})})]}):a.jsxs("button",{type:"button",onClick:()=>d(!0),disabled:!r,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md 
                     shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50`,children:[a.jsx(Le,{className:"mr-2"})," Add Song"]})]})},ud=()=>{const e=Ie(),{id:t}=Ts(),{user:r}=We(),n=!!t,[s,i]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState([]),[d,h]=y.useState([]),[m,p]=y.useState([]),[w,v]=y.useState([]),[k,g]=y.useState(null),f=ne(),x=`Service - ${f.format("MMMM D, YYYY")}`,b=f.format("YYYY-MM-DD"),[P,_]=y.useState({title:x,description:"",start_time:`${b}T09:00`,end_time:`${b}T10:30`,service_date:b,location:"Church",church_id:"",team_id:null,event_type:"service",created_by:r==null?void 0:r.id});y.useEffect(()=>{if(P.service_date&&!n){const $=ne(P.service_date);_(A=>({...A,title:`Service - ${$.format("MMMM D, YYYY")}`,start_time:`${P.service_date}T09:00`,end_time:`${P.service_date}T10:30`}))}},[P.service_date,n]),y.useEffect(()=>{(async()=>{try{i(!0);const{data:A,error:F}=await M.from("churches").select("id, name");if(F)throw F;if(u(A||[]),P.church_id){const{data:O,error:E}=await M.from("worship_teams").select("id, name, description").eq("church_id",P.church_id);if(E)throw E;h(O||[])}if(n){const{data:O,error:E}=await M.from("events").select("*").eq("id",t).single();if(E)throw E;if(O){const R=ne(O.start_time).format("YYYY-MM-DD");_({...O,start_time:ne(O.start_time).format("YYYY-MM-DDTHH:mm"),end_time:ne(O.end_time).format("YYYY-MM-DDTHH:mm"),service_date:R});const{data:U,error:j}=await M.from("event_songs").select("id, song_id, song_order, key, notes, songs(id, title, artist, default_key)").eq("event_id",t).order("song_order");if(j)throw j;U&&p(U.map(L=>{var I,D,V;return{id:L.id,songId:L.song_id,order:L.song_order,key:L.key||((I=L.songs)==null?void 0:I.default_key)||"",notes:L.notes||"",title:((D=L.songs)==null?void 0:D.title)||"",artist:((V=L.songs)==null?void 0:V.artist)||""}}))}}}catch(A){console.error("Error fetching data:",A),g("Error loading data. Please try again.")}finally{i(!1)}})()},[t,n,r]);const N=$=>{const{name:A,value:F}=$.target;if(A==="church_id"||A==="team_id"){const O=F===""?null:F;_(E=>({...E,[A]:O})),A==="church_id"&&(S(O),_(E=>({...E,team_id:null})))}else _(O=>({...O,[A]:F}))},S=async $=>{if(!$){h([]);return}try{const{data:A,error:F}=await M.from("worship_teams").select("id, name, description").eq("church_id",$);if(F)throw F;h(A||[])}catch(A){console.error("Error fetching teams:",A),g("Error loading teams. Please try again.")}},C=$=>{p($)},T=async $=>{$.preventDefault();try{if(l(!0),g(null),!P.church_id){g("Please select a church"),l(!1);return}const A={...P,start_time:ne(P.start_time).toISOString(),end_time:ne(P.end_time).toISOString(),created_by:r.id,team_id:P.team_id||null,church_id:P.church_id||null};delete A.service_date,console.log("Submitting service data:",A);let F=t;if(n){const{error:O}=await M.from("events").update(A).eq("id",t);if(O)throw console.error("Error updating service:",O),O}else{const{data:O,error:E}=await M.from("events").insert(A).select("id").single();if(E)throw console.error("Error creating service:",E),E;if(!O||!O.id)throw new Error("No service ID returned from creation");F=O.id}if(F){console.log("Service ID for songs and team members:",F);try{if(n){const{error:O}=await M.from("event_songs").delete().eq("event_id",F);if(O)throw console.error("Error deleting songs:",O),O}if(m.length>0){const O=m.map(R=>({event_id:F,song_id:R.songId,song_order:R.order,key:R.key||null,notes:R.notes||null}));console.log("Inserting songs:",O);const{error:E}=await M.from("event_songs").insert(O);if(E)throw console.error("Error inserting songs:",E),E}}catch(O){throw console.error("Error handling songs:",O),O}if(w.length>0){if(console.log("Saving team member assignments:",w),n){const O=w.filter(E=>E.id).map(E=>E.id);if(O.length>0){const{error:E}=await M.from("service_team_members").delete().eq("event_id",F).not("id","in",`(${O.join(",")})`);if(E)throw console.error("Error deleting team members:",E),E}else{const{error:E}=await M.from("service_team_members").delete().eq("event_id",F);if(E)throw console.error("Error deleting all team members:",E),E}}for(const O of w)if(O.id){const{error:E}=await M.from("service_team_members").update({role:O.role,notes:O.notes,is_confirmed:O.isConfirmed}).eq("id",O.id);if(E)throw console.error("Error updating team member:",E),E}else{const E={event_id:F,user_id:O.userId,role:O.role,notes:O.notes,is_confirmed:O.isConfirmed||!1};console.log("Adding new team member to service:",E);const{error:R}=await M.from("service_team_members").insert(E);if(R)throw console.error("Error adding team member:",R),R}}}else throw new Error("Failed to get a valid service ID");e("/calendar")}catch(A){console.error("Error saving service:",A),g(`Error saving service: ${A.message||"Please try again"}`)}finally{l(!1)}};return s?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"max-w-3xl mx-auto p-4 mb-20",children:[" ",a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:n?"Edit Service":"Create New Service"}),k&&a.jsx("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded mb-4",children:a.jsx("p",{children:k})}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4 mb-4",children:[" ",a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[" ",a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[a.jsx(mr,{className:"inline mr-1"})," Service Date*"]}),a.jsx("input",{type:"date",id:"service_date",name:"service_date",required:!0,value:P.service_date,onChange:N,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                         focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"church_id",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Church*"}),a.jsxs("select",{id:"church_id",name:"church_id",required:!0,value:P.church_id||"",onChange:N,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 
                         bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                         focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`,children:[a.jsx("option",{value:"",children:"Select Church"}),c.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Service Title*"}),a.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:P.title,onChange:N,className:`mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 
                       bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                       focus:ring-blue-500 focus:border-blue-500 dark:focus:border-blue-400`})]})]}),P.church_id&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-4 mb-8",children:[" ",a.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Service Songs"}),a.jsx(p2,{selectedSongs:m,onSongsChange:C,churchId:P.church_id})]}),a.jsxs("div",{className:"flex justify-center mb-16",children:[" ",a.jsx("button",{type:"submit",disabled:o,className:`px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white 
                     bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600 
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
                     disabled:opacity-50`,children:o?"Saving...":n?"Update Service":"Create Service"})]})]})]})};function dd(){return a.jsx(L1,{children:a.jsx(O1,{children:a.jsx($1,{children:a.jsx(iy,{children:a.jsxs(Xp,{children:[a.jsx(ce,{path:"/login",element:a.jsx(bv,{})}),a.jsx(ce,{path:"/register",element:a.jsx(kv,{})}),a.jsx(ce,{path:"/forgot-password",element:a.jsx(jv,{})}),a.jsx(ce,{path:"/reset-password",element:a.jsx(_v,{})}),a.jsx(ce,{path:"/verify-email",element:a.jsx(Nv,{})}),a.jsx(ce,{path:"/auth/callback",element:a.jsx(Sv,{})}),a.jsxs(ce,{element:a.jsx(wv,{}),children:[a.jsx(ce,{path:"/dashboard",element:a.jsx(Rv,{})}),a.jsx(ce,{path:"/calendar",element:a.jsx(Av,{})}),a.jsx(ce,{path:"/songs",element:a.jsx(Mv,{})}),a.jsx(ce,{path:"/songs/:id",element:a.jsx(m2,{})}),a.jsx(ce,{path:"/songs/new",element:a.jsx(cd,{})}),a.jsx(ce,{path:"/songs/edit/:id",element:a.jsx(cd,{})}),a.jsx(ce,{path:"/services",element:a.jsx(Iv,{})}),a.jsx(ce,{path:"/services/:id",element:a.jsx(g2,{})}),a.jsx(ce,{path:"/services/new",element:a.jsx(ud,{})}),a.jsx(ce,{path:"/services/edit/:id",element:a.jsx(ud,{})}),a.jsx(ce,{path:"/profile",element:a.jsx(Hv,{})}),a.jsx(ce,{path:"/prayer-requests",element:a.jsx(Yv,{})}),a.jsx(ce,{path:"/churches",element:a.jsx(Kv,{})})]}),a.jsx(ce,{path:"/",element:a.jsx(Rf,{to:"/dashboard",replace:!0})}),a.jsx(ce,{path:"*",element:a.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white dark:bg-gray-900 dark:text-white",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"404 - Page Not Found"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"The page you're looking for doesn't exist."}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"The server is configured with a public base URL of '/church-connect/'"}),a.jsx("button",{onClick:()=>window.location.pathname=Yt(window.location.pathname.replace(/^\//,"")),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go to Correct URL"}),a.jsx("button",{onClick:()=>window.history.back(),className:"block w-full mt-2 px-4 py-2 bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:"Go Back"})]})]})})]})})})})})}i0()?(console.log("Auth parameters detected in URL, redirecting to proper auth callback..."),Ju()||ga.createRoot(document.getElementById("root")).render(a.jsx(bt.StrictMode,{children:a.jsx(dd,{})}))):Ju()||ga.createRoot(document.getElementById("root")).render(a.jsx(bt.StrictMode,{children:a.jsx(dd,{})}));export{qa as g};
